import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,d as t,a as s,e as a,b as n,w as r,r as d,o as c}from"./app-CSZVkQgG.js";const p={};function h(m,e){const i=d("RouteLink");return c(),l("div",null,[e[3]||(e[3]=t("p",null,"The life cycle of YASCML is very simple. After the user launches the game, the startup process can be divided into the following phases:",-1)),e[4]||(e[4]=t("h2",{id:"_1-initialize-loader",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#_1-initialize-loader"},[t("span",null,"1. Initialize Loader")])],-1)),e[5]||(e[5]=t("p",null,[a("The loader is loaded immediately after the game launches. During this phase, the loader reads the mod files, checks mod dependencies, sorts the mods according to their load order, and finally stores them in "),t("code",null,"window.YASCML.mods"),a(".")],-1)),t("p",null,[e[1]||(e[1]=a("If a ",-1)),n(i,{to:"/reference/hot-patching.html"},{default:r(()=>[...e[0]||(e[0]=[a("hot-patching tool",-1)])]),_:1}),e[2]||(e[2]=a(" is defined in the game, the loader will run the hot-patching tool first, and then load itself.",-1))]),e[6]||(e[6]=s('<h2 id="_2-load-mod-styles-and-preload-scripts" tabindex="-1"><a class="header-anchor" href="#_2-load-mod-styles-and-preload-scripts"><span>2. Load Mod Styles and Preload Scripts</span></a></h2><p>The styles and preload scripts defined by mods are executed sequentially during this phase. Typically, mods will:</p><ul><li>Expose the mod API</li><li>Hook into APIs exposed by the engine</li><li>Preload necessary game data (e.g., passage data)</li></ul><h2 id="_3-initialize-sugarcube-engine" tabindex="-1"><a class="header-anchor" href="#_3-initialize-sugarcube-engine"><span>3. Initialize SugarCube Engine</span></a></h2><p>The SugarCube engine is initialized during this phase. Note that before this phase, the global object <code>window.SugarCube</code> has already been defined and can be accessed.</p><h2 id="_4-load-postload-scripts" tabindex="-1"><a class="header-anchor" href="#_4-load-postload-scripts"><span>4. Load Postload Scripts</span></a></h2><p>The postload scripts defined by mods are executed sequentially during this phase. Typically, mods will:</p><ul><li>Clean up mod files</li><li>Add custom DOM elements to the game (e.g., an entry for the mod manager)</li><li>Hook into game data that can be processed asynchronously (e.g., image resources)</li></ul><h2 id="_5-end-of-life-cycle" tabindex="-1"><a class="header-anchor" href="#_5-end-of-life-cycle"><span>5. End of Life Cycle</span></a></h2><p>The loader has completed all its tasks. At this stage, the game is ready to play.</p>',10))])}const y=o(p,[["render",h]]),g=JSON.parse('{"path":"/reference/life-cycle.html","title":"Life Cycle","lang":"en-US","frontmatter":{"icon":"recycle","title":"Life Cycle","description":"The life cycle of YASCML is very simple. After the user launches the game, the startup process can be divided into the following phases: 1. Initialize Loader The loader is loade...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Life Cycle\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-10-18T09:56:55.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Misa Liu\\",\\"url\\":\\"https://misaliu.top\\"}]}"],["meta",{"property":"og:url","content":"https://yascml.github.io/reference/life-cycle.html"}],["meta",{"property":"og:site_name","content":"YASCML"}],["meta",{"property":"og:title","content":"Life Cycle"}],["meta",{"property":"og:description","content":"The life cycle of YASCML is very simple. After the user launches the game, the startup process can be divided into the following phases: 1. Initialize Loader The loader is loade..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-18T09:56:55.000Z"}],["meta",{"property":"article:modified_time","content":"2025-10-18T09:56:55.000Z"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://yascml.github.io/zh/reference/life-cycle.html"}]]},"git":{"createdTime":1760781415000,"updatedTime":1760781415000,"contributors":[{"name":"Misa Liu","username":"","email":"misaliu@misaliu.top","commits":1}]},"readingTime":{"minutes":0.78,"words":234},"filePathRelative":"reference/life-cycle.md","autoDesc":true}');export{y as comp,g as data};
