(function(ft){typeof define=="function"&&define.amd?define(ft):ft()})((function(){"use strict";var Ii=Object.defineProperty,xi=Object.defineProperties;var Oi=Object.getOwnPropertyDescriptors;var wn=Object.getOwnPropertySymbols;var Li=Object.prototype.hasOwnProperty,Ti=Object.prototype.propertyIsEnumerable;var vn=(ft,lt,ut)=>lt in ft?Ii(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:ut}):ft[lt]=ut,nr=(ft,lt)=>{for(var ut in lt||(lt={}))Li.call(lt,ut)&&vn(ft,ut,lt[ut]);if(wn)for(var ut of wn(lt))Ti.call(lt,ut)&&vn(ft,ut,lt[ut]);return ft},yn=(ft,lt)=>xi(ft,Oi(lt));var Et=(ft,lt,ut)=>new Promise((It,Ot)=>{var Bt=Rt=>{try{Ct(ut.next(Rt))}catch(Lt){Ot(Lt)}},Ft=Rt=>{try{Ct(ut.throw(Rt))}catch(Lt){Ot(Lt)}},Ct=Rt=>Rt.done?It(Rt.value):Promise.resolve(Rt.value).then(Bt,Ft);Ct((ut=ut.apply(ft,lt)).next())});const ft="yascml-settings",lt=(v=>v?JSON.parse(v):{disabledMods:[],saveMode:!1,logInfo:!1})(localStorage.getItem(ft)),ut=()=>localStorage.setItem(ft,JSON.stringify(lt)),It=v=>lt[v],Ot=(v,R)=>(lt[v]=R,ut());ut();const Bt=["log","info","warn","error"],Ft=new Map,Ct=[];for(const v of Bt)Ft.set(v,Reflect.getOwnPropertyDescriptor(window.console,v).value);const Rt=()=>lt.logInfo||window.YASCMLConfig&&window.YASCMLConfig.logInfo,Lt=(v,...R)=>{if(R.length===0)return;const e=Ft.get(v);if(e&&!(!Rt()&&v==="info"))return Ct.unshift({time:performance.now(),level:v,data:R}),Ct.length>200&&(Ct.length=200),Reflect.apply(e,window.console,R)};for(const v of Bt){const R=v!=="log"?v:"info";Reflect.defineProperty(window.console,v,{value(...e){return Lt(R,...e)}})}const bn=(v,R,e)=>{const _=v[R];if(typeof _!="function")throw new Error("Unsupported target");if(!Reflect.defineProperty(v,`$${String(R)}`,{configurable:!1,enumerable:!1,value:_}))throw new Error("Cannot define property on this target, is this target protected?");if(!Reflect.defineProperty(v,R,nr({configurable:!0,enumerable:!0},e)))throw new Error("Cannot relace property on this target, is this target unconfigurable?")},En=()=>{const v=document.createElement("div");v.id="yascml-loading",v.innerText="YASCML v1.0.0 Loading...",v.style=["display: block","position: fixed","top: 0","left: 0","padding: 0.25em","font-family: 'Courier New', 'Lucida Console', 'Monaco', 'Consolas', 'DejaVu Sans Mono', 'Liberation Mono', monospace","font-size: 1em","color: #eee","text-align: left","z-index: 500000","animation-name: _YASCML_BLINK_","animation-duration: 1s","animation-iteration-count: infinite","animation-timing-function: linear","animation-direction: alternate","box-sizing: border-box"].join(";"),document.body.appendChild(v)},mt=v=>{const R=document.querySelector("div#yascml-loading");R&&(R.innerText=`[YASCML v1.0.0] ${v}`)},Ut=()=>{document.querySelector("div#yascml-loading")&&document.body.removeChild(document.querySelector("div#yascml-loading"))};function dt(v){return new Promise((R,e)=>{v.oncomplete=v.onsuccess=()=>R(v.result),v.onabort=v.onerror=()=>e(v.error)})}function Jt(v,R){let e;const _=()=>{if(e)return e;const h=indexedDB.open(v);return h.onupgradeneeded=()=>h.result.createObjectStore(R),e=dt(h),e.then(d=>{d.onclose=()=>e=void 0},()=>{}),e};return(h,d)=>_().then(l=>d(l.transaction(R,h).objectStore(R)))}let Qt;function _t(){return Qt||(Qt=Jt("keyval-store","keyval")),Qt}function ir(v,R=_t()){return R("readonly",e=>dt(e.get(v)))}function sr(v,R,e=_t()){return e("readwrite",_=>(_.put(R,v),dt(_.transaction)))}function Sn(v,R=_t()){return R("readwrite",e=>(v.forEach(_=>e.put(_[1],_[0])),dt(e.transaction)))}function An(v,R=_t()){return R("readonly",e=>Promise.all(v.map(_=>dt(e.get(_)))))}function ar(v,R,e=_t()){return e("readwrite",_=>new Promise((h,d)=>{_.get(v).onsuccess=function(){try{_.put(R(this.result),v),h(dt(_.transaction))}catch(l){d(l)}}}))}function or(v,R=_t()){return R("readwrite",e=>(e.delete(v),dt(e.transaction)))}function Rn(v,R=_t()){return R("readwrite",e=>(v.forEach(_=>e.delete(_)),dt(e.transaction)))}function kn(v=_t()){return v("readwrite",R=>(R.clear(),dt(R.transaction)))}function te(v,R){return v.openCursor().onsuccess=function(){this.result&&(R(this.result),this.result.continue())},dt(v.transaction)}function lr(v=_t()){return v("readonly",R=>{if(R.getAllKeys)return dt(R.getAllKeys());const e=[];return te(R,_=>e.push(_.key)).then(()=>e)})}function Cn(v=_t()){return v("readonly",R=>{if(R.getAll)return dt(R.getAll());const e=[];return te(R,_=>e.push(_.value)).then(()=>e)})}function In(v=_t()){return v("readonly",R=>{if(R.getAll&&R.getAllKeys)return Promise.all([dt(R.getAllKeys()),dt(R.getAll())]).then(([_,h])=>_.map((d,l)=>[d,h[l]]));const e=[];return v("readonly",_=>te(_,h=>e.push([h.key,h.value])).then(()=>e))})}const xn=Object.freeze(Object.defineProperty({__proto__:null,clear:kn,createStore:Jt,del:or,delMany:Rn,entries:In,get:ir,getMany:An,keys:lr,promisifyRequest:dt,set:sr,setMany:Sn,update:ar,values:Cn},Symbol.toStringTag,{value:"Module"}));var Mt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ur(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}function jt(v){throw new Error('Could not dynamically require "'+v+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ee={exports:{}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */var cr;function On(){return cr||(cr=1,(function(v,R){(function(e){v.exports=e()})(function(){return(function e(_,h,d){function l(g,u){if(!h[g]){if(!_[g]){var y=typeof jt=="function"&&jt;if(!u&&y)return y(g,!0);if(a)return a(g,!0);var E=new Error("Cannot find module '"+g+"'");throw E.code="MODULE_NOT_FOUND",E}var p=h[g]={exports:{}};_[g][0].call(p.exports,function(A){var o=_[g][1][A];return l(o||A)},p,p.exports,e,_,h,d)}return h[g].exports}for(var a=typeof jt=="function"&&jt,c=0;c<d.length;c++)l(d[c]);return l})({1:[function(e,_,h){var d=e("./utils"),l=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(c){for(var g,u,y,E,p,A,o,w=[],i=0,f=c.length,n=f,s=d.getTypeOf(c)!=="string";i<c.length;)n=f-i,y=s?(g=c[i++],u=i<f?c[i++]:0,i<f?c[i++]:0):(g=c.charCodeAt(i++),u=i<f?c.charCodeAt(i++):0,i<f?c.charCodeAt(i++):0),E=g>>2,p=(3&g)<<4|u>>4,A=1<n?(15&u)<<2|y>>6:64,o=2<n?63&y:64,w.push(a.charAt(E)+a.charAt(p)+a.charAt(A)+a.charAt(o));return w.join("")},h.decode=function(c){var g,u,y,E,p,A,o=0,w=0,i="data:";if(c.substr(0,i.length)===i)throw new Error("Invalid base64 input, it looks like a data url.");var f,n=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&n--,c.charAt(c.length-2)===a.charAt(64)&&n--,n%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=l.uint8array?new Uint8Array(0|n):new Array(0|n);o<c.length;)g=a.indexOf(c.charAt(o++))<<2|(E=a.indexOf(c.charAt(o++)))>>4,u=(15&E)<<4|(p=a.indexOf(c.charAt(o++)))>>2,y=(3&p)<<6|(A=a.indexOf(c.charAt(o++))),f[w++]=g,p!==64&&(f[w++]=u),A!==64&&(f[w++]=y);return f}},{"./support":30,"./utils":32}],2:[function(e,_,h){var d=e("./external"),l=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),c=e("./stream/DataLengthProbe");function g(u,y,E,p,A){this.compressedSize=u,this.uncompressedSize=y,this.crc32=E,this.compression=p,this.compressedContent=A}g.prototype={getContentWorker:function(){var u=new l(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),y=this;return u.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new l(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(u,y,E){return u.pipe(new a).pipe(new c("uncompressedSize")).pipe(y.compressWorker(E)).pipe(new c("compressedSize")).withStreamInfo("compression",y)},_.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,_,h){var d=e("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},h.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,_,h){var d=e("./utils"),l=(function(){for(var a,c=[],g=0;g<256;g++){a=g;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;c[g]=a}return c})();_.exports=function(a,c){return a!==void 0&&a.length?d.getTypeOf(a)!=="string"?(function(g,u,y,E){var p=l,A=E+y;g^=-1;for(var o=E;o<A;o++)g=g>>>8^p[255&(g^u[o])];return-1^g})(0|c,a,a.length,0):(function(g,u,y,E){var p=l,A=E+y;g^=-1;for(var o=E;o<A;o++)g=g>>>8^p[255&(g^u.charCodeAt(o))];return-1^g})(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(e,_,h){h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(e,_,h){var d=null;d=typeof Promise!="undefined"?Promise:e("lie"),_.exports={Promise:d}},{lie:37}],7:[function(e,_,h){var d=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",l=e("pako"),a=e("./utils"),c=e("./stream/GenericWorker"),g=d?"uint8array":"array";function u(y,E){c.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=E,this.meta={}}h.magic="\b\0",a.inherits(u,c),u.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(g,y.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(E){y.push({data:E,meta:y.meta})}},h.compressWorker=function(y){return new u("Deflate",y)},h.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,_,h){function d(p,A){var o,w="";for(o=0;o<A;o++)w+=String.fromCharCode(255&p),p>>>=8;return w}function l(p,A,o,w,i,f){var n,s,m=p.file,b=p.compression,T=f!==g.utf8encode,D=a.transformTo("string",f(m.name)),P=a.transformTo("string",g.utf8encode(m.name)),W=m.comment,Q=a.transformTo("string",f(W)),C=a.transformTo("string",g.utf8encode(W)),F=P.length!==m.name.length,r=C.length!==W.length,I="",G="",z="",Y=m.dir,N=m.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};A&&!o||(Z.crc32=p.crc32,Z.compressedSize=p.compressedSize,Z.uncompressedSize=p.uncompressedSize);var L=0;A&&(L|=8),T||!F&&!r||(L|=2048);var x=0,K=0;Y&&(x|=16),i==="UNIX"?(K=798,x|=(function(q,it){var ht=q;return q||(ht=it?16893:33204),(65535&ht)<<16})(m.unixPermissions,Y)):(K=20,x|=(function(q){return 63&(q||0)})(m.dosPermissions)),n=N.getUTCHours(),n<<=6,n|=N.getUTCMinutes(),n<<=5,n|=N.getUTCSeconds()/2,s=N.getUTCFullYear()-1980,s<<=4,s|=N.getUTCMonth()+1,s<<=5,s|=N.getUTCDate(),F&&(G=d(1,1)+d(u(D),4)+P,I+="up"+d(G.length,2)+G),r&&(z=d(1,1)+d(u(Q),4)+C,I+="uc"+d(z.length,2)+z);var V="";return V+=`
\0`,V+=d(L,2),V+=b.magic,V+=d(n,2),V+=d(s,2),V+=d(Z.crc32,4),V+=d(Z.compressedSize,4),V+=d(Z.uncompressedSize,4),V+=d(D.length,2),V+=d(I.length,2),{fileRecord:y.LOCAL_FILE_HEADER+V+D+I,dirRecord:y.CENTRAL_FILE_HEADER+d(K,2)+V+d(Q.length,2)+"\0\0\0\0"+d(x,4)+d(w,4)+D+I+Q}}var a=e("../utils"),c=e("../stream/GenericWorker"),g=e("../utf8"),u=e("../crc32"),y=e("../signature");function E(p,A,o,w){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=o,this.encodeFileName=w,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(E,c),E.prototype.push=function(p){var A=p.meta.percent||0,o=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:o?(A+100*(o-w-1))/o:100}}))},E.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var A=this.streamFiles&&!p.file.dir;if(A){var o=l(p,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(p){this.accumulate=!1;var A=this.streamFiles&&!p.file.dir,o=l(p,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),A)this.push({data:(function(w){return y.DATA_DESCRIPTOR+d(w.crc32,4)+d(w.compressedSize,4)+d(w.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var p=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var o=this.bytesWritten-p,w=(function(i,f,n,s,m){var b=a.transformTo("string",m(s));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(i,2)+d(i,2)+d(f,4)+d(n,4)+d(b.length,2)+b})(this.dirRecords.length,o,p,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(p){this._sources.push(p);var A=this;return p.on("data",function(o){A.processChunk(o)}),p.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),p.on("error",function(o){A.error(o)}),this},E.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(p){var A=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var o=0;o<A.length;o++)try{A[o].error(p)}catch(w){}return!0},E.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,A=0;A<p.length;A++)p[A].lock()},_.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,_,h){var d=e("../compressions"),l=e("./ZipFileWorker");h.generateWorker=function(a,c,g){var u=new l(c.streamFiles,g,c.platform,c.encodeFileName),y=0;try{a.forEach(function(E,p){y++;var A=(function(f,n){var s=f||n,m=d[s];if(!m)throw new Error(s+" is not a valid compression method !");return m})(p.options.compression,c.compression),o=p.options.compressionOptions||c.compressionOptions||{},w=p.dir,i=p.date;p._compressWorker(A,o).withStreamInfo("file",{name:E,dir:w,date:i,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=y}catch(E){u.error(E)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,_,h){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new d;for(var a in this)typeof this[a]!="function"&&(l[a]=this[a]);return l}}(d.prototype=e("./object")).loadAsync=e("./load"),d.support=e("./support"),d.defaults=e("./defaults"),d.version="3.10.1",d.loadAsync=function(l,a){return new d().loadAsync(l,a)},d.external=e("./external"),_.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,_,h){var d=e("./utils"),l=e("./external"),a=e("./utf8"),c=e("./zipEntries"),g=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function y(E){return new l.Promise(function(p,A){var o=E.decompressed.getContentWorker().pipe(new g);o.on("error",function(w){A(w)}).on("end",function(){o.streamInfo.crc32!==E.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}_.exports=function(E,p){var A=this;return p=d.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(E)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",E,!0,p.optimizedBinaryString,p.base64).then(function(o){var w=new c(p);return w.load(o),w}).then(function(o){var w=[l.Promise.resolve(o)],i=o.files;if(p.checkCRC32)for(var f=0;f<i.length;f++)w.push(y(i[f]));return l.Promise.all(w)}).then(function(o){for(var w=o.shift(),i=w.files,f=0;f<i.length;f++){var n=i[f],s=n.fileNameStr,m=d.resolve(n.fileNameStr);A.file(m,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:p.createFolders}),n.dir||(A.file(m).unsafeOriginalName=s)}return w.zipComment.length&&(A.comment=w.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,_,h){var d=e("../utils"),l=e("../stream/GenericWorker");function a(c,g){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(g)}d.inherits(a,l),a.prototype._bindStream=function(c){var g=this;(this._stream=c).pause(),c.on("data",function(u){g.push({data:u,meta:{percent:0}})}).on("error",function(u){g.isPaused?this.generatedError=u:g.error(u)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},a.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},_.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,_,h){var d=e("readable-stream").Readable;function l(a,c,g){d.call(this,c),this._helper=a;var u=this;a.on("data",function(y,E){u.push(y)||u._helper.pause(),g&&g(E)}).on("error",function(y){u.emit("error",y)}).on("end",function(){u.push(null)})}e("../utils").inherits(l,d),l.prototype._read=function(){this._helper.resume()},_.exports=l},{"../utils":32,"readable-stream":16}],14:[function(e,_,h){_.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(d,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,l);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new Buffer(d,l)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var l=new Buffer(d);return l.fill(0),l},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(e,_,h){function d(m,b,T){var D,P=a.getTypeOf(b),W=a.extend(T||{},u);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(m=i(m)),W.createFolders&&(D=w(m))&&f.call(this,D,!0);var Q=P==="string"&&W.binary===!1&&W.base64===!1;T&&T.binary!==void 0||(W.binary=!Q),(b instanceof y&&b.uncompressedSize===0||W.dir||!b||b.length===0)&&(W.base64=!1,W.binary=!0,b="",W.compression="STORE",P="string");var C=null;C=b instanceof y||b instanceof c?b:A.isNode&&A.isStream(b)?new o(m,b):a.prepareContent(m,b,W.binary,W.optimizedBinaryString,W.base64);var F=new E(m,C,W);this.files[m]=F}var l=e("./utf8"),a=e("./utils"),c=e("./stream/GenericWorker"),g=e("./stream/StreamHelper"),u=e("./defaults"),y=e("./compressedObject"),E=e("./zipObject"),p=e("./generate"),A=e("./nodejsUtils"),o=e("./nodejs/NodejsStreamInputAdapter"),w=function(m){m.slice(-1)==="/"&&(m=m.substring(0,m.length-1));var b=m.lastIndexOf("/");return 0<b?m.substring(0,b):""},i=function(m){return m.slice(-1)!=="/"&&(m+="/"),m},f=function(m,b){return b=b!==void 0?b:u.createFolders,m=i(m),this.files[m]||d.call(this,m,null,{dir:!0,createFolders:b}),this.files[m]};function n(m){return Object.prototype.toString.call(m)==="[object RegExp]"}var s={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(m){var b,T,D;for(b in this.files)D=this.files[b],(T=b.slice(this.root.length,b.length))&&b.slice(0,this.root.length)===this.root&&m(T,D)},filter:function(m){var b=[];return this.forEach(function(T,D){m(T,D)&&b.push(D)}),b},file:function(m,b,T){if(arguments.length!==1)return m=this.root+m,d.call(this,m,b,T),this;if(n(m)){var D=m;return this.filter(function(W,Q){return!Q.dir&&D.test(W)})}var P=this.files[this.root+m];return P&&!P.dir?P:null},folder:function(m){if(!m)return this;if(n(m))return this.filter(function(P,W){return W.dir&&m.test(P)});var b=this.root+m,T=f.call(this,b),D=this.clone();return D.root=T.name,D},remove:function(m){m=this.root+m;var b=this.files[m];if(b||(m.slice(-1)!=="/"&&(m+="/"),b=this.files[m]),b&&!b.dir)delete this.files[m];else for(var T=this.filter(function(P,W){return W.name.slice(0,m.length)===m}),D=0;D<T.length;D++)delete this.files[T[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(m){var b,T={};try{if((T=a.extend(m||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var D=T.comment||this.comment||"";b=p.generateWorker(this,T,D)}catch(P){(b=new c("error")).error(P)}return new g(b,T.type||"string",T.mimeType)},generateAsync:function(m,b){return this.generateInternalStream(m).accumulate(b)},generateNodeStream:function(m,b){return(m=m||{}).type||(m.type="nodebuffer"),this.generateInternalStream(m).toNodejsStream(b)}};_.exports=s},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,_,h){_.exports=e("stream")},{stream:void 0}],17:[function(e,_,h){var d=e("./DataReader");function l(a){d.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}e("../utils").inherits(l,d),l.prototype.byteAt=function(a){return this.data[this.zero+a]},l.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),g=a.charCodeAt(1),u=a.charCodeAt(2),y=a.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===c&&this.data[E+1]===g&&this.data[E+2]===u&&this.data[E+3]===y)return E-this.zero;return-1},l.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),g=a.charCodeAt(1),u=a.charCodeAt(2),y=a.charCodeAt(3),E=this.readData(4);return c===E[0]&&g===E[1]&&u===E[2]&&y===E[3]},l.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},_.exports=l},{"../utils":32,"./DataReader":18}],18:[function(e,_,h){var d=e("../utils");function l(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,g=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)g=(g<<8)+this.byteAt(c);return this.index+=a,g},readString:function(a){return d.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},_.exports=l},{"../utils":32}],19:[function(e,_,h){var d=e("./Uint8ArrayReader");function l(a){d.call(this,a)}e("../utils").inherits(l,d),l.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},_.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,_,h){var d=e("./DataReader");function l(a){d.call(this,a)}e("../utils").inherits(l,d),l.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},l.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},l.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},l.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},_.exports=l},{"../utils":32,"./DataReader":18}],21:[function(e,_,h){var d=e("./ArrayReader");function l(a){d.call(this,a)}e("../utils").inherits(l,d),l.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},_.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(e,_,h){var d=e("../utils"),l=e("../support"),a=e("./ArrayReader"),c=e("./StringReader"),g=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");_.exports=function(y){var E=d.getTypeOf(y);return d.checkSupport(E),E!=="string"||l.uint8array?E==="nodebuffer"?new g(y):l.uint8array?new u(d.transformTo("uint8array",y)):new a(d.transformTo("array",y)):new c(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,_,h){h.LOCAL_FILE_HEADER="PK",h.CENTRAL_FILE_HEADER="PK",h.CENTRAL_DIRECTORY_END="PK",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,_,h){var d=e("./GenericWorker"),l=e("../utils");function a(c){d.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(a,d),a.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},_.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,_,h){var d=e("./GenericWorker"),l=e("../crc32");function a(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,d),a.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},_.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,_,h){var d=e("../utils"),l=e("./GenericWorker");function a(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}d.inherits(a,l),a.prototype.processChunk=function(c){if(c){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+c.data.length}l.prototype.processChunk.call(this,c)},_.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,_,h){var d=e("../utils"),l=e("./GenericWorker");function a(c){l.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){g.dataIsReady=!0,g.data=u,g.max=u&&u.length||0,g.type=d.getTypeOf(u),g.isPaused||g._tickAndRepeat()},function(u){g.error(u)})}d.inherits(a,l),a.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,g);break;case"uint8array":c=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":c=this.data.slice(this.index,g)}return this.index=g,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},_.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,_,h){function d(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,a){return this._listeners[l].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,a){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,a)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var a=this;return l.on("data",function(c){a.processChunk(c)}),l.on("end",function(){a.end()}),l.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,a){return this.extraStreamInfo[l]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},_.exports=d},{}],29:[function(e,_,h){var d=e("../utils"),l=e("./ConvertWorker"),a=e("./GenericWorker"),c=e("../base64"),g=e("../support"),u=e("../external"),y=null;if(g.nodestream)try{y=e("../nodejs/NodejsStreamOutputAdapter")}catch(A){}function E(A,o){return new u.Promise(function(w,i){var f=[],n=A._internalType,s=A._outputType,m=A._mimeType;A.on("data",function(b,T){f.push(b),o&&o(T)}).on("error",function(b){f=[],i(b)}).on("end",function(){try{var b=(function(T,D,P){switch(T){case"blob":return d.newBlob(d.transformTo("arraybuffer",D),P);case"base64":return c.encode(D);default:return d.transformTo(T,D)}})(s,(function(T,D){var P,W=0,Q=null,C=0;for(P=0;P<D.length;P++)C+=D[P].length;switch(T){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(Q=new Uint8Array(C),P=0;P<D.length;P++)Q.set(D[P],W),W+=D[P].length;return Q;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+T+"'")}})(n,f),m);w(b)}catch(T){i(T)}f=[]}).resume()})}function p(A,o,w){var i=o;switch(o){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=o,this._mimeType=w,d.checkSupport(i),this._worker=A.pipe(new l(i)),A.lock()}catch(f){this._worker=new a("error"),this._worker.error(f)}}p.prototype={accumulate:function(A){return E(this,A)},on:function(A,o){var w=this;return A==="data"?this._worker.on(A,function(i){o.call(w,i.data,i.meta)}):this._worker.on(A,function(){d.delay(o,arguments,w)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},A)}},_.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,_,h){if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",h.nodebuffer=typeof Buffer!="undefined",h.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")h.blob=!1;else{var d=new ArrayBuffer(0);try{h.blob=new Blob([d],{type:"application/zip"}).size===0}catch(a){try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(d),h.blob=l.getBlob("application/zip").size===0}catch(c){h.blob=!1}}}try{h.nodestream=!!e("readable-stream").Readable}catch(a){h.nodestream=!1}},{"readable-stream":16}],31:[function(e,_,h){for(var d=e("./utils"),l=e("./support"),a=e("./nodejsUtils"),c=e("./stream/GenericWorker"),g=new Array(256),u=0;u<256;u++)g[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;g[254]=g[254]=1;function y(){c.call(this,"utf-8 decode"),this.leftOver=null}function E(){c.call(this,"utf-8 encode")}h.utf8encode=function(p){return l.nodebuffer?a.newBufferFrom(p,"utf-8"):(function(A){var o,w,i,f,n,s=A.length,m=0;for(f=0;f<s;f++)(64512&(w=A.charCodeAt(f)))==55296&&f+1<s&&(64512&(i=A.charCodeAt(f+1)))==56320&&(w=65536+(w-55296<<10)+(i-56320),f++),m+=w<128?1:w<2048?2:w<65536?3:4;for(o=l.uint8array?new Uint8Array(m):new Array(m),f=n=0;n<m;f++)(64512&(w=A.charCodeAt(f)))==55296&&f+1<s&&(64512&(i=A.charCodeAt(f+1)))==56320&&(w=65536+(w-55296<<10)+(i-56320),f++),w<128?o[n++]=w:(w<2048?o[n++]=192|w>>>6:(w<65536?o[n++]=224|w>>>12:(o[n++]=240|w>>>18,o[n++]=128|w>>>12&63),o[n++]=128|w>>>6&63),o[n++]=128|63&w);return o})(p)},h.utf8decode=function(p){return l.nodebuffer?d.transformTo("nodebuffer",p).toString("utf-8"):(function(A){var o,w,i,f,n=A.length,s=new Array(2*n);for(o=w=0;o<n;)if((i=A[o++])<128)s[w++]=i;else if(4<(f=g[i]))s[w++]=65533,o+=f-1;else{for(i&=f===2?31:f===3?15:7;1<f&&o<n;)i=i<<6|63&A[o++],f--;1<f?s[w++]=65533:i<65536?s[w++]=i:(i-=65536,s[w++]=55296|i>>10&1023,s[w++]=56320|1023&i)}return s.length!==w&&(s.subarray?s=s.subarray(0,w):s.length=w),d.applyFromCharCode(s)})(p=d.transformTo(l.uint8array?"uint8array":"array",p))},d.inherits(y,c),y.prototype.processChunk=function(p){var A=d.transformTo(l.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var o=A;(A=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),A.set(o,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var w=(function(f,n){var s;for((n=n||f.length)>f.length&&(n=f.length),s=n-1;0<=s&&(192&f[s])==128;)s--;return s<0||s===0?n:s+g[f[s]]>n?s:n})(A),i=A;w!==A.length&&(l.uint8array?(i=A.subarray(0,w),this.leftOver=A.subarray(w,A.length)):(i=A.slice(0,w),this.leftOver=A.slice(w,A.length))),this.push({data:h.utf8decode(i),meta:p.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=y,d.inherits(E,c),E.prototype.processChunk=function(p){this.push({data:h.utf8encode(p.data),meta:p.meta})},h.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,_,h){var d=e("./support"),l=e("./base64"),a=e("./nodejsUtils"),c=e("./external");function g(o){return o}function u(o,w){for(var i=0;i<o.length;++i)w[i]=255&o.charCodeAt(i);return w}e("setimmediate"),h.newBlob=function(o,w){h.checkSupport("blob");try{return new Blob([o],{type:w})}catch(f){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(o),i.getBlob(w)}catch(n){throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(o,w,i){var f=[],n=0,s=o.length;if(s<=i)return String.fromCharCode.apply(null,o);for(;n<s;)w==="array"||w==="nodebuffer"?f.push(String.fromCharCode.apply(null,o.slice(n,Math.min(n+i,s)))):f.push(String.fromCharCode.apply(null,o.subarray(n,Math.min(n+i,s)))),n+=i;return f.join("")},stringifyByChar:function(o){for(var w="",i=0;i<o.length;i++)w+=String.fromCharCode(o[i]);return w},applyCanBeUsed:{uint8array:(function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(o){return!1}})(),nodebuffer:(function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch(o){return!1}})()}};function E(o){var w=65536,i=h.getTypeOf(o),f=!0;if(i==="uint8array"?f=y.applyCanBeUsed.uint8array:i==="nodebuffer"&&(f=y.applyCanBeUsed.nodebuffer),f)for(;1<w;)try{return y.stringifyByChunk(o,i,w)}catch(n){w=Math.floor(w/2)}return y.stringifyByChar(o)}function p(o,w){for(var i=0;i<o.length;i++)w[i]=o[i];return w}h.applyFromCharCode=E;var A={};A.string={string:g,array:function(o){return u(o,new Array(o.length))},arraybuffer:function(o){return A.string.uint8array(o).buffer},uint8array:function(o){return u(o,new Uint8Array(o.length))},nodebuffer:function(o){return u(o,a.allocBuffer(o.length))}},A.array={string:E,array:g,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return a.newBufferFrom(o)}},A.arraybuffer={string:function(o){return E(new Uint8Array(o))},array:function(o){return p(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:g,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return a.newBufferFrom(new Uint8Array(o))}},A.uint8array={string:E,array:function(o){return p(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:g,nodebuffer:function(o){return a.newBufferFrom(o)}},A.nodebuffer={string:E,array:function(o){return p(o,new Array(o.length))},arraybuffer:function(o){return A.nodebuffer.uint8array(o).buffer},uint8array:function(o){return p(o,new Uint8Array(o.length))},nodebuffer:g},h.transformTo=function(o,w){if(w=w||"",!o)return w;h.checkSupport(o);var i=h.getTypeOf(w);return A[i][o](w)},h.resolve=function(o){for(var w=o.split("/"),i=[],f=0;f<w.length;f++){var n=w[f];n==="."||n===""&&f!==0&&f!==w.length-1||(n===".."?i.pop():i.push(n))}return i.join("/")},h.getTypeOf=function(o){return typeof o=="string"?"string":Object.prototype.toString.call(o)==="[object Array]"?"array":d.nodebuffer&&a.isBuffer(o)?"nodebuffer":d.uint8array&&o instanceof Uint8Array?"uint8array":d.arraybuffer&&o instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(o){if(!d[o.toLowerCase()])throw new Error(o+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(o){var w,i,f="";for(i=0;i<(o||"").length;i++)f+="\\x"+((w=o.charCodeAt(i))<16?"0":"")+w.toString(16).toUpperCase();return f},h.delay=function(o,w,i){setImmediate(function(){o.apply(i||null,w||[])})},h.inherits=function(o,w){function i(){}i.prototype=w.prototype,o.prototype=new i},h.extend=function(){var o,w,i={};for(o=0;o<arguments.length;o++)for(w in arguments[o])Object.prototype.hasOwnProperty.call(arguments[o],w)&&i[w]===void 0&&(i[w]=arguments[o][w]);return i},h.prepareContent=function(o,w,i,f,n){return c.Promise.resolve(w).then(function(s){return d.blob&&(s instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(s))!==-1)&&typeof FileReader!="undefined"?new c.Promise(function(m,b){var T=new FileReader;T.onload=function(D){m(D.target.result)},T.onerror=function(D){b(D.target.error)},T.readAsArrayBuffer(s)}):s}).then(function(s){var m=h.getTypeOf(s);return m?(m==="arraybuffer"?s=h.transformTo("uint8array",s):m==="string"&&(n?s=l.decode(s):i&&f!==!0&&(s=(function(b){return u(b,d.uint8array?new Uint8Array(b.length):new Array(b.length))})(s))),s):c.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,_,h){var d=e("./reader/readerFor"),l=e("./utils"),a=e("./signature"),c=e("./zipEntry"),g=e("./support");function u(y){this.files=[],this.loadOptions=y}u.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(E)+", expected "+l.pretty(y)+")")}},isSignature:function(y,E){var p=this.reader.index;this.reader.setIndex(y);var A=this.reader.readString(4)===E;return this.reader.setIndex(p),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),E=g.uint8array?"uint8array":"array",p=l.transformTo(E,y);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,E,p,A=this.zip64EndOfCentralSize-44;0<A;)y=this.reader.readInt(2),E=this.reader.readInt(4),p=this.reader.readData(E),this.zip64ExtensibleData[y]={id:y,length:E,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,E;for(y=0;y<this.files.length;y++)E=this.files[y],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(y=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var E=y;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var A=E-p;if(0<A)this.isSignature(E,a.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(y){this.reader=d(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},_.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,_,h){var d=e("./reader/readerFor"),l=e("./utils"),a=e("./compressedObject"),c=e("./crc32"),g=e("./utf8"),u=e("./compressions"),y=e("./support");function E(p,A){this.options=p,this.loadOptions=A}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var A,o;if(p.skip(22),this.fileNameLength=p.readInt(2),o=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(o),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=(function(w){for(var i in u)if(Object.prototype.hasOwnProperty.call(u,i)&&u[i].magic===w)return u[i];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,A,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var A=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(A),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=d(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var A,o,w,i=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<i;)A=p.readInt(2),o=p.readInt(2),w=p.readData(o),this.extraFields[A]={id:A,length:o,value:w};p.setIndex(i)},handleUTF8:function(){var p=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var o=l.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var i=l.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var A=d(p.value);return A.readInt(1)!==1||c(this.fileName)!==A.readInt(4)?null:g.utf8decode(A.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var A=d(p.value);return A.readInt(1)!==1||c(this.fileComment)!==A.readInt(4)?null:g.utf8decode(A.readData(p.length-5))}return null}},_.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,_,h){function d(A,o,w){this.name=A,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=o,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var l=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),c=e("./utf8"),g=e("./compressedObject"),u=e("./stream/GenericWorker");d.prototype={internalStream:function(A){var o=null,w="string";try{if(!A)throw new Error("No output type specified.");var i=(w=A.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),o=this._decompressWorker();var f=!this._dataBinary;f&&!i&&(o=o.pipe(new c.Utf8EncodeWorker)),!f&&i&&(o=o.pipe(new c.Utf8DecodeWorker))}catch(n){(o=new u("error")).error(n)}return new l(o,w,"")},async:function(A,o){return this.internalStream(A).accumulate(o)},nodeStream:function(A,o){return this.internalStream(A||"nodebuffer").toNodejsStream(o)},_compressWorker:function(A,o){if(this._data instanceof g&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new c.Utf8EncodeWorker)),g.createWorkerFrom(w,A,o)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<y.length;p++)d.prototype[y[p]]=E;_.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,_,h){(function(d){var l,a,c=d.MutationObserver||d.WebKitMutationObserver;if(c){var g=0,u=new c(A),y=d.document.createTextNode("");u.observe(y,{characterData:!0}),l=function(){y.data=g=++g%2}}else if(d.setImmediate||d.MessageChannel===void 0)l="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var o=d.document.createElement("script");o.onreadystatechange=function(){A(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},d.document.documentElement.appendChild(o)}:function(){setTimeout(A,0)};else{var E=new d.MessageChannel;E.port1.onmessage=A,l=function(){E.port2.postMessage(0)}}var p=[];function A(){var o,w;a=!0;for(var i=p.length;i;){for(w=p,p=[],o=-1;++o<i;)w[o]();i=p.length}a=!1}_.exports=function(o){p.push(o)!==1||a||l()}}).call(this,typeof Mt!="undefined"?Mt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(e,_,h){var d=e("immediate");function l(){}var a={},c=["REJECTED"],g=["FULFILLED"],u=["PENDING"];function y(i){if(typeof i!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,i!==l&&o(this,i)}function E(i,f,n){this.promise=i,typeof f=="function"&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled),typeof n=="function"&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function p(i,f,n){d(function(){var s;try{s=f(n)}catch(m){return a.reject(i,m)}s===i?a.reject(i,new TypeError("Cannot resolve promise with itself")):a.resolve(i,s)})}function A(i){var f=i&&i.then;if(i&&(typeof i=="object"||typeof i=="function")&&typeof f=="function")return function(){f.apply(i,arguments)}}function o(i,f){var n=!1;function s(T){n||(n=!0,a.reject(i,T))}function m(T){n||(n=!0,a.resolve(i,T))}var b=w(function(){f(m,s)});b.status==="error"&&s(b.value)}function w(i,f){var n={};try{n.value=i(f),n.status="success"}catch(s){n.status="error",n.value=s}return n}(_.exports=y).prototype.finally=function(i){if(typeof i!="function")return this;var f=this.constructor;return this.then(function(n){return f.resolve(i()).then(function(){return n})},function(n){return f.resolve(i()).then(function(){throw n})})},y.prototype.catch=function(i){return this.then(null,i)},y.prototype.then=function(i,f){if(typeof i!="function"&&this.state===g||typeof f!="function"&&this.state===c)return this;var n=new this.constructor(l);return this.state!==u?p(n,this.state===g?i:f,this.outcome):this.queue.push(new E(n,i,f)),n},E.prototype.callFulfilled=function(i){a.resolve(this.promise,i)},E.prototype.otherCallFulfilled=function(i){p(this.promise,this.onFulfilled,i)},E.prototype.callRejected=function(i){a.reject(this.promise,i)},E.prototype.otherCallRejected=function(i){p(this.promise,this.onRejected,i)},a.resolve=function(i,f){var n=w(A,f);if(n.status==="error")return a.reject(i,n.value);var s=n.value;if(s)o(i,s);else{i.state=g,i.outcome=f;for(var m=-1,b=i.queue.length;++m<b;)i.queue[m].callFulfilled(f)}return i},a.reject=function(i,f){i.state=c,i.outcome=f;for(var n=-1,s=i.queue.length;++n<s;)i.queue[n].callRejected(f);return i},y.resolve=function(i){return i instanceof this?i:a.resolve(new this(l),i)},y.reject=function(i){var f=new this(l);return a.reject(f,i)},y.all=function(i){var f=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var n=i.length,s=!1;if(!n)return this.resolve([]);for(var m=new Array(n),b=0,T=-1,D=new this(l);++T<n;)P(i[T],T);return D;function P(W,Q){f.resolve(W).then(function(C){m[Q]=C,++b!==n||s||(s=!0,a.resolve(D,m))},function(C){s||(s=!0,a.reject(D,C))})}},y.race=function(i){var f=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var n=i.length,s=!1;if(!n)return this.resolve([]);for(var m=-1,b=new this(l);++m<n;)T=i[m],f.resolve(T).then(function(D){s||(s=!0,a.resolve(b,D))},function(D){s||(s=!0,a.reject(b,D))});var T;return b}},{immediate:36}],38:[function(e,_,h){var d={};(0,e("./lib/utils/common").assign)(d,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),_.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,_,h){var d=e("./zlib/deflate"),l=e("./utils/common"),a=e("./utils/strings"),c=e("./zlib/messages"),g=e("./zlib/zstream"),u=Object.prototype.toString,y=0,E=-1,p=0,A=8;function o(i){if(!(this instanceof o))return new o(i);this.options=l.assign({level:E,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},i||{});var f=this.options;f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var n=d.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(n!==y)throw new Error(c[n]);if(f.header&&d.deflateSetHeader(this.strm,f.header),f.dictionary){var s;if(s=typeof f.dictionary=="string"?a.string2buf(f.dictionary):u.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(n=d.deflateSetDictionary(this.strm,s))!==y)throw new Error(c[n]);this._dict_set=!0}}function w(i,f){var n=new o(f);if(n.push(i,!0),n.err)throw n.msg||c[n.err];return n.result}o.prototype.push=function(i,f){var n,s,m=this.strm,b=this.options.chunkSize;if(this.ended)return!1;s=f===~~f?f:f===!0?4:0,typeof i=="string"?m.input=a.string2buf(i):u.call(i)==="[object ArrayBuffer]"?m.input=new Uint8Array(i):m.input=i,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new l.Buf8(b),m.next_out=0,m.avail_out=b),(n=d.deflate(m,s))!==1&&n!==y)return this.onEnd(n),!(this.ended=!0);m.avail_out!==0&&(m.avail_in!==0||s!==4&&s!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(l.shrinkBuf(m.output,m.next_out))):this.onData(l.shrinkBuf(m.output,m.next_out)))}while((0<m.avail_in||m.avail_out===0)&&n!==1);return s===4?(n=d.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===y):s!==2||(this.onEnd(y),!(m.avail_out=0))},o.prototype.onData=function(i){this.chunks.push(i)},o.prototype.onEnd=function(i){i===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},h.Deflate=o,h.deflate=w,h.deflateRaw=function(i,f){return(f=f||{}).raw=!0,w(i,f)},h.gzip=function(i,f){return(f=f||{}).gzip=!0,w(i,f)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,_,h){var d=e("./zlib/inflate"),l=e("./utils/common"),a=e("./utils/strings"),c=e("./zlib/constants"),g=e("./zlib/messages"),u=e("./zlib/zstream"),y=e("./zlib/gzheader"),E=Object.prototype.toString;function p(o){if(!(this instanceof p))return new p(o);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},o||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||o&&o.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var i=d.inflateInit2(this.strm,w.windowBits);if(i!==c.Z_OK)throw new Error(g[i]);this.header=new y,d.inflateGetHeader(this.strm,this.header)}function A(o,w){var i=new p(w);if(i.push(o,!0),i.err)throw i.msg||g[i.err];return i.result}p.prototype.push=function(o,w){var i,f,n,s,m,b,T=this.strm,D=this.options.chunkSize,P=this.options.dictionary,W=!1;if(this.ended)return!1;f=w===~~w?w:w===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof o=="string"?T.input=a.binstring2buf(o):E.call(o)==="[object ArrayBuffer]"?T.input=new Uint8Array(o):T.input=o,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new l.Buf8(D),T.next_out=0,T.avail_out=D),(i=d.inflate(T,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&P&&(b=typeof P=="string"?a.string2buf(P):E.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,i=d.inflateSetDictionary(this.strm,b)),i===c.Z_BUF_ERROR&&W===!0&&(i=c.Z_OK,W=!1),i!==c.Z_STREAM_END&&i!==c.Z_OK)return this.onEnd(i),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&i!==c.Z_STREAM_END&&(T.avail_in!==0||f!==c.Z_FINISH&&f!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(n=a.utf8border(T.output,T.next_out),s=T.next_out-n,m=a.buf2string(T.output,n),T.next_out=s,T.avail_out=D-s,s&&l.arraySet(T.output,T.output,n,s,0),this.onData(m)):this.onData(l.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(W=!0)}while((0<T.avail_in||T.avail_out===0)&&i!==c.Z_STREAM_END);return i===c.Z_STREAM_END&&(f=c.Z_FINISH),f===c.Z_FINISH?(i=d.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c.Z_OK):f!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(T.avail_out=0))},p.prototype.onData=function(o){this.chunks.push(o)},p.prototype.onEnd=function(o){o===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},h.Inflate=p,h.inflate=A,h.inflateRaw=function(o,w){return(w=w||{}).raw=!0,A(o,w)},h.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,_,h){var d=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";h.assign=function(c){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var u=g.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var y in u)u.hasOwnProperty(y)&&(c[y]=u[y])}}return c},h.shrinkBuf=function(c,g){return c.length===g?c:c.subarray?c.subarray(0,g):(c.length=g,c)};var l={arraySet:function(c,g,u,y,E){if(g.subarray&&c.subarray)c.set(g.subarray(u,u+y),E);else for(var p=0;p<y;p++)c[E+p]=g[u+p]},flattenChunks:function(c){var g,u,y,E,p,A;for(g=y=0,u=c.length;g<u;g++)y+=c[g].length;for(A=new Uint8Array(y),g=E=0,u=c.length;g<u;g++)p=c[g],A.set(p,E),E+=p.length;return A}},a={arraySet:function(c,g,u,y,E){for(var p=0;p<y;p++)c[E+p]=g[u+p]},flattenChunks:function(c){return[].concat.apply([],c)}};h.setTyped=function(c){c?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,l)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,a))},h.setTyped(d)},{}],42:[function(e,_,h){var d=e("./common"),l=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(y){l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(y){a=!1}for(var c=new d.Buf8(256),g=0;g<256;g++)c[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function u(y,E){if(E<65537&&(y.subarray&&a||!y.subarray&&l))return String.fromCharCode.apply(null,d.shrinkBuf(y,E));for(var p="",A=0;A<E;A++)p+=String.fromCharCode(y[A]);return p}c[254]=c[254]=1,h.string2buf=function(y){var E,p,A,o,w,i=y.length,f=0;for(o=0;o<i;o++)(64512&(p=y.charCodeAt(o)))==55296&&o+1<i&&(64512&(A=y.charCodeAt(o+1)))==56320&&(p=65536+(p-55296<<10)+(A-56320),o++),f+=p<128?1:p<2048?2:p<65536?3:4;for(E=new d.Buf8(f),o=w=0;w<f;o++)(64512&(p=y.charCodeAt(o)))==55296&&o+1<i&&(64512&(A=y.charCodeAt(o+1)))==56320&&(p=65536+(p-55296<<10)+(A-56320),o++),p<128?E[w++]=p:(p<2048?E[w++]=192|p>>>6:(p<65536?E[w++]=224|p>>>12:(E[w++]=240|p>>>18,E[w++]=128|p>>>12&63),E[w++]=128|p>>>6&63),E[w++]=128|63&p);return E},h.buf2binstring=function(y){return u(y,y.length)},h.binstring2buf=function(y){for(var E=new d.Buf8(y.length),p=0,A=E.length;p<A;p++)E[p]=y.charCodeAt(p);return E},h.buf2string=function(y,E){var p,A,o,w,i=E||y.length,f=new Array(2*i);for(p=A=0;p<i;)if((o=y[p++])<128)f[A++]=o;else if(4<(w=c[o]))f[A++]=65533,p+=w-1;else{for(o&=w===2?31:w===3?15:7;1<w&&p<i;)o=o<<6|63&y[p++],w--;1<w?f[A++]=65533:o<65536?f[A++]=o:(o-=65536,f[A++]=55296|o>>10&1023,f[A++]=56320|1023&o)}return u(f,A)},h.utf8border=function(y,E){var p;for((E=E||y.length)>y.length&&(E=y.length),p=E-1;0<=p&&(192&y[p])==128;)p--;return p<0||p===0?E:p+c[y[p]]>E?p:E}},{"./common":41}],43:[function(e,_,h){_.exports=function(d,l,a,c){for(var g=65535&d|0,u=d>>>16&65535|0,y=0;a!==0;){for(a-=y=2e3<a?2e3:a;u=u+(g=g+l[c++]|0)|0,--y;);g%=65521,u%=65521}return g|u<<16|0}},{}],44:[function(e,_,h){_.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,_,h){var d=(function(){for(var l,a=[],c=0;c<256;c++){l=c;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;a[c]=l}return a})();_.exports=function(l,a,c,g){var u=d,y=g+c;l^=-1;for(var E=g;E<y;E++)l=l>>>8^u[255&(l^a[E])];return-1^l}},{}],46:[function(e,_,h){var d,l=e("../utils/common"),a=e("./trees"),c=e("./adler32"),g=e("./crc32"),u=e("./messages"),y=0,E=4,p=0,A=-2,o=-1,w=4,i=2,f=8,n=9,s=286,m=30,b=19,T=2*s+1,D=15,P=3,W=258,Q=W+P+1,C=42,F=113,r=1,I=2,G=3,z=4;function Y(t,U){return t.msg=u[U],U}function N(t){return(t<<1)-(4<t?9:0)}function Z(t){for(var U=t.length;0<=--U;)t[U]=0}function L(t){var U=t.state,B=U.pending;B>t.avail_out&&(B=t.avail_out),B!==0&&(l.arraySet(t.output,U.pending_buf,U.pending_out,B,t.next_out),t.next_out+=B,U.pending_out+=B,t.total_out+=B,t.avail_out-=B,U.pending-=B,U.pending===0&&(U.pending_out=0))}function x(t,U){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,U),t.block_start=t.strstart,L(t.strm)}function K(t,U){t.pending_buf[t.pending++]=U}function V(t,U){t.pending_buf[t.pending++]=U>>>8&255,t.pending_buf[t.pending++]=255&U}function q(t,U){var B,k,S=t.max_chain_length,O=t.strstart,M=t.prev_length,j=t.nice_match,$=t.strstart>t.w_size-Q?t.strstart-(t.w_size-Q):0,H=t.window,J=t.w_mask,X=t.prev,tt=t.strstart+W,st=H[O+M-1],rt=H[O+M];t.prev_length>=t.good_match&&(S>>=2),j>t.lookahead&&(j=t.lookahead);do if(H[(B=U)+M]===rt&&H[B+M-1]===st&&H[B]===H[O]&&H[++B]===H[O+1]){O+=2,B++;do;while(H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&O<tt);if(k=W-(tt-O),O=tt-W,M<k){if(t.match_start=U,j<=(M=k))break;st=H[O+M-1],rt=H[O+M]}}while((U=X[U&J])>$&&--S!=0);return M<=t.lookahead?M:t.lookahead}function it(t){var U,B,k,S,O,M,j,$,H,J,X=t.w_size;do{if(S=t.window_size-t.lookahead-t.strstart,t.strstart>=X+(X-Q)){for(l.arraySet(t.window,t.window,X,X,0),t.match_start-=X,t.strstart-=X,t.block_start-=X,U=B=t.hash_size;k=t.head[--U],t.head[U]=X<=k?k-X:0,--B;);for(U=B=X;k=t.prev[--U],t.prev[U]=X<=k?k-X:0,--B;);S+=X}if(t.strm.avail_in===0)break;if(M=t.strm,j=t.window,$=t.strstart+t.lookahead,H=S,J=void 0,J=M.avail_in,H<J&&(J=H),B=J===0?0:(M.avail_in-=J,l.arraySet(j,M.input,M.next_in,J,$),M.state.wrap===1?M.adler=c(M.adler,j,J,$):M.state.wrap===2&&(M.adler=g(M.adler,j,J,$)),M.next_in+=J,M.total_in+=J,J),t.lookahead+=B,t.lookahead+t.insert>=P)for(O=t.strstart-t.insert,t.ins_h=t.window[O],t.ins_h=(t.ins_h<<t.hash_shift^t.window[O+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[O+P-1])&t.hash_mask,t.prev[O&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=O,O++,t.insert--,!(t.lookahead+t.insert<P)););}while(t.lookahead<Q&&t.strm.avail_in!==0)}function ht(t,U){for(var B,k;;){if(t.lookahead<Q){if(it(t),t.lookahead<Q&&U===y)return r;if(t.lookahead===0)break}if(B=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),B!==0&&t.strstart-B<=t.w_size-Q&&(t.match_length=q(t,B)),t.match_length>=P)if(k=a._tr_tally(t,t.strstart-t.match_start,t.match_length-P),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=P){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else k=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(k&&(x(t,!1),t.strm.avail_out===0))return r}return t.insert=t.strstart<P-1?t.strstart:P-1,U===E?(x(t,!0),t.strm.avail_out===0?G:z):t.last_lit&&(x(t,!1),t.strm.avail_out===0)?r:I}function et(t,U){for(var B,k,S;;){if(t.lookahead<Q){if(it(t),t.lookahead<Q&&U===y)return r;if(t.lookahead===0)break}if(B=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=P-1,B!==0&&t.prev_length<t.max_lazy_match&&t.strstart-B<=t.w_size-Q&&(t.match_length=q(t,B),t.match_length<=5&&(t.strategy===1||t.match_length===P&&4096<t.strstart-t.match_start)&&(t.match_length=P-1)),t.prev_length>=P&&t.match_length<=t.prev_length){for(S=t.strstart+t.lookahead-P,k=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-P),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=P-1,t.strstart++,k&&(x(t,!1),t.strm.avail_out===0))return r}else if(t.match_available){if((k=a._tr_tally(t,0,t.window[t.strstart-1]))&&x(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return r}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(k=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<P-1?t.strstart:P-1,U===E?(x(t,!0),t.strm.avail_out===0?G:z):t.last_lit&&(x(t,!1),t.strm.avail_out===0)?r:I}function nt(t,U,B,k,S){this.good_length=t,this.max_lazy=U,this.nice_length=B,this.max_chain=k,this.func=S}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*T),this.dyn_dtree=new l.Buf16(2*(2*m+1)),this.bl_tree=new l.Buf16(2*(2*b+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(D+1),this.heap=new l.Buf16(2*s+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*s+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(t){var U;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=i,(U=t.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?C:F,t.adler=U.wrap===2?0:1,U.last_flush=y,a._tr_init(U),p):Y(t,A)}function St(t){var U=at(t);return U===p&&(function(B){B.window_size=2*B.w_size,Z(B.head),B.max_lazy_match=d[B.level].max_lazy,B.good_match=d[B.level].good_length,B.nice_match=d[B.level].nice_length,B.max_chain_length=d[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=P-1,B.match_available=0,B.ins_h=0})(t.state),U}function bt(t,U,B,k,S,O){if(!t)return A;var M=1;if(U===o&&(U=6),k<0?(M=0,k=-k):15<k&&(M=2,k-=16),S<1||n<S||B!==f||k<8||15<k||U<0||9<U||O<0||w<O)return Y(t,A);k===8&&(k=9);var j=new ct;return(t.state=j).strm=t,j.wrap=M,j.gzhead=null,j.w_bits=k,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=S+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+P-1)/P),j.window=new l.Buf8(2*j.w_size),j.head=new l.Buf16(j.hash_size),j.prev=new l.Buf16(j.w_size),j.lit_bufsize=1<<S+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new l.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=U,j.strategy=O,j.method=B,St(t)}d=[new nt(0,0,0,0,function(t,U){var B=65535;for(B>t.pending_buf_size-5&&(B=t.pending_buf_size-5);;){if(t.lookahead<=1){if(it(t),t.lookahead===0&&U===y)return r;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var k=t.block_start+B;if((t.strstart===0||t.strstart>=k)&&(t.lookahead=t.strstart-k,t.strstart=k,x(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Q&&(x(t,!1),t.strm.avail_out===0))return r}return t.insert=0,U===E?(x(t,!0),t.strm.avail_out===0?G:z):(t.strstart>t.block_start&&(x(t,!1),t.strm.avail_out),r)}),new nt(4,4,8,4,ht),new nt(4,5,16,8,ht),new nt(4,6,32,32,ht),new nt(4,4,16,16,et),new nt(8,16,32,32,et),new nt(8,16,128,128,et),new nt(8,32,128,256,et),new nt(32,128,258,1024,et),new nt(32,258,258,4096,et)],h.deflateInit=function(t,U){return bt(t,U,f,15,8,0)},h.deflateInit2=bt,h.deflateReset=St,h.deflateResetKeep=at,h.deflateSetHeader=function(t,U){return t&&t.state?t.state.wrap!==2?A:(t.state.gzhead=U,p):A},h.deflate=function(t,U){var B,k,S,O;if(!t||!t.state||5<U||U<0)return t?Y(t,A):A;if(k=t.state,!t.output||!t.input&&t.avail_in!==0||k.status===666&&U!==E)return Y(t,t.avail_out===0?-5:A);if(k.strm=t,B=k.last_flush,k.last_flush=U,k.status===C)if(k.wrap===2)t.adler=0,K(k,31),K(k,139),K(k,8),k.gzhead?(K(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),K(k,255&k.gzhead.time),K(k,k.gzhead.time>>8&255),K(k,k.gzhead.time>>16&255),K(k,k.gzhead.time>>24&255),K(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),K(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(K(k,255&k.gzhead.extra.length),K(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(t.adler=g(t.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(K(k,0),K(k,0),K(k,0),K(k,0),K(k,0),K(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),K(k,3),k.status=F);else{var M=f+(k.w_bits-8<<4)<<8;M|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(M|=32),M+=31-M%31,k.status=F,V(k,M),k.strstart!==0&&(V(k,t.adler>>>16),V(k,65535&t.adler)),t.adler=1}if(k.status===69)if(k.gzhead.extra){for(S=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>S&&(t.adler=g(t.adler,k.pending_buf,k.pending-S,S)),L(t),S=k.pending,k.pending!==k.pending_buf_size));)K(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>S&&(t.adler=g(t.adler,k.pending_buf,k.pending-S,S)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){S=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>S&&(t.adler=g(t.adler,k.pending_buf,k.pending-S,S)),L(t),S=k.pending,k.pending===k.pending_buf_size)){O=1;break}O=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,K(k,O)}while(O!==0);k.gzhead.hcrc&&k.pending>S&&(t.adler=g(t.adler,k.pending_buf,k.pending-S,S)),O===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){S=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>S&&(t.adler=g(t.adler,k.pending_buf,k.pending-S,S)),L(t),S=k.pending,k.pending===k.pending_buf_size)){O=1;break}O=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,K(k,O)}while(O!==0);k.gzhead.hcrc&&k.pending>S&&(t.adler=g(t.adler,k.pending_buf,k.pending-S,S)),O===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&L(t),k.pending+2<=k.pending_buf_size&&(K(k,255&t.adler),K(k,t.adler>>8&255),t.adler=0,k.status=F)):k.status=F),k.pending!==0){if(L(t),t.avail_out===0)return k.last_flush=-1,p}else if(t.avail_in===0&&N(U)<=N(B)&&U!==E)return Y(t,-5);if(k.status===666&&t.avail_in!==0)return Y(t,-5);if(t.avail_in!==0||k.lookahead!==0||U!==y&&k.status!==666){var j=k.strategy===2?(function($,H){for(var J;;){if($.lookahead===0&&(it($),$.lookahead===0)){if(H===y)return r;break}if($.match_length=0,J=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,J&&(x($,!1),$.strm.avail_out===0))return r}return $.insert=0,H===E?(x($,!0),$.strm.avail_out===0?G:z):$.last_lit&&(x($,!1),$.strm.avail_out===0)?r:I})(k,U):k.strategy===3?(function($,H){for(var J,X,tt,st,rt=$.window;;){if($.lookahead<=W){if(it($),$.lookahead<=W&&H===y)return r;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=P&&0<$.strstart&&(X=rt[tt=$.strstart-1])===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]){st=$.strstart+W;do;while(X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&tt<st);$.match_length=W-(st-tt),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=P?(J=a._tr_tally($,1,$.match_length-P),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(J=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),J&&(x($,!1),$.strm.avail_out===0))return r}return $.insert=0,H===E?(x($,!0),$.strm.avail_out===0?G:z):$.last_lit&&(x($,!1),$.strm.avail_out===0)?r:I})(k,U):d[k.level].func(k,U);if(j!==G&&j!==z||(k.status=666),j===r||j===G)return t.avail_out===0&&(k.last_flush=-1),p;if(j===I&&(U===1?a._tr_align(k):U!==5&&(a._tr_stored_block(k,0,0,!1),U===3&&(Z(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),L(t),t.avail_out===0))return k.last_flush=-1,p}return U!==E?p:k.wrap<=0?1:(k.wrap===2?(K(k,255&t.adler),K(k,t.adler>>8&255),K(k,t.adler>>16&255),K(k,t.adler>>24&255),K(k,255&t.total_in),K(k,t.total_in>>8&255),K(k,t.total_in>>16&255),K(k,t.total_in>>24&255)):(V(k,t.adler>>>16),V(k,65535&t.adler)),L(t),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?p:1)},h.deflateEnd=function(t){var U;return t&&t.state?(U=t.state.status)!==C&&U!==69&&U!==73&&U!==91&&U!==103&&U!==F&&U!==666?Y(t,A):(t.state=null,U===F?Y(t,-3):p):A},h.deflateSetDictionary=function(t,U){var B,k,S,O,M,j,$,H,J=U.length;if(!t||!t.state||(O=(B=t.state).wrap)===2||O===1&&B.status!==C||B.lookahead)return A;for(O===1&&(t.adler=c(t.adler,U,J,0)),B.wrap=0,J>=B.w_size&&(O===0&&(Z(B.head),B.strstart=0,B.block_start=0,B.insert=0),H=new l.Buf8(B.w_size),l.arraySet(H,U,J-B.w_size,B.w_size,0),U=H,J=B.w_size),M=t.avail_in,j=t.next_in,$=t.input,t.avail_in=J,t.next_in=0,t.input=U,it(B);B.lookahead>=P;){for(k=B.strstart,S=B.lookahead-(P-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[k+P-1])&B.hash_mask,B.prev[k&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=k,k++,--S;);B.strstart=k,B.lookahead=P-1,it(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=P-1,B.match_available=0,t.next_in=j,t.input=$,t.avail_in=M,B.wrap=O,p},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,_,h){_.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,_,h){_.exports=function(d,l){var a,c,g,u,y,E,p,A,o,w,i,f,n,s,m,b,T,D,P,W,Q,C,F,r,I;a=d.state,c=d.next_in,r=d.input,g=c+(d.avail_in-5),u=d.next_out,I=d.output,y=u-(l-d.avail_out),E=u+(d.avail_out-257),p=a.dmax,A=a.wsize,o=a.whave,w=a.wnext,i=a.window,f=a.hold,n=a.bits,s=a.lencode,m=a.distcode,b=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;t:do{n<15&&(f+=r[c++]<<n,n+=8,f+=r[c++]<<n,n+=8),D=s[f&b];e:for(;;){if(f>>>=P=D>>>24,n-=P,(P=D>>>16&255)===0)I[u++]=65535&D;else{if(!(16&P)){if((64&P)==0){D=s[(65535&D)+(f&(1<<P)-1)];continue e}if(32&P){a.mode=12;break t}d.msg="invalid literal/length code",a.mode=30;break t}W=65535&D,(P&=15)&&(n<P&&(f+=r[c++]<<n,n+=8),W+=f&(1<<P)-1,f>>>=P,n-=P),n<15&&(f+=r[c++]<<n,n+=8,f+=r[c++]<<n,n+=8),D=m[f&T];r:for(;;){if(f>>>=P=D>>>24,n-=P,!(16&(P=D>>>16&255))){if((64&P)==0){D=m[(65535&D)+(f&(1<<P)-1)];continue r}d.msg="invalid distance code",a.mode=30;break t}if(Q=65535&D,n<(P&=15)&&(f+=r[c++]<<n,(n+=8)<P&&(f+=r[c++]<<n,n+=8)),p<(Q+=f&(1<<P)-1)){d.msg="invalid distance too far back",a.mode=30;break t}if(f>>>=P,n-=P,(P=u-y)<Q){if(o<(P=Q-P)&&a.sane){d.msg="invalid distance too far back",a.mode=30;break t}if(F=i,(C=0)===w){if(C+=A-P,P<W){for(W-=P;I[u++]=i[C++],--P;);C=u-Q,F=I}}else if(w<P){if(C+=A+w-P,(P-=w)<W){for(W-=P;I[u++]=i[C++],--P;);if(C=0,w<W){for(W-=P=w;I[u++]=i[C++],--P;);C=u-Q,F=I}}}else if(C+=w-P,P<W){for(W-=P;I[u++]=i[C++],--P;);C=u-Q,F=I}for(;2<W;)I[u++]=F[C++],I[u++]=F[C++],I[u++]=F[C++],W-=3;W&&(I[u++]=F[C++],1<W&&(I[u++]=F[C++]))}else{for(C=u-Q;I[u++]=I[C++],I[u++]=I[C++],I[u++]=I[C++],2<(W-=3););W&&(I[u++]=I[C++],1<W&&(I[u++]=I[C++]))}break}}break}}while(c<g&&u<E);c-=W=n>>3,f&=(1<<(n-=W<<3))-1,d.next_in=c,d.next_out=u,d.avail_in=c<g?g-c+5:5-(c-g),d.avail_out=u<E?E-u+257:257-(u-E),a.hold=f,a.bits=n}},{}],49:[function(e,_,h){var d=e("../utils/common"),l=e("./adler32"),a=e("./crc32"),c=e("./inffast"),g=e("./inftrees"),u=1,y=2,E=0,p=-2,A=1,o=852,w=592;function i(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function n(C){var F;return C&&C.state?(F=C.state,C.total_in=C.total_out=F.total=0,C.msg="",F.wrap&&(C.adler=1&F.wrap),F.mode=A,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new d.Buf32(o),F.distcode=F.distdyn=new d.Buf32(w),F.sane=1,F.back=-1,E):p}function s(C){var F;return C&&C.state?((F=C.state).wsize=0,F.whave=0,F.wnext=0,n(C)):p}function m(C,F){var r,I;return C&&C.state?(I=C.state,F<0?(r=0,F=-F):(r=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?p:(I.window!==null&&I.wbits!==F&&(I.window=null),I.wrap=r,I.wbits=F,s(C))):p}function b(C,F){var r,I;return C?(I=new f,(C.state=I).window=null,(r=m(C,F))!==E&&(C.state=null),r):p}var T,D,P=!0;function W(C){if(P){var F;for(T=new d.Buf32(512),D=new d.Buf32(32),F=0;F<144;)C.lens[F++]=8;for(;F<256;)C.lens[F++]=9;for(;F<280;)C.lens[F++]=7;for(;F<288;)C.lens[F++]=8;for(g(u,C.lens,0,288,T,0,C.work,{bits:9}),F=0;F<32;)C.lens[F++]=5;g(y,C.lens,0,32,D,0,C.work,{bits:5}),P=!1}C.lencode=T,C.lenbits=9,C.distcode=D,C.distbits=5}function Q(C,F,r,I){var G,z=C.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new d.Buf8(z.wsize)),I>=z.wsize?(d.arraySet(z.window,F,r-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(I<(G=z.wsize-z.wnext)&&(G=I),d.arraySet(z.window,F,r-I,G,z.wnext),(I-=G)?(d.arraySet(z.window,F,r-I,I,0),z.wnext=I,z.whave=z.wsize):(z.wnext+=G,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=G))),0}h.inflateReset=s,h.inflateReset2=m,h.inflateResetKeep=n,h.inflateInit=function(C){return b(C,15)},h.inflateInit2=b,h.inflate=function(C,F){var r,I,G,z,Y,N,Z,L,x,K,V,q,it,ht,et,nt,ct,at,St,bt,t,U,B,k,S=0,O=new d.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return p;(r=C.state).mode===12&&(r.mode=13),Y=C.next_out,G=C.output,Z=C.avail_out,z=C.next_in,I=C.input,N=C.avail_in,L=r.hold,x=r.bits,K=N,V=Z,U=E;t:for(;;)switch(r.mode){case A:if(r.wrap===0){r.mode=13;break}for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(2&r.wrap&&L===35615){O[r.check=0]=255&L,O[1]=L>>>8&255,r.check=a(r.check,O,2,0),x=L=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&L)<<8)+(L>>8))%31){C.msg="incorrect header check",r.mode=30;break}if((15&L)!=8){C.msg="unknown compression method",r.mode=30;break}if(x-=4,t=8+(15&(L>>>=4)),r.wbits===0)r.wbits=t;else if(t>r.wbits){C.msg="invalid window size",r.mode=30;break}r.dmax=1<<t,C.adler=r.check=1,r.mode=512&L?10:12,x=L=0;break;case 2:for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(r.flags=L,(255&r.flags)!=8){C.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){C.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=L>>8&1),512&r.flags&&(O[0]=255&L,O[1]=L>>>8&255,r.check=a(r.check,O,2,0)),x=L=0,r.mode=3;case 3:for(;x<32;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}r.head&&(r.head.time=L),512&r.flags&&(O[0]=255&L,O[1]=L>>>8&255,O[2]=L>>>16&255,O[3]=L>>>24&255,r.check=a(r.check,O,4,0)),x=L=0,r.mode=4;case 4:for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}r.head&&(r.head.xflags=255&L,r.head.os=L>>8),512&r.flags&&(O[0]=255&L,O[1]=L>>>8&255,r.check=a(r.check,O,2,0)),x=L=0,r.mode=5;case 5:if(1024&r.flags){for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}r.length=L,r.head&&(r.head.extra_len=L),512&r.flags&&(O[0]=255&L,O[1]=L>>>8&255,r.check=a(r.check,O,2,0)),x=L=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(N<(q=r.length)&&(q=N),q&&(r.head&&(t=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),d.arraySet(r.head.extra,I,z,q,t)),512&r.flags&&(r.check=a(r.check,I,q,z)),N-=q,z+=q,r.length-=q),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(N===0)break t;for(q=0;t=I[z+q++],r.head&&t&&r.length<65536&&(r.head.name+=String.fromCharCode(t)),t&&q<N;);if(512&r.flags&&(r.check=a(r.check,I,q,z)),N-=q,z+=q,t)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(N===0)break t;for(q=0;t=I[z+q++],r.head&&t&&r.length<65536&&(r.head.comment+=String.fromCharCode(t)),t&&q<N;);if(512&r.flags&&(r.check=a(r.check,I,q,z)),N-=q,z+=q,t)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(L!==(65535&r.check)){C.msg="header crc mismatch",r.mode=30;break}x=L=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),C.adler=r.check=0,r.mode=12;break;case 10:for(;x<32;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}C.adler=r.check=i(L),x=L=0,r.mode=11;case 11:if(r.havedict===0)return C.next_out=Y,C.avail_out=Z,C.next_in=z,C.avail_in=N,r.hold=L,r.bits=x,2;C.adler=r.check=1,r.mode=12;case 12:if(F===5||F===6)break t;case 13:if(r.last){L>>>=7&x,x-=7&x,r.mode=27;break}for(;x<3;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}switch(r.last=1&L,x-=1,3&(L>>>=1)){case 0:r.mode=14;break;case 1:if(W(r),r.mode=20,F!==6)break;L>>>=2,x-=2;break t;case 2:r.mode=17;break;case 3:C.msg="invalid block type",r.mode=30}L>>>=2,x-=2;break;case 14:for(L>>>=7&x,x-=7&x;x<32;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if((65535&L)!=(L>>>16^65535)){C.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&L,x=L=0,r.mode=15,F===6)break t;case 15:r.mode=16;case 16:if(q=r.length){if(N<q&&(q=N),Z<q&&(q=Z),q===0)break t;d.arraySet(G,I,z,q,Y),N-=q,z+=q,Z-=q,Y+=q,r.length-=q;break}r.mode=12;break;case 17:for(;x<14;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(r.nlen=257+(31&L),L>>>=5,x-=5,r.ndist=1+(31&L),L>>>=5,x-=5,r.ncode=4+(15&L),L>>>=4,x-=4,286<r.nlen||30<r.ndist){C.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;x<3;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}r.lens[M[r.have++]]=7&L,L>>>=3,x-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},U=g(0,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,U){C.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;nt=(S=r.lencode[L&(1<<r.lenbits)-1])>>>16&255,ct=65535&S,!((et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(ct<16)L>>>=et,x-=et,r.lens[r.have++]=ct;else{if(ct===16){for(k=et+2;x<k;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(L>>>=et,x-=et,r.have===0){C.msg="invalid bit length repeat",r.mode=30;break}t=r.lens[r.have-1],q=3+(3&L),L>>>=2,x-=2}else if(ct===17){for(k=et+3;x<k;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}x-=et,t=0,q=3+(7&(L>>>=et)),L>>>=3,x-=3}else{for(k=et+7;x<k;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}x-=et,t=0,q=11+(127&(L>>>=et)),L>>>=7,x-=7}if(r.have+q>r.nlen+r.ndist){C.msg="invalid bit length repeat",r.mode=30;break}for(;q--;)r.lens[r.have++]=t}}if(r.mode===30)break;if(r.lens[256]===0){C.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,B={bits:r.lenbits},U=g(u,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,U){C.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},U=g(y,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,U){C.msg="invalid distances set",r.mode=30;break}if(r.mode=20,F===6)break t;case 20:r.mode=21;case 21:if(6<=N&&258<=Z){C.next_out=Y,C.avail_out=Z,C.next_in=z,C.avail_in=N,r.hold=L,r.bits=x,c(C,V),Y=C.next_out,G=C.output,Z=C.avail_out,z=C.next_in,I=C.input,N=C.avail_in,L=r.hold,x=r.bits,r.mode===12&&(r.back=-1);break}for(r.back=0;nt=(S=r.lencode[L&(1<<r.lenbits)-1])>>>16&255,ct=65535&S,!((et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(nt&&(240&nt)==0){for(at=et,St=nt,bt=ct;nt=(S=r.lencode[bt+((L&(1<<at+St)-1)>>at)])>>>16&255,ct=65535&S,!(at+(et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}L>>>=at,x-=at,r.back+=at}if(L>>>=et,x-=et,r.back+=et,r.length=ct,nt===0){r.mode=26;break}if(32&nt){r.back=-1,r.mode=12;break}if(64&nt){C.msg="invalid literal/length code",r.mode=30;break}r.extra=15&nt,r.mode=22;case 22:if(r.extra){for(k=r.extra;x<k;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}r.length+=L&(1<<r.extra)-1,L>>>=r.extra,x-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;nt=(S=r.distcode[L&(1<<r.distbits)-1])>>>16&255,ct=65535&S,!((et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if((240&nt)==0){for(at=et,St=nt,bt=ct;nt=(S=r.distcode[bt+((L&(1<<at+St)-1)>>at)])>>>16&255,ct=65535&S,!(at+(et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}L>>>=at,x-=at,r.back+=at}if(L>>>=et,x-=et,r.back+=et,64&nt){C.msg="invalid distance code",r.mode=30;break}r.offset=ct,r.extra=15&nt,r.mode=24;case 24:if(r.extra){for(k=r.extra;x<k;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}r.offset+=L&(1<<r.extra)-1,L>>>=r.extra,x-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){C.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(Z===0)break t;if(q=V-Z,r.offset>q){if((q=r.offset-q)>r.whave&&r.sane){C.msg="invalid distance too far back",r.mode=30;break}it=q>r.wnext?(q-=r.wnext,r.wsize-q):r.wnext-q,q>r.length&&(q=r.length),ht=r.window}else ht=G,it=Y-r.offset,q=r.length;for(Z<q&&(q=Z),Z-=q,r.length-=q;G[Y++]=ht[it++],--q;);r.length===0&&(r.mode=21);break;case 26:if(Z===0)break t;G[Y++]=r.length,Z--,r.mode=21;break;case 27:if(r.wrap){for(;x<32;){if(N===0)break t;N--,L|=I[z++]<<x,x+=8}if(V-=Z,C.total_out+=V,r.total+=V,V&&(C.adler=r.check=r.flags?a(r.check,G,V,Y-V):l(r.check,G,V,Y-V)),V=Z,(r.flags?L:i(L))!==r.check){C.msg="incorrect data check",r.mode=30;break}x=L=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;x<32;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(L!==(4294967295&r.total)){C.msg="incorrect length check",r.mode=30;break}x=L=0}r.mode=29;case 29:U=1;break t;case 30:U=-3;break t;case 31:return-4;case 32:default:return p}return C.next_out=Y,C.avail_out=Z,C.next_in=z,C.avail_in=N,r.hold=L,r.bits=x,(r.wsize||V!==C.avail_out&&r.mode<30&&(r.mode<27||F!==4))&&Q(C,C.output,C.next_out,V-C.avail_out)?(r.mode=31,-4):(K-=C.avail_in,V-=C.avail_out,C.total_in+=K,C.total_out+=V,r.total+=V,r.wrap&&V&&(C.adler=r.check=r.flags?a(r.check,G,V,C.next_out-V):l(r.check,G,V,C.next_out-V)),C.data_type=r.bits+(r.last?64:0)+(r.mode===12?128:0)+(r.mode===20||r.mode===15?256:0),(K==0&&V===0||F===4)&&U===E&&(U=-5),U)},h.inflateEnd=function(C){if(!C||!C.state)return p;var F=C.state;return F.window&&(F.window=null),C.state=null,E},h.inflateGetHeader=function(C,F){var r;return C&&C.state?(2&(r=C.state).wrap)==0?p:((r.head=F).done=!1,E):p},h.inflateSetDictionary=function(C,F){var r,I=F.length;return C&&C.state?(r=C.state).wrap!==0&&r.mode!==11?p:r.mode===11&&l(1,F,I,0)!==r.check?-3:Q(C,F,I,I)?(r.mode=31,-4):(r.havedict=1,E):p},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,_,h){var d=e("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];_.exports=function(u,y,E,p,A,o,w,i){var f,n,s,m,b,T,D,P,W,Q=i.bits,C=0,F=0,r=0,I=0,G=0,z=0,Y=0,N=0,Z=0,L=0,x=null,K=0,V=new d.Buf16(16),q=new d.Buf16(16),it=null,ht=0;for(C=0;C<=15;C++)V[C]=0;for(F=0;F<p;F++)V[y[E+F]]++;for(G=Q,I=15;1<=I&&V[I]===0;I--);if(I<G&&(G=I),I===0)return A[o++]=20971520,A[o++]=20971520,i.bits=1,0;for(r=1;r<I&&V[r]===0;r++);for(G<r&&(G=r),C=N=1;C<=15;C++)if(N<<=1,(N-=V[C])<0)return-1;if(0<N&&(u===0||I!==1))return-1;for(q[1]=0,C=1;C<15;C++)q[C+1]=q[C]+V[C];for(F=0;F<p;F++)y[E+F]!==0&&(w[q[y[E+F]]++]=F);if(T=u===0?(x=it=w,19):u===1?(x=l,K-=257,it=a,ht-=257,256):(x=c,it=g,-1),C=r,b=o,Y=F=L=0,s=-1,m=(Z=1<<(z=G))-1,u===1&&852<Z||u===2&&592<Z)return 1;for(;;){for(D=C-Y,W=w[F]<T?(P=0,w[F]):w[F]>T?(P=it[ht+w[F]],x[K+w[F]]):(P=96,0),f=1<<C-Y,r=n=1<<z;A[b+(L>>Y)+(n-=f)]=D<<24|P<<16|W|0,n!==0;);for(f=1<<C-1;L&f;)f>>=1;if(f!==0?(L&=f-1,L+=f):L=0,F++,--V[C]==0){if(C===I)break;C=y[E+w[F]]}if(G<C&&(L&m)!==s){for(Y===0&&(Y=G),b+=r,N=1<<(z=C-Y);z+Y<I&&!((N-=V[z+Y])<=0);)z++,N<<=1;if(Z+=1<<z,u===1&&852<Z||u===2&&592<Z)return 1;A[s=L&m]=G<<24|z<<16|b-o|0}}return L!==0&&(A[b+L]=C-Y<<24|64<<16|0),i.bits=G,0}},{"../utils/common":41}],51:[function(e,_,h){_.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,_,h){var d=e("../utils/common"),l=0,a=1;function c(S){for(var O=S.length;0<=--O;)S[O]=0}var g=0,u=29,y=256,E=y+1+u,p=30,A=19,o=2*E+1,w=15,i=16,f=7,n=256,s=16,m=17,b=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(E+2));c(Q);var C=new Array(2*p);c(C);var F=new Array(512);c(F);var r=new Array(256);c(r);var I=new Array(u);c(I);var G,z,Y,N=new Array(p);function Z(S,O,M,j,$){this.static_tree=S,this.extra_bits=O,this.extra_base=M,this.elems=j,this.max_length=$,this.has_stree=S&&S.length}function L(S,O){this.dyn_tree=S,this.max_code=0,this.stat_desc=O}function x(S){return S<256?F[S]:F[256+(S>>>7)]}function K(S,O){S.pending_buf[S.pending++]=255&O,S.pending_buf[S.pending++]=O>>>8&255}function V(S,O,M){S.bi_valid>i-M?(S.bi_buf|=O<<S.bi_valid&65535,K(S,S.bi_buf),S.bi_buf=O>>i-S.bi_valid,S.bi_valid+=M-i):(S.bi_buf|=O<<S.bi_valid&65535,S.bi_valid+=M)}function q(S,O,M){V(S,M[2*O],M[2*O+1])}function it(S,O){for(var M=0;M|=1&S,S>>>=1,M<<=1,0<--O;);return M>>>1}function ht(S,O,M){var j,$,H=new Array(w+1),J=0;for(j=1;j<=w;j++)H[j]=J=J+M[j-1]<<1;for($=0;$<=O;$++){var X=S[2*$+1];X!==0&&(S[2*$]=it(H[X]++,X))}}function et(S){var O;for(O=0;O<E;O++)S.dyn_ltree[2*O]=0;for(O=0;O<p;O++)S.dyn_dtree[2*O]=0;for(O=0;O<A;O++)S.bl_tree[2*O]=0;S.dyn_ltree[2*n]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function nt(S){8<S.bi_valid?K(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function ct(S,O,M,j){var $=2*O,H=2*M;return S[$]<S[H]||S[$]===S[H]&&j[O]<=j[M]}function at(S,O,M){for(var j=S.heap[M],$=M<<1;$<=S.heap_len&&($<S.heap_len&&ct(O,S.heap[$+1],S.heap[$],S.depth)&&$++,!ct(O,j,S.heap[$],S.depth));)S.heap[M]=S.heap[$],M=$,$<<=1;S.heap[M]=j}function St(S,O,M){var j,$,H,J,X=0;if(S.last_lit!==0)for(;j=S.pending_buf[S.d_buf+2*X]<<8|S.pending_buf[S.d_buf+2*X+1],$=S.pending_buf[S.l_buf+X],X++,j===0?q(S,$,O):(q(S,(H=r[$])+y+1,O),(J=T[H])!==0&&V(S,$-=I[H],J),q(S,H=x(--j),M),(J=D[H])!==0&&V(S,j-=N[H],J)),X<S.last_lit;);q(S,n,O)}function bt(S,O){var M,j,$,H=O.dyn_tree,J=O.stat_desc.static_tree,X=O.stat_desc.has_stree,tt=O.stat_desc.elems,st=-1;for(S.heap_len=0,S.heap_max=o,M=0;M<tt;M++)H[2*M]!==0?(S.heap[++S.heap_len]=st=M,S.depth[M]=0):H[2*M+1]=0;for(;S.heap_len<2;)H[2*($=S.heap[++S.heap_len]=st<2?++st:0)]=1,S.depth[$]=0,S.opt_len--,X&&(S.static_len-=J[2*$+1]);for(O.max_code=st,M=S.heap_len>>1;1<=M;M--)at(S,H,M);for($=tt;M=S.heap[1],S.heap[1]=S.heap[S.heap_len--],at(S,H,1),j=S.heap[1],S.heap[--S.heap_max]=M,S.heap[--S.heap_max]=j,H[2*$]=H[2*M]+H[2*j],S.depth[$]=(S.depth[M]>=S.depth[j]?S.depth[M]:S.depth[j])+1,H[2*M+1]=H[2*j+1]=$,S.heap[1]=$++,at(S,H,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],(function(rt,gt){var Nt,At,Dt,ot,Vt,rr,kt=gt.dyn_tree,gn=gt.max_code,Ri=gt.stat_desc.static_tree,ki=gt.stat_desc.has_stree,Ci=gt.stat_desc.extra_bits,_n=gt.stat_desc.extra_base,Pt=gt.stat_desc.max_length,Kt=0;for(ot=0;ot<=w;ot++)rt.bl_count[ot]=0;for(kt[2*rt.heap[rt.heap_max]+1]=0,Nt=rt.heap_max+1;Nt<o;Nt++)Pt<(ot=kt[2*kt[2*(At=rt.heap[Nt])+1]+1]+1)&&(ot=Pt,Kt++),kt[2*At+1]=ot,gn<At||(rt.bl_count[ot]++,Vt=0,_n<=At&&(Vt=Ci[At-_n]),rr=kt[2*At],rt.opt_len+=rr*(ot+Vt),ki&&(rt.static_len+=rr*(Ri[2*At+1]+Vt)));if(Kt!==0){do{for(ot=Pt-1;rt.bl_count[ot]===0;)ot--;rt.bl_count[ot]--,rt.bl_count[ot+1]+=2,rt.bl_count[Pt]--,Kt-=2}while(0<Kt);for(ot=Pt;ot!==0;ot--)for(At=rt.bl_count[ot];At!==0;)gn<(Dt=rt.heap[--Nt])||(kt[2*Dt+1]!==ot&&(rt.opt_len+=(ot-kt[2*Dt+1])*kt[2*Dt],kt[2*Dt+1]=ot),At--)}})(S,O),ht(H,st,S.bl_count)}function t(S,O,M){var j,$,H=-1,J=O[1],X=0,tt=7,st=4;for(J===0&&(tt=138,st=3),O[2*(M+1)+1]=65535,j=0;j<=M;j++)$=J,J=O[2*(j+1)+1],++X<tt&&$===J||(X<st?S.bl_tree[2*$]+=X:$!==0?($!==H&&S.bl_tree[2*$]++,S.bl_tree[2*s]++):X<=10?S.bl_tree[2*m]++:S.bl_tree[2*b]++,H=$,st=(X=0)===J?(tt=138,3):$===J?(tt=6,3):(tt=7,4))}function U(S,O,M){var j,$,H=-1,J=O[1],X=0,tt=7,st=4;for(J===0&&(tt=138,st=3),j=0;j<=M;j++)if($=J,J=O[2*(j+1)+1],!(++X<tt&&$===J)){if(X<st)for(;q(S,$,S.bl_tree),--X!=0;);else $!==0?($!==H&&(q(S,$,S.bl_tree),X--),q(S,s,S.bl_tree),V(S,X-3,2)):X<=10?(q(S,m,S.bl_tree),V(S,X-3,3)):(q(S,b,S.bl_tree),V(S,X-11,7));H=$,st=(X=0)===J?(tt=138,3):$===J?(tt=6,3):(tt=7,4)}}c(N);var B=!1;function k(S,O,M,j){V(S,(g<<1)+(j?1:0),3),(function($,H,J,X){nt($),K($,J),K($,~J),d.arraySet($.pending_buf,$.window,H,J,$.pending),$.pending+=J})(S,O,M)}h._tr_init=function(S){B||((function(){var O,M,j,$,H,J=new Array(w+1);for($=j=0;$<u-1;$++)for(I[$]=j,O=0;O<1<<T[$];O++)r[j++]=$;for(r[j-1]=$,$=H=0;$<16;$++)for(N[$]=H,O=0;O<1<<D[$];O++)F[H++]=$;for(H>>=7;$<p;$++)for(N[$]=H<<7,O=0;O<1<<D[$]-7;O++)F[256+H++]=$;for(M=0;M<=w;M++)J[M]=0;for(O=0;O<=143;)Q[2*O+1]=8,O++,J[8]++;for(;O<=255;)Q[2*O+1]=9,O++,J[9]++;for(;O<=279;)Q[2*O+1]=7,O++,J[7]++;for(;O<=287;)Q[2*O+1]=8,O++,J[8]++;for(ht(Q,E+1,J),O=0;O<p;O++)C[2*O+1]=5,C[2*O]=it(O,5);G=new Z(Q,T,y+1,E,w),z=new Z(C,D,0,p,w),Y=new Z(new Array(0),P,0,A,f)})(),B=!0),S.l_desc=new L(S.dyn_ltree,G),S.d_desc=new L(S.dyn_dtree,z),S.bl_desc=new L(S.bl_tree,Y),S.bi_buf=0,S.bi_valid=0,et(S)},h._tr_stored_block=k,h._tr_flush_block=function(S,O,M,j){var $,H,J=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=(function(X){var tt,st=4093624447;for(tt=0;tt<=31;tt++,st>>>=1)if(1&st&&X.dyn_ltree[2*tt]!==0)return l;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return a;for(tt=32;tt<y;tt++)if(X.dyn_ltree[2*tt]!==0)return a;return l})(S)),bt(S,S.l_desc),bt(S,S.d_desc),J=(function(X){var tt;for(t(X,X.dyn_ltree,X.l_desc.max_code),t(X,X.dyn_dtree,X.d_desc.max_code),bt(X,X.bl_desc),tt=A-1;3<=tt&&X.bl_tree[2*W[tt]+1]===0;tt--);return X.opt_len+=3*(tt+1)+5+5+4,tt})(S),$=S.opt_len+3+7>>>3,(H=S.static_len+3+7>>>3)<=$&&($=H)):$=H=M+5,M+4<=$&&O!==-1?k(S,O,M,j):S.strategy===4||H===$?(V(S,2+(j?1:0),3),St(S,Q,C)):(V(S,4+(j?1:0),3),(function(X,tt,st,rt){var gt;for(V(X,tt-257,5),V(X,st-1,5),V(X,rt-4,4),gt=0;gt<rt;gt++)V(X,X.bl_tree[2*W[gt]+1],3);U(X,X.dyn_ltree,tt-1),U(X,X.dyn_dtree,st-1)})(S,S.l_desc.max_code+1,S.d_desc.max_code+1,J+1),St(S,S.dyn_ltree,S.dyn_dtree)),et(S),j&&nt(S)},h._tr_tally=function(S,O,M){return S.pending_buf[S.d_buf+2*S.last_lit]=O>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&O,S.pending_buf[S.l_buf+S.last_lit]=255&M,S.last_lit++,O===0?S.dyn_ltree[2*M]++:(S.matches++,O--,S.dyn_ltree[2*(r[M]+y+1)]++,S.dyn_dtree[2*x(O)]++),S.last_lit===S.lit_bufsize-1},h._tr_align=function(S){V(S,2,3),q(S,n,Q),(function(O){O.bi_valid===16?(K(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)})(S)}},{"../utils/common":41}],53:[function(e,_,h){_.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,_,h){(function(d){(function(l,a){if(!l.setImmediate){var c,g,u,y,E=1,p={},A=!1,o=l.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(l);w=w&&w.setTimeout?w:l,c={}.toString.call(l.process)==="[object process]"?function(s){process.nextTick(function(){f(s)})}:(function(){if(l.postMessage&&!l.importScripts){var s=!0,m=l.onmessage;return l.onmessage=function(){s=!1},l.postMessage("","*"),l.onmessage=m,s}})()?(y="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",n,!1):l.attachEvent("onmessage",n),function(s){l.postMessage(y+s,"*")}):l.MessageChannel?((u=new MessageChannel).port1.onmessage=function(s){f(s.data)},function(s){u.port2.postMessage(s)}):o&&"onreadystatechange"in o.createElement("script")?(g=o.documentElement,function(s){var m=o.createElement("script");m.onreadystatechange=function(){f(s),m.onreadystatechange=null,g.removeChild(m),m=null},g.appendChild(m)}):function(s){setTimeout(f,0,s)},w.setImmediate=function(s){typeof s!="function"&&(s=new Function(""+s));for(var m=new Array(arguments.length-1),b=0;b<m.length;b++)m[b]=arguments[b+1];var T={callback:s,args:m};return p[E]=T,c(E),E++},w.clearImmediate=i}function i(s){delete p[s]}function f(s){if(A)setTimeout(f,0,s);else{var m=p[s];if(m){A=!0;try{(function(b){var T=b.callback,D=b.args;switch(D.length){case 0:T();break;case 1:T(D[0]);break;case 2:T(D[0],D[1]);break;case 3:T(D[0],D[1],D[2]);break;default:T.apply(a,D)}})(m)}finally{i(s),A=!1}}}}function n(s){s.source===l&&typeof s.data=="string"&&s.data.indexOf(y)===0&&f(+s.data.slice(y.length))}})(typeof self=="undefined"?d===void 0?this:d:self)}).call(this,typeof Mt!="undefined"?Mt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(ee)),ee.exports}var Ln=On();const fr=ur(Ln),Tt=Jt("yascml-mods","yascml-mods"),hr=v=>ir(v,Tt),Tn=()=>lr(Tt),$n=(v,R)=>Et(null,null,function*(){return(yield hr(v))?ar(v,()=>R,Tt):sr(v,R,Tt)}),zn=v=>or(v,Tt),Nn=v=>{const R=It("disabledMods");if(R.findIndex(e=>e===v)===-1)return Ot("disabledMods",[...R,v])},dr=v=>{const R=It("disabledMods");if(R.findIndex(e=>e===v)!==-1)return Ot("disabledMods",R.filter(e=>e!==v))};var qt={exports:{}},re,pr;function Gt(){if(pr)return re;pr=1;const v="2.0.0",R=256,e=Number.MAX_SAFE_INTEGER||9007199254740991,_=16,h=R-6;return re={MAX_LENGTH:R,MAX_SAFE_COMPONENT_LENGTH:_,MAX_SAFE_BUILD_LENGTH:h,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:v,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},re}var ne,mr;function Wt(){return mr||(mr=1,ne=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...R)=>console.error("SEMVER",...R):()=>{}),ne}var gr;function $t(){return gr||(gr=1,(function(v,R){const{MAX_SAFE_COMPONENT_LENGTH:e,MAX_SAFE_BUILD_LENGTH:_,MAX_LENGTH:h}=Gt(),d=Wt();R=v.exports={};const l=R.re=[],a=R.safeRe=[],c=R.src=[],g=R.safeSrc=[],u=R.t={};let y=0;const E="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",h],[E,_]],A=w=>{for(const[i,f]of p)w=w.split(`${i}*`).join(`${i}{0,${f}}`).split(`${i}+`).join(`${i}{1,${f}}`);return w},o=(w,i,f)=>{const n=A(i),s=y++;d(w,s,i),u[w]=s,c[s]=i,g[s]=n,l[s]=new RegExp(i,f?"g":void 0),a[s]=new RegExp(n,f?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","\\d+"),o("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),o("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER",`${E}+`),o("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),o("FULL",`^${c[u.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),o("LOOSE",`^${c[u.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),o("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),o("COERCEPLAIN",`(^|[^\\d])(\\d{1,${e}})(?:\\.(\\d{1,${e}}))?(?:\\.(\\d{1,${e}}))?`),o("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),o("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),o("COERCERTL",c[u.COERCE],!0),o("COERCERTLFULL",c[u.COERCEFULL],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),R.tildeTrimReplace="$1~",o("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),R.caretTrimReplace="$1^",o("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),R.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(qt,qt.exports)),qt.exports}var ie,_r;function se(){if(_r)return ie;_r=1;const v=Object.freeze({loose:!0}),R=Object.freeze({});return ie=_=>_?typeof _!="object"?v:_:R,ie}var ae,wr;function vr(){if(wr)return ae;wr=1;const v=/^[0-9]+$/,R=(_,h)=>{const d=v.test(_),l=v.test(h);return d&&l&&(_=+_,h=+h),_===h?0:d&&!l?-1:l&&!d?1:_<h?-1:1};return ae={compareIdentifiers:R,rcompareIdentifiers:(_,h)=>R(h,_)},ae}var oe,yr;function pt(){if(yr)return oe;yr=1;const v=Wt(),{MAX_LENGTH:R,MAX_SAFE_INTEGER:e}=Gt(),{safeRe:_,t:h}=$t(),d=se(),{compareIdentifiers:l}=vr();class a{constructor(g,u){if(u=d(u),g instanceof a){if(g.loose===!!u.loose&&g.includePrerelease===!!u.includePrerelease)return g;g=g.version}else if(typeof g!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof g}".`);if(g.length>R)throw new TypeError(`version is longer than ${R} characters`);v("SemVer",g,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const y=g.trim().match(u.loose?_[h.LOOSE]:_[h.FULL]);if(!y)throw new TypeError(`Invalid Version: ${g}`);if(this.raw=g,this.major=+y[1],this.minor=+y[2],this.patch=+y[3],this.major>e||this.major<0)throw new TypeError("Invalid major version");if(this.minor>e||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>e||this.patch<0)throw new TypeError("Invalid patch version");y[4]?this.prerelease=y[4].split(".").map(E=>{if(/^[0-9]+$/.test(E)){const p=+E;if(p>=0&&p<e)return p}return E}):this.prerelease=[],this.build=y[5]?y[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(g){if(v("SemVer.compare",this.version,this.options,g),!(g instanceof a)){if(typeof g=="string"&&g===this.version)return 0;g=new a(g,this.options)}return g.version===this.version?0:this.compareMain(g)||this.comparePre(g)}compareMain(g){return g instanceof a||(g=new a(g,this.options)),l(this.major,g.major)||l(this.minor,g.minor)||l(this.patch,g.patch)}comparePre(g){if(g instanceof a||(g=new a(g,this.options)),this.prerelease.length&&!g.prerelease.length)return-1;if(!this.prerelease.length&&g.prerelease.length)return 1;if(!this.prerelease.length&&!g.prerelease.length)return 0;let u=0;do{const y=this.prerelease[u],E=g.prerelease[u];if(v("prerelease compare",u,y,E),y===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(y===void 0)return-1;if(y===E)continue;return l(y,E)}while(++u)}compareBuild(g){g instanceof a||(g=new a(g,this.options));let u=0;do{const y=this.build[u],E=g.build[u];if(v("build compare",u,y,E),y===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(y===void 0)return-1;if(y===E)continue;return l(y,E)}while(++u)}inc(g,u,y){if(g.startsWith("pre")){if(!u&&y===!1)throw new Error("invalid increment argument: identifier is empty");if(u){const E=`-${u}`.match(this.options.loose?_[h.PRERELEASELOOSE]:_[h.PRERELEASE]);if(!E||E[1]!==u)throw new Error(`invalid identifier: ${u}`)}}switch(g){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",u,y);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",u,y);break;case"prepatch":this.prerelease.length=0,this.inc("patch",u,y),this.inc("pre",u,y);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",u,y),this.inc("pre",u,y);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const E=Number(y)?1:0;if(this.prerelease.length===0)this.prerelease=[E];else{let p=this.prerelease.length;for(;--p>=0;)typeof this.prerelease[p]=="number"&&(this.prerelease[p]++,p=-2);if(p===-1){if(u===this.prerelease.join(".")&&y===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(E)}}if(u){let p=[u,E];y===!1&&(p=[u]),l(this.prerelease[0],u)===0?isNaN(this.prerelease[1])&&(this.prerelease=p):this.prerelease=p}break}default:throw new Error(`invalid increment argument: ${g}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return oe=a,oe}var le,br;function xt(){if(br)return le;br=1;const v=pt();return le=(e,_,h=!1)=>{if(e instanceof v)return e;try{return new v(e,_)}catch(d){if(!h)return null;throw d}},le}var ue,Er;function Dn(){if(Er)return ue;Er=1;const v=xt();return ue=(e,_)=>{const h=v(e,_);return h?h.version:null},ue}var ce,Sr;function Pn(){if(Sr)return ce;Sr=1;const v=xt();return ce=(e,_)=>{const h=v(e.trim().replace(/^[=v]+/,""),_);return h?h.version:null},ce}var fe,Ar;function Bn(){if(Ar)return fe;Ar=1;const v=pt();return fe=(e,_,h,d,l)=>{typeof h=="string"&&(l=d,d=h,h=void 0);try{return new v(e instanceof v?e.version:e,h).inc(_,d,l).version}catch(a){return null}},fe}var he,Rr;function Fn(){if(Rr)return he;Rr=1;const v=xt();return he=(e,_)=>{const h=v(e,null,!0),d=v(_,null,!0),l=h.compare(d);if(l===0)return null;const a=l>0,c=a?h:d,g=a?d:h,u=!!c.prerelease.length;if(!!g.prerelease.length&&!u){if(!g.patch&&!g.minor)return"major";if(g.compareMain(c)===0)return g.minor&&!g.patch?"minor":"patch"}const E=u?"pre":"";return h.major!==d.major?E+"major":h.minor!==d.minor?E+"minor":h.patch!==d.patch?E+"patch":"prerelease"},he}var de,kr;function Un(){if(kr)return de;kr=1;const v=pt();return de=(e,_)=>new v(e,_).major,de}var pe,Cr;function Mn(){if(Cr)return pe;Cr=1;const v=pt();return pe=(e,_)=>new v(e,_).minor,pe}var me,Ir;function jn(){if(Ir)return me;Ir=1;const v=pt();return me=(e,_)=>new v(e,_).patch,me}var ge,xr;function qn(){if(xr)return ge;xr=1;const v=xt();return ge=(e,_)=>{const h=v(e,_);return h&&h.prerelease.length?h.prerelease:null},ge}var _e,Or;function wt(){if(Or)return _e;Or=1;const v=pt();return _e=(e,_,h)=>new v(e,h).compare(new v(_,h)),_e}var we,Lr;function Gn(){if(Lr)return we;Lr=1;const v=wt();return we=(e,_,h)=>v(_,e,h),we}var ve,Tr;function Wn(){if(Tr)return ve;Tr=1;const v=wt();return ve=(e,_)=>v(e,_,!0),ve}var ye,$r;function be(){if($r)return ye;$r=1;const v=pt();return ye=(e,_,h)=>{const d=new v(e,h),l=new v(_,h);return d.compare(l)||d.compareBuild(l)},ye}var Ee,zr;function Zn(){if(zr)return Ee;zr=1;const v=be();return Ee=(e,_)=>e.sort((h,d)=>v(h,d,_)),Ee}var Se,Nr;function Yn(){if(Nr)return Se;Nr=1;const v=be();return Se=(e,_)=>e.sort((h,d)=>v(d,h,_)),Se}var Ae,Dr;function Zt(){if(Dr)return Ae;Dr=1;const v=wt();return Ae=(e,_,h)=>v(e,_,h)>0,Ae}var Re,Pr;function ke(){if(Pr)return Re;Pr=1;const v=wt();return Re=(e,_,h)=>v(e,_,h)<0,Re}var Ce,Br;function Fr(){if(Br)return Ce;Br=1;const v=wt();return Ce=(e,_,h)=>v(e,_,h)===0,Ce}var Ie,Ur;function Mr(){if(Ur)return Ie;Ur=1;const v=wt();return Ie=(e,_,h)=>v(e,_,h)!==0,Ie}var xe,jr;function Oe(){if(jr)return xe;jr=1;const v=wt();return xe=(e,_,h)=>v(e,_,h)>=0,xe}var Le,qr;function Te(){if(qr)return Le;qr=1;const v=wt();return Le=(e,_,h)=>v(e,_,h)<=0,Le}var $e,Gr;function Wr(){if(Gr)return $e;Gr=1;const v=Fr(),R=Mr(),e=Zt(),_=Oe(),h=ke(),d=Te();return $e=(a,c,g,u)=>{switch(c){case"===":return typeof a=="object"&&(a=a.version),typeof g=="object"&&(g=g.version),a===g;case"!==":return typeof a=="object"&&(a=a.version),typeof g=="object"&&(g=g.version),a!==g;case"":case"=":case"==":return v(a,g,u);case"!=":return R(a,g,u);case">":return e(a,g,u);case">=":return _(a,g,u);case"<":return h(a,g,u);case"<=":return d(a,g,u);default:throw new TypeError(`Invalid operator: ${c}`)}},$e}var ze,Zr;function Hn(){if(Zr)return ze;Zr=1;const v=pt(),R=xt(),{safeRe:e,t:_}=$t();return ze=(d,l)=>{if(d instanceof v)return d;if(typeof d=="number"&&(d=String(d)),typeof d!="string")return null;l=l||{};let a=null;if(!l.rtl)a=d.match(l.includePrerelease?e[_.COERCEFULL]:e[_.COERCE]);else{const p=l.includePrerelease?e[_.COERCERTLFULL]:e[_.COERCERTL];let A;for(;(A=p.exec(d))&&(!a||a.index+a[0].length!==d.length);)(!a||A.index+A[0].length!==a.index+a[0].length)&&(a=A),p.lastIndex=A.index+A[1].length+A[2].length;p.lastIndex=-1}if(a===null)return null;const c=a[2],g=a[3]||"0",u=a[4]||"0",y=l.includePrerelease&&a[5]?`-${a[5]}`:"",E=l.includePrerelease&&a[6]?`+${a[6]}`:"";return R(`${c}.${g}.${u}${y}${E}`,l)},ze}var Ne,Yr;function Xn(){if(Yr)return Ne;Yr=1;class v{constructor(){this.max=1e3,this.map=new Map}get(e){const _=this.map.get(e);if(_!==void 0)return this.map.delete(e),this.map.set(e,_),_}delete(e){return this.map.delete(e)}set(e,_){if(!this.delete(e)&&_!==void 0){if(this.map.size>=this.max){const d=this.map.keys().next().value;this.delete(d)}this.map.set(e,_)}return this}}return Ne=v,Ne}var De,Hr;function vt(){if(Hr)return De;Hr=1;const v=/\s+/g;class R{constructor(I,G){if(G=h(G),I instanceof R)return I.loose===!!G.loose&&I.includePrerelease===!!G.includePrerelease?I:new R(I.raw,G);if(I instanceof d)return this.raw=I.value,this.set=[[I]],this.formatted=void 0,this;if(this.options=G,this.loose=!!G.loose,this.includePrerelease=!!G.includePrerelease,this.raw=I.trim().replace(v," "),this.set=this.raw.split("||").map(z=>this.parseRange(z.trim())).filter(z=>z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const z=this.set[0];if(this.set=this.set.filter(Y=>!o(Y[0])),this.set.length===0)this.set=[z];else if(this.set.length>1){for(const Y of this.set)if(Y.length===1&&w(Y[0])){this.set=[Y];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let I=0;I<this.set.length;I++){I>0&&(this.formatted+="||");const G=this.set[I];for(let z=0;z<G.length;z++)z>0&&(this.formatted+=" "),this.formatted+=G[z].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(I){const z=((this.options.includePrerelease&&p)|(this.options.loose&&A))+":"+I,Y=_.get(z);if(Y)return Y;const N=this.options.loose,Z=N?c[g.HYPHENRANGELOOSE]:c[g.HYPHENRANGE];I=I.replace(Z,C(this.options.includePrerelease)),l("hyphen replace",I),I=I.replace(c[g.COMPARATORTRIM],u),l("comparator trim",I),I=I.replace(c[g.TILDETRIM],y),l("tilde trim",I),I=I.replace(c[g.CARETTRIM],E),l("caret trim",I);let L=I.split(" ").map(q=>f(q,this.options)).join(" ").split(/\s+/).map(q=>Q(q,this.options));N&&(L=L.filter(q=>(l("loose invalid filter",q,this.options),!!q.match(c[g.COMPARATORLOOSE])))),l("range list",L);const x=new Map,K=L.map(q=>new d(q,this.options));for(const q of K){if(o(q))return[q];x.set(q.value,q)}x.size>1&&x.has("")&&x.delete("");const V=[...x.values()];return _.set(z,V),V}intersects(I,G){if(!(I instanceof R))throw new TypeError("a Range is required");return this.set.some(z=>i(z,G)&&I.set.some(Y=>i(Y,G)&&z.every(N=>Y.every(Z=>N.intersects(Z,G)))))}test(I){if(!I)return!1;if(typeof I=="string")try{I=new a(I,this.options)}catch(G){return!1}for(let G=0;G<this.set.length;G++)if(F(this.set[G],I,this.options))return!0;return!1}}De=R;const e=Xn(),_=new e,h=se(),d=Yt(),l=Wt(),a=pt(),{safeRe:c,t:g,comparatorTrimReplace:u,tildeTrimReplace:y,caretTrimReplace:E}=$t(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:A}=Gt(),o=r=>r.value==="<0.0.0-0",w=r=>r.value==="",i=(r,I)=>{let G=!0;const z=r.slice();let Y=z.pop();for(;G&&z.length;)G=z.every(N=>Y.intersects(N,I)),Y=z.pop();return G},f=(r,I)=>(l("comp",r,I),r=b(r,I),l("caret",r),r=s(r,I),l("tildes",r),r=D(r,I),l("xrange",r),r=W(r,I),l("stars",r),r),n=r=>!r||r.toLowerCase()==="x"||r==="*",s=(r,I)=>r.trim().split(/\s+/).map(G=>m(G,I)).join(" "),m=(r,I)=>{const G=I.loose?c[g.TILDELOOSE]:c[g.TILDE];return r.replace(G,(z,Y,N,Z,L)=>{l("tilde",r,z,Y,N,Z,L);let x;return n(Y)?x="":n(N)?x=`>=${Y}.0.0 <${+Y+1}.0.0-0`:n(Z)?x=`>=${Y}.${N}.0 <${Y}.${+N+1}.0-0`:L?(l("replaceTilde pr",L),x=`>=${Y}.${N}.${Z}-${L} <${Y}.${+N+1}.0-0`):x=`>=${Y}.${N}.${Z} <${Y}.${+N+1}.0-0`,l("tilde return",x),x})},b=(r,I)=>r.trim().split(/\s+/).map(G=>T(G,I)).join(" "),T=(r,I)=>{l("caret",r,I);const G=I.loose?c[g.CARETLOOSE]:c[g.CARET],z=I.includePrerelease?"-0":"";return r.replace(G,(Y,N,Z,L,x)=>{l("caret",r,Y,N,Z,L,x);let K;return n(N)?K="":n(Z)?K=`>=${N}.0.0${z} <${+N+1}.0.0-0`:n(L)?N==="0"?K=`>=${N}.${Z}.0${z} <${N}.${+Z+1}.0-0`:K=`>=${N}.${Z}.0${z} <${+N+1}.0.0-0`:x?(l("replaceCaret pr",x),N==="0"?Z==="0"?K=`>=${N}.${Z}.${L}-${x} <${N}.${Z}.${+L+1}-0`:K=`>=${N}.${Z}.${L}-${x} <${N}.${+Z+1}.0-0`:K=`>=${N}.${Z}.${L}-${x} <${+N+1}.0.0-0`):(l("no pr"),N==="0"?Z==="0"?K=`>=${N}.${Z}.${L}${z} <${N}.${Z}.${+L+1}-0`:K=`>=${N}.${Z}.${L}${z} <${N}.${+Z+1}.0-0`:K=`>=${N}.${Z}.${L} <${+N+1}.0.0-0`),l("caret return",K),K})},D=(r,I)=>(l("replaceXRanges",r,I),r.split(/\s+/).map(G=>P(G,I)).join(" ")),P=(r,I)=>{r=r.trim();const G=I.loose?c[g.XRANGELOOSE]:c[g.XRANGE];return r.replace(G,(z,Y,N,Z,L,x)=>{l("xRange",r,z,Y,N,Z,L,x);const K=n(N),V=K||n(Z),q=V||n(L),it=q;return Y==="="&&it&&(Y=""),x=I.includePrerelease?"-0":"",K?Y===">"||Y==="<"?z="<0.0.0-0":z="*":Y&&it?(V&&(Z=0),L=0,Y===">"?(Y=">=",V?(N=+N+1,Z=0,L=0):(Z=+Z+1,L=0)):Y==="<="&&(Y="<",V?N=+N+1:Z=+Z+1),Y==="<"&&(x="-0"),z=`${Y+N}.${Z}.${L}${x}`):V?z=`>=${N}.0.0${x} <${+N+1}.0.0-0`:q&&(z=`>=${N}.${Z}.0${x} <${N}.${+Z+1}.0-0`),l("xRange return",z),z})},W=(r,I)=>(l("replaceStars",r,I),r.trim().replace(c[g.STAR],"")),Q=(r,I)=>(l("replaceGTE0",r,I),r.trim().replace(c[I.includePrerelease?g.GTE0PRE:g.GTE0],"")),C=r=>(I,G,z,Y,N,Z,L,x,K,V,q,it)=>(n(z)?G="":n(Y)?G=`>=${z}.0.0${r?"-0":""}`:n(N)?G=`>=${z}.${Y}.0${r?"-0":""}`:Z?G=`>=${G}`:G=`>=${G}${r?"-0":""}`,n(K)?x="":n(V)?x=`<${+K+1}.0.0-0`:n(q)?x=`<${K}.${+V+1}.0-0`:it?x=`<=${K}.${V}.${q}-${it}`:r?x=`<${K}.${V}.${+q+1}-0`:x=`<=${x}`,`${G} ${x}`.trim()),F=(r,I,G)=>{for(let z=0;z<r.length;z++)if(!r[z].test(I))return!1;if(I.prerelease.length&&!G.includePrerelease){for(let z=0;z<r.length;z++)if(l(r[z].semver),r[z].semver!==d.ANY&&r[z].semver.prerelease.length>0){const Y=r[z].semver;if(Y.major===I.major&&Y.minor===I.minor&&Y.patch===I.patch)return!0}return!1}return!0};return De}var Pe,Xr;function Yt(){if(Xr)return Pe;Xr=1;const v=Symbol("SemVer ANY");class R{static get ANY(){return v}constructor(u,y){if(y=e(y),u instanceof R){if(u.loose===!!y.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),l("comparator",u,y),this.options=y,this.loose=!!y.loose,this.parse(u),this.semver===v?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(u){const y=this.options.loose?_[h.COMPARATORLOOSE]:_[h.COMPARATOR],E=u.match(y);if(!E)throw new TypeError(`Invalid comparator: ${u}`);this.operator=E[1]!==void 0?E[1]:"",this.operator==="="&&(this.operator=""),E[2]?this.semver=new a(E[2],this.options.loose):this.semver=v}toString(){return this.value}test(u){if(l("Comparator.test",u,this.options.loose),this.semver===v||u===v)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch(y){return!1}return d(u,this.operator,this.semver,this.options)}intersects(u,y){if(!(u instanceof R))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,y).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,y).test(u.semver):(y=e(y),y.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||d(this.semver,"<",u.semver,y)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||d(this.semver,">",u.semver,y)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Pe=R;const e=se(),{safeRe:_,t:h}=$t(),d=Wr(),l=Wt(),a=pt(),c=vt();return Pe}var Be,Vr;function Ht(){if(Vr)return Be;Vr=1;const v=vt();return Be=(e,_,h)=>{try{_=new v(_,h)}catch(d){return!1}return _.test(e)},Be}var Fe,Kr;function Vn(){if(Kr)return Fe;Kr=1;const v=vt();return Fe=(e,_)=>new v(e,_).set.map(h=>h.map(d=>d.value).join(" ").trim().split(" ")),Fe}var Ue,Jr;function Kn(){if(Jr)return Ue;Jr=1;const v=pt(),R=vt();return Ue=(_,h,d)=>{let l=null,a=null,c=null;try{c=new R(h,d)}catch(g){return null}return _.forEach(g=>{c.test(g)&&(!l||a.compare(g)===-1)&&(l=g,a=new v(l,d))}),l},Ue}var Me,Qr;function Jn(){if(Qr)return Me;Qr=1;const v=pt(),R=vt();return Me=(_,h,d)=>{let l=null,a=null,c=null;try{c=new R(h,d)}catch(g){return null}return _.forEach(g=>{c.test(g)&&(!l||a.compare(g)===1)&&(l=g,a=new v(l,d))}),l},Me}var je,tn;function Qn(){if(tn)return je;tn=1;const v=pt(),R=vt(),e=Zt();return je=(h,d)=>{h=new R(h,d);let l=new v("0.0.0");if(h.test(l)||(l=new v("0.0.0-0"),h.test(l)))return l;l=null;for(let a=0;a<h.set.length;++a){const c=h.set[a];let g=null;c.forEach(u=>{const y=new v(u.semver.version);switch(u.operator){case">":y.prerelease.length===0?y.patch++:y.prerelease.push(0),y.raw=y.format();case"":case">=":(!g||e(y,g))&&(g=y);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${u.operator}`)}}),g&&(!l||e(l,g))&&(l=g)}return l&&h.test(l)?l:null},je}var qe,en;function ti(){if(en)return qe;en=1;const v=vt();return qe=(e,_)=>{try{return new v(e,_).range||"*"}catch(h){return null}},qe}var Ge,rn;function We(){if(rn)return Ge;rn=1;const v=pt(),R=Yt(),{ANY:e}=R,_=vt(),h=Ht(),d=Zt(),l=ke(),a=Te(),c=Oe();return Ge=(u,y,E,p)=>{u=new v(u,p),y=new _(y,p);let A,o,w,i,f;switch(E){case">":A=d,o=a,w=l,i=">",f=">=";break;case"<":A=l,o=c,w=d,i="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(h(u,y,p))return!1;for(let n=0;n<y.set.length;++n){const s=y.set[n];let m=null,b=null;if(s.forEach(T=>{T.semver===e&&(T=new R(">=0.0.0")),m=m||T,b=b||T,A(T.semver,m.semver,p)?m=T:w(T.semver,b.semver,p)&&(b=T)}),m.operator===i||m.operator===f||(!b.operator||b.operator===i)&&o(u,b.semver))return!1;if(b.operator===f&&w(u,b.semver))return!1}return!0},Ge}var Ze,nn;function ei(){if(nn)return Ze;nn=1;const v=We();return Ze=(e,_,h)=>v(e,_,">",h),Ze}var Ye,sn;function ri(){if(sn)return Ye;sn=1;const v=We();return Ye=(e,_,h)=>v(e,_,"<",h),Ye}var He,an;function ni(){if(an)return He;an=1;const v=vt();return He=(e,_,h)=>(e=new v(e,h),_=new v(_,h),e.intersects(_,h)),He}var Xe,on;function ii(){if(on)return Xe;on=1;const v=Ht(),R=wt();return Xe=(e,_,h)=>{const d=[];let l=null,a=null;const c=e.sort((E,p)=>R(E,p,h));for(const E of c)v(E,_,h)?(a=E,l||(l=E)):(a&&d.push([l,a]),a=null,l=null);l&&d.push([l,null]);const g=[];for(const[E,p]of d)E===p?g.push(E):!p&&E===c[0]?g.push("*"):p?E===c[0]?g.push(`<=${p}`):g.push(`${E} - ${p}`):g.push(`>=${E}`);const u=g.join(" || "),y=typeof _.raw=="string"?_.raw:String(_);return u.length<y.length?u:_},Xe}var Ve,ln;function si(){if(ln)return Ve;ln=1;const v=vt(),R=Yt(),{ANY:e}=R,_=Ht(),h=wt(),d=(y,E,p={})=>{if(y===E)return!0;y=new v(y,p),E=new v(E,p);let A=!1;t:for(const o of y.set){for(const w of E.set){const i=c(o,w,p);if(A=A||i!==null,i)continue t}if(A)return!1}return!0},l=[new R(">=0.0.0-0")],a=[new R(">=0.0.0")],c=(y,E,p)=>{if(y===E)return!0;if(y.length===1&&y[0].semver===e){if(E.length===1&&E[0].semver===e)return!0;p.includePrerelease?y=l:y=a}if(E.length===1&&E[0].semver===e){if(p.includePrerelease)return!0;E=a}const A=new Set;let o,w;for(const D of y)D.operator===">"||D.operator===">="?o=g(o,D,p):D.operator==="<"||D.operator==="<="?w=u(w,D,p):A.add(D.semver);if(A.size>1)return null;let i;if(o&&w){if(i=h(o.semver,w.semver,p),i>0)return null;if(i===0&&(o.operator!==">="||w.operator!=="<="))return null}for(const D of A){if(o&&!_(D,String(o),p)||w&&!_(D,String(w),p))return null;for(const P of E)if(!_(D,String(P),p))return!1;return!0}let f,n,s,m,b=w&&!p.includePrerelease&&w.semver.prerelease.length?w.semver:!1,T=o&&!p.includePrerelease&&o.semver.prerelease.length?o.semver:!1;b&&b.prerelease.length===1&&w.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(const D of E){if(m=m||D.operator===">"||D.operator===">=",s=s||D.operator==="<"||D.operator==="<=",o){if(T&&D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===T.major&&D.semver.minor===T.minor&&D.semver.patch===T.patch&&(T=!1),D.operator===">"||D.operator===">="){if(f=g(o,D,p),f===D&&f!==o)return!1}else if(o.operator===">="&&!_(o.semver,String(D),p))return!1}if(w){if(b&&D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===b.major&&D.semver.minor===b.minor&&D.semver.patch===b.patch&&(b=!1),D.operator==="<"||D.operator==="<="){if(n=u(w,D,p),n===D&&n!==w)return!1}else if(w.operator==="<="&&!_(w.semver,String(D),p))return!1}if(!D.operator&&(w||o)&&i!==0)return!1}return!(o&&s&&!w&&i!==0||w&&m&&!o&&i!==0||T||b)},g=(y,E,p)=>{if(!y)return E;const A=h(y.semver,E.semver,p);return A>0?y:A<0||E.operator===">"&&y.operator===">="?E:y},u=(y,E,p)=>{if(!y)return E;const A=h(y.semver,E.semver,p);return A<0?y:A>0||E.operator==="<"&&y.operator==="<="?E:y};return Ve=d,Ve}var Ke,un;function ai(){if(un)return Ke;un=1;const v=$t(),R=Gt(),e=pt(),_=vr(),h=xt(),d=Dn(),l=Pn(),a=Bn(),c=Fn(),g=Un(),u=Mn(),y=jn(),E=qn(),p=wt(),A=Gn(),o=Wn(),w=be(),i=Zn(),f=Yn(),n=Zt(),s=ke(),m=Fr(),b=Mr(),T=Oe(),D=Te(),P=Wr(),W=Hn(),Q=Yt(),C=vt(),F=Ht(),r=Vn(),I=Kn(),G=Jn(),z=Qn(),Y=ti(),N=We(),Z=ei(),L=ri(),x=ni(),K=ii(),V=si();return Ke={parse:h,valid:d,clean:l,inc:a,diff:c,major:g,minor:u,patch:y,prerelease:E,compare:p,rcompare:A,compareLoose:o,compareBuild:w,sort:i,rsort:f,gt:n,lt:s,eq:m,neq:b,gte:T,lte:D,cmp:P,coerce:W,Comparator:Q,Range:C,satisfies:F,toComparators:r,maxSatisfying:I,minSatisfying:G,minVersion:z,validRange:Y,outside:N,gtr:Z,ltr:L,intersects:x,simplifyRange:K,subset:V,SemVer:e,re:v.re,src:v.src,tokens:v.t,SEMVER_SPEC_VERSION:R.SEMVER_SPEC_VERSION,RELEASE_TYPES:R.RELEASE_TYPES,compareIdentifiers:_.compareIdentifiers,rcompareIdentifiers:_.rcompareIdentifiers},Ke}var Xt=ai(),Je={exports:{}},cn;function oi(){return cn||(cn=1,(function(v,R){(function(e){v.exports=e()})(function(e){var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function h(i,f){var n=i[0],s=i[1],m=i[2],b=i[3];n+=(s&m|~s&b)+f[0]-680876936|0,n=(n<<7|n>>>25)+s|0,b+=(n&s|~n&m)+f[1]-389564586|0,b=(b<<12|b>>>20)+n|0,m+=(b&n|~b&s)+f[2]+606105819|0,m=(m<<17|m>>>15)+b|0,s+=(m&b|~m&n)+f[3]-1044525330|0,s=(s<<22|s>>>10)+m|0,n+=(s&m|~s&b)+f[4]-176418897|0,n=(n<<7|n>>>25)+s|0,b+=(n&s|~n&m)+f[5]+1200080426|0,b=(b<<12|b>>>20)+n|0,m+=(b&n|~b&s)+f[6]-1473231341|0,m=(m<<17|m>>>15)+b|0,s+=(m&b|~m&n)+f[7]-45705983|0,s=(s<<22|s>>>10)+m|0,n+=(s&m|~s&b)+f[8]+1770035416|0,n=(n<<7|n>>>25)+s|0,b+=(n&s|~n&m)+f[9]-1958414417|0,b=(b<<12|b>>>20)+n|0,m+=(b&n|~b&s)+f[10]-42063|0,m=(m<<17|m>>>15)+b|0,s+=(m&b|~m&n)+f[11]-1990404162|0,s=(s<<22|s>>>10)+m|0,n+=(s&m|~s&b)+f[12]+1804603682|0,n=(n<<7|n>>>25)+s|0,b+=(n&s|~n&m)+f[13]-40341101|0,b=(b<<12|b>>>20)+n|0,m+=(b&n|~b&s)+f[14]-1502002290|0,m=(m<<17|m>>>15)+b|0,s+=(m&b|~m&n)+f[15]+1236535329|0,s=(s<<22|s>>>10)+m|0,n+=(s&b|m&~b)+f[1]-165796510|0,n=(n<<5|n>>>27)+s|0,b+=(n&m|s&~m)+f[6]-1069501632|0,b=(b<<9|b>>>23)+n|0,m+=(b&s|n&~s)+f[11]+643717713|0,m=(m<<14|m>>>18)+b|0,s+=(m&n|b&~n)+f[0]-373897302|0,s=(s<<20|s>>>12)+m|0,n+=(s&b|m&~b)+f[5]-701558691|0,n=(n<<5|n>>>27)+s|0,b+=(n&m|s&~m)+f[10]+38016083|0,b=(b<<9|b>>>23)+n|0,m+=(b&s|n&~s)+f[15]-660478335|0,m=(m<<14|m>>>18)+b|0,s+=(m&n|b&~n)+f[4]-405537848|0,s=(s<<20|s>>>12)+m|0,n+=(s&b|m&~b)+f[9]+568446438|0,n=(n<<5|n>>>27)+s|0,b+=(n&m|s&~m)+f[14]-1019803690|0,b=(b<<9|b>>>23)+n|0,m+=(b&s|n&~s)+f[3]-187363961|0,m=(m<<14|m>>>18)+b|0,s+=(m&n|b&~n)+f[8]+1163531501|0,s=(s<<20|s>>>12)+m|0,n+=(s&b|m&~b)+f[13]-1444681467|0,n=(n<<5|n>>>27)+s|0,b+=(n&m|s&~m)+f[2]-51403784|0,b=(b<<9|b>>>23)+n|0,m+=(b&s|n&~s)+f[7]+1735328473|0,m=(m<<14|m>>>18)+b|0,s+=(m&n|b&~n)+f[12]-1926607734|0,s=(s<<20|s>>>12)+m|0,n+=(s^m^b)+f[5]-378558|0,n=(n<<4|n>>>28)+s|0,b+=(n^s^m)+f[8]-2022574463|0,b=(b<<11|b>>>21)+n|0,m+=(b^n^s)+f[11]+1839030562|0,m=(m<<16|m>>>16)+b|0,s+=(m^b^n)+f[14]-35309556|0,s=(s<<23|s>>>9)+m|0,n+=(s^m^b)+f[1]-1530992060|0,n=(n<<4|n>>>28)+s|0,b+=(n^s^m)+f[4]+1272893353|0,b=(b<<11|b>>>21)+n|0,m+=(b^n^s)+f[7]-155497632|0,m=(m<<16|m>>>16)+b|0,s+=(m^b^n)+f[10]-1094730640|0,s=(s<<23|s>>>9)+m|0,n+=(s^m^b)+f[13]+681279174|0,n=(n<<4|n>>>28)+s|0,b+=(n^s^m)+f[0]-358537222|0,b=(b<<11|b>>>21)+n|0,m+=(b^n^s)+f[3]-722521979|0,m=(m<<16|m>>>16)+b|0,s+=(m^b^n)+f[6]+76029189|0,s=(s<<23|s>>>9)+m|0,n+=(s^m^b)+f[9]-640364487|0,n=(n<<4|n>>>28)+s|0,b+=(n^s^m)+f[12]-421815835|0,b=(b<<11|b>>>21)+n|0,m+=(b^n^s)+f[15]+530742520|0,m=(m<<16|m>>>16)+b|0,s+=(m^b^n)+f[2]-995338651|0,s=(s<<23|s>>>9)+m|0,n+=(m^(s|~b))+f[0]-198630844|0,n=(n<<6|n>>>26)+s|0,b+=(s^(n|~m))+f[7]+1126891415|0,b=(b<<10|b>>>22)+n|0,m+=(n^(b|~s))+f[14]-1416354905|0,m=(m<<15|m>>>17)+b|0,s+=(b^(m|~n))+f[5]-57434055|0,s=(s<<21|s>>>11)+m|0,n+=(m^(s|~b))+f[12]+1700485571|0,n=(n<<6|n>>>26)+s|0,b+=(s^(n|~m))+f[3]-1894986606|0,b=(b<<10|b>>>22)+n|0,m+=(n^(b|~s))+f[10]-1051523|0,m=(m<<15|m>>>17)+b|0,s+=(b^(m|~n))+f[1]-2054922799|0,s=(s<<21|s>>>11)+m|0,n+=(m^(s|~b))+f[8]+1873313359|0,n=(n<<6|n>>>26)+s|0,b+=(s^(n|~m))+f[15]-30611744|0,b=(b<<10|b>>>22)+n|0,m+=(n^(b|~s))+f[6]-1560198380|0,m=(m<<15|m>>>17)+b|0,s+=(b^(m|~n))+f[13]+1309151649|0,s=(s<<21|s>>>11)+m|0,n+=(m^(s|~b))+f[4]-145523070|0,n=(n<<6|n>>>26)+s|0,b+=(s^(n|~m))+f[11]-1120210379|0,b=(b<<10|b>>>22)+n|0,m+=(n^(b|~s))+f[2]+718787259|0,m=(m<<15|m>>>17)+b|0,s+=(b^(m|~n))+f[9]-343485551|0,s=(s<<21|s>>>11)+m|0,i[0]=n+i[0]|0,i[1]=s+i[1]|0,i[2]=m+i[2]|0,i[3]=b+i[3]|0}function d(i){var f=[],n;for(n=0;n<64;n+=4)f[n>>2]=i.charCodeAt(n)+(i.charCodeAt(n+1)<<8)+(i.charCodeAt(n+2)<<16)+(i.charCodeAt(n+3)<<24);return f}function l(i){var f=[],n;for(n=0;n<64;n+=4)f[n>>2]=i[n]+(i[n+1]<<8)+(i[n+2]<<16)+(i[n+3]<<24);return f}function a(i){var f=i.length,n=[1732584193,-271733879,-1732584194,271733878],s,m,b,T,D,P;for(s=64;s<=f;s+=64)h(n,d(i.substring(s-64,s)));for(i=i.substring(s-64),m=i.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)b[s>>2]|=i.charCodeAt(s)<<(s%4<<3);if(b[s>>2]|=128<<(s%4<<3),s>55)for(h(n,b),s=0;s<16;s+=1)b[s]=0;return T=f*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(T[2],16),P=parseInt(T[1],16)||0,b[14]=D,b[15]=P,h(n,b),n}function c(i){var f=i.length,n=[1732584193,-271733879,-1732584194,271733878],s,m,b,T,D,P;for(s=64;s<=f;s+=64)h(n,l(i.subarray(s-64,s)));for(i=s-64<f?i.subarray(s-64):new Uint8Array(0),m=i.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)b[s>>2]|=i[s]<<(s%4<<3);if(b[s>>2]|=128<<(s%4<<3),s>55)for(h(n,b),s=0;s<16;s+=1)b[s]=0;return T=f*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(T[2],16),P=parseInt(T[1],16)||0,b[14]=D,b[15]=P,h(n,b),n}function g(i){var f="",n;for(n=0;n<4;n+=1)f+=_[i>>n*8+4&15]+_[i>>n*8&15];return f}function u(i){var f;for(f=0;f<i.length;f+=1)i[f]=g(i[f]);return i.join("")}u(a("hello")),typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&(function(){function i(f,n){return f=f|0||0,f<0?Math.max(f+n,0):Math.min(f,n)}ArrayBuffer.prototype.slice=function(f,n){var s=this.byteLength,m=i(f,s),b=s,T,D,P,W;return n!==e&&(b=i(n,s)),m>b?new ArrayBuffer(0):(T=b-m,D=new ArrayBuffer(T),P=new Uint8Array(D),W=new Uint8Array(this,m,T),P.set(W),D)}})();function y(i){return/[\u0080-\uFFFF]/.test(i)&&(i=unescape(encodeURIComponent(i))),i}function E(i,f){var n=i.length,s=new ArrayBuffer(n),m=new Uint8Array(s),b;for(b=0;b<n;b+=1)m[b]=i.charCodeAt(b);return f?m:s}function p(i){return String.fromCharCode.apply(null,new Uint8Array(i))}function A(i,f,n){var s=new Uint8Array(i.byteLength+f.byteLength);return s.set(new Uint8Array(i)),s.set(new Uint8Array(f),i.byteLength),s}function o(i){var f=[],n=i.length,s;for(s=0;s<n-1;s+=2)f.push(parseInt(i.substr(s,2),16));return String.fromCharCode.apply(String,f)}function w(){this.reset()}return w.prototype.append=function(i){return this.appendBinary(y(i)),this},w.prototype.appendBinary=function(i){this._buff+=i,this._length+=i.length;var f=this._buff.length,n;for(n=64;n<=f;n+=64)h(this._hash,d(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},w.prototype.end=function(i){var f=this._buff,n=f.length,s,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b;for(s=0;s<n;s+=1)m[s>>2]|=f.charCodeAt(s)<<(s%4<<3);return this._finish(m,n),b=u(this._hash),i&&(b=o(b)),this.reset(),b},w.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},w.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},w.prototype.setState=function(i){return this._buff=i.buff,this._length=i.length,this._hash=i.hash,this},w.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},w.prototype._finish=function(i,f){var n=f,s,m,b;if(i[n>>2]|=128<<(n%4<<3),n>55)for(h(this._hash,i),n=0;n<16;n+=1)i[n]=0;s=this._length*8,s=s.toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(s[2],16),b=parseInt(s[1],16)||0,i[14]=m,i[15]=b,h(this._hash,i)},w.hash=function(i,f){return w.hashBinary(y(i),f)},w.hashBinary=function(i,f){var n=a(i),s=u(n);return f?o(s):s},w.ArrayBuffer=function(){this.reset()},w.ArrayBuffer.prototype.append=function(i){var f=A(this._buff.buffer,i),n=f.length,s;for(this._length+=i.byteLength,s=64;s<=n;s+=64)h(this._hash,l(f.subarray(s-64,s)));return this._buff=s-64<n?new Uint8Array(f.buffer.slice(s-64)):new Uint8Array(0),this},w.ArrayBuffer.prototype.end=function(i){var f=this._buff,n=f.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m,b;for(m=0;m<n;m+=1)s[m>>2]|=f[m]<<(m%4<<3);return this._finish(s,n),b=u(this._hash),i&&(b=o(b)),this.reset(),b},w.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},w.ArrayBuffer.prototype.getState=function(){var i=w.prototype.getState.call(this);return i.buff=p(i.buff),i},w.ArrayBuffer.prototype.setState=function(i){return i.buff=E(i.buff,!0),w.prototype.setState.call(this,i)},w.ArrayBuffer.prototype.destroy=w.prototype.destroy,w.ArrayBuffer.prototype._finish=w.prototype._finish,w.ArrayBuffer.hash=function(i,f){var n=c(new Uint8Array(i)),s=u(n);return f?o(s):s},w})})(Je)),Je.exports}var li=oi();const ui=ur(li),zt=(v,R={})=>document.dispatchEvent(new CustomEvent(v,{detail:R}));let yt=null;const fn=v=>new Promise((R,e)=>{const _=new FileReader;_.onload=()=>R(_.result),_.onerror=h=>e(h),_.readAsText(v)}),Qe=()=>new Promise(v=>{if(yt!==null)return v(yt);const R=new Blob([";window.__isBlobAllowed = true;"]),e=URL.createObjectURL(R),_=document.createElement("script"),h=()=>{v(!!yt),document.body.removeChild(_),URL.revokeObjectURL(e),delete window.__isBlobAllowed};_.onload=()=>{yt=window.__isBlobAllowed===!0,h()},_.onerror=()=>{yt=!1,h()},document.body.appendChild(_);try{_.src=e}catch(d){yt=!1,h()}}),hn=(v,R={})=>new Promise((e,_)=>{const h=document.createElement("script");h.type="text/javascript",R.domProps&&Object.assign(h,R.domProps),R.meta&&Object.assign(h.dataset,R.meta),document.body.appendChild(h);const d=l=>{window.removeEventListener("error",d),_(l.error)};h.addEventListener("load",()=>{window.removeEventListener("error",d),e(void 0)}),window.addEventListener("error",d),h.addEventListener("error",d),typeof v!="string"?h.src=URL.createObjectURL(v):(h.innerHTML=v,setTimeout(()=>{window.removeEventListener("error",d),e(void 0)},50))}),tr=(v,R)=>{var e,_;if(typeof v=="string"){const h=document.createElement("style");h.innerHTML=v,Object.assign(h.dataset,R),((e=document.head)!=null?e:document.getElementsByTagName("head")).appendChild(h)}else{const h=document.createElement("link");h.rel="stylesheet",h.href=URL.createObjectURL(v),Object.assign(h.dataset,R),((_=document.head)!=null?_:document.getElementsByTagName("head")).appendChild(h)}},dn=(v,R={})=>new Promise(e=>Et(null,null,function*(){return yt===null&&(yield Qe()),e(hn(typeof v=="string"||yt?v:yield fn(v),R))})),ci=(v,R)=>new Promise(e=>Et(null,null,function*(){return yt===null&&(yield Qe()),e(tr(typeof v=="string"||yt?v:yield fn(v),R))})),fi=v=>v.id!==void 0&&v.name!==void 0&&v.author!==void 0&&v.version!==void 0&&Xt.valid(Xt.clean(v.version)),hi=(v,R)=>{var l,a;const e=v.dependencies!==void 0&&Object.keys(v.dependencies).length>0,_=R.dependencies!==void 0&&Object.keys(R.dependencies).length>0;if(e!==_)return e?1:-1;const h=(l=v.priority)!=null?l:1e3,d=(a=R.priority)!=null?a:1e3;return h-d},di=(v,R=2097152)=>new Promise((e,_)=>{const h=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,d=Math.ceil(v.size/R),l=new ui.ArrayBuffer,a=new FileReader;let c=0;a.onload=u=>{l.append(u.target.result),c++,c<d?g():(e(l.end()),l.destroy())},a.onerror=u=>{_(u)};function g(){const u=c*R,y=u+R<v.size?u+R:v.size;a.readAsArrayBuffer(h.call(v,u,y))}g()}),pi=v=>{const{stats:R,mods:e,version:_}=window.YASCML;if(v.designedFor!==void 0&&R.gameName!==v.designedFor)return console.warn(`Mod "${v.id}" is designed for "${v.designedFor}", but it's running on "${R.gameName}". This mod will not be loaded.`),!1;if(v.dependencies===void 0)return!0;for(const h in v.dependencies){if(h==="yascml"){if(Xt.satisfies(_,v.dependencies[h]))continue;return console.warn(`Mod "${v.id}" requires loader v${_}, but found v${_}. This mod will not be loaded.`),!1}const d=e.find(a=>a.id===h);if(!d)return console.warn(`Mod "${v.id}" requires dependency "${h}", but it's not installed. This mod will not be loaded.`),!1;if(!d.enabled)return console.warn(`Mod "${v.id}" requires dependency "${h}", but it's not enabled. This mod will not be loaded.`),!1;if(!d.suitable)return console.warn(`Mod "${v.id}" requires dependency "${h}", but it's not suitable for now. This mod will not be loaded.`),!1;const l=v.dependencies[h];if(!Xt.satisfies(d.version,l))return console.warn(`Mod "${v.id}" requires dependency "${h} v${l}", but found v${d.version}. This mod will not be loaded.`),!1}return!0},mi=v=>{const R=document.createElement("div");return R.innerHTML=v,R.innerHTML},pn=(v,R)=>Et(null,null,function*(){const e=yield fr.loadAsync(v);if(!e.file("meta.json"))throw new Error('"meta.json" not found in mod file, is this a valid mod file?');const _=yield e.file("meta.json").async("text"),h=JSON.parse(_);if(!fi(h))throw new Error('Invalid format of "meta.json"');const d=yn(nr({},h),{enabled:!0,embedded:!1,suitable:!0,errored:!1,new:!1,updated:!1,deleted:!1,md5:""});R&&(d.zip=e);try{d.md5=yield di(v)}catch(l){console.warn(`Failed to get MD5 for mod: ${d.id}, using empty string`),console.error(l)}return d}),gi=(v,R)=>fetch(v).then(e=>e.blob()).then(e=>pn(e,R)),er=(v,R=!1)=>typeof v=="string"?gi(v,R):pn(v,R),_i=v=>Et(null,null,function*(){const R=yield er(v);$n(R.id,v);const e=window.YASCML.mods.findIndex(_=>_.id===R.id);e===-1?(R.new=!0,window.YASCML.mods.push(R)):(R.updated=!0,window.YASCML.mods.splice(e,1,R)),zt("$modadded",{mod:R})}),wi=v=>Et(null,null,function*(){const R=window.YASCML.mods.findIndex(_=>_.id===v);if(R===-1)throw new Error(`Cannot find mod ID: ${v}`);yield zn(v),dr(v);const e=window.YASCML.mods[R];e.deleted=!0,zt("$modremoved",{mod:e})}),vi=v=>{const R=window.YASCML.mods.findIndex(e=>e.id===v);if(R===-1)throw new Error(`Cannot find mod ID: ${v}`);dr(v),window.YASCML.mods[R].enabled=!0,zt("$modenabled",{mod:window.YASCML.mods[R]})},yi=v=>{const R=window.YASCML.mods.findIndex(e=>e.id===v);if(R===-1)throw new Error(`Cannot find mod ID: ${v}`);Nn(v),window.YASCML.mods[R].enabled=!1,zt("$moddisabled",{mod:window.YASCML.mods[R]})},mn=v=>{const R=window.YASCML.mods.findIndex(e=>e.id===v);if(R===-1)throw new Error(`Cannot find mod ID: ${v}`);return window.YASCML.mods[R]},bi={mod:{add:_i,remove:wi,enable:vi,disable:yi,get:mn,releaseFiles:v=>{const R=mn(v);R.zip&&delete R.zip}}},Ei=()=>Et(null,null,function*(){mt("Preparing loader..."),window.JSZip||(window.JSZip=fr),window.idbKeyval||(window.idbKeyval=xn),Object.defineProperty(window,"YASCML",{configurable:!1,value:Object.seal(Object.assign(Object.create(null),{version:"1.0.0",mods:[],api:bi,stats:Object.create(null,{gameName:{get(){return mi(document.querySelector("tw-storydata").getAttribute("name"))}},canLoadBlob:{get(){return yt}},isLoaderInit:{writable:!0,value:!1},isEngineInit:{writable:!0,value:!1},logs:{get(){return Ct}}})}))});{mt("Loading imported mods...");const v=yield Tn();for(let R=0;R<v.length;R++){const e=v[R];mt(`Loading imported mods... (${R+1}/${v.length})[${e}]`);try{const _=yield hr(e),h=yield er(_,!0);window.YASCML.mods.push(h)}catch(_){console.warn(`Error when loading mod: ${e}, skipping...`),console.error(_)}}}if(window.YASCMLConfig&&window.YASCMLConfig.embedModPath){mt("Loading embedded mods...");const v=window.YASCMLConfig.embedModPath;for(let R=0;R<v.length;R++){const e=v[R];mt(`Loading embedded mods... (${R+1}/${v.length})${e.length<=200?`[${e}]`:""}`);try{const _=yield er(e,!0);if(window.YASCML.mods.findIndex(h=>h.id===_.id)!==-1)continue;_.embedded=!0,window.YASCML.mods.push(_)}catch(_){console.warn(`Error when loading embed mod: ${e}, skipping...`),console.error(_)}}}window.YASCML.mods.sort(hi);for(const v of It("disabledMods")){const R=window.YASCML.mods.findIndex(e=>e.id===v);R!==-1&&(window.YASCML.mods[R].enabled=!1,window.YASCML.mods[R].zip=void 0)}for(const v of window.YASCML.mods)v.suitable=pi(v),v.suitable||(v.zip=void 0);window.YASCML.stats.isLoaderInit=!0}),Si=()=>Et(null,null,function*(){if(It("saveMode"))return;mt("Loading preload scripts...");const v=window.YASCML.mods;for(let R=0;R<v.length;R++){const e=v[R];if(mt(`Loading preload scripts... (${R+1}/${v.length})[${e.id}]`),!(!e.enabled||!e.suitable||e.errored)){if(window.__AfterInit=[],e.cssFiles)for(const _ of e.cssFiles){const h=e.zip.file(_);if(!h){console.warn(`Cannot find file "${_}", skipping...`);continue}yield ci(yield h.async("blob"),{modId:e.id,filename:_})}if(e.preloadScripts)try{for(const _ of e.preloadScripts){const h=e.zip.file(_);if(!h){console.warn(`Cannot find file "${_}", skipping...`);return}yield dn(yield h.async("blob"),{meta:{modId:e.id,filename:_,timing:"preload"}})}if(window.__AfterInit.length>0)for(const _ of window.__AfterInit)yield Promise.resolve(_())}catch(_){e.errored=!0,console.error(`Error when loading preload scripts for mod "${e.id}"`),console.error(_)}}}}),Ai=()=>Et(null,null,function*(){if(It("saveMode"))return;mt("Loading postload scripts...");const v=window.YASCML.mods;for(let R=0;R<v.length;R++){const e=v[R];if(mt(`Loading postload scripts... (${R+1}/${v.length})[${e.id}]`),!(!e.enabled||!e.suitable||e.errored)&&(window.__AfterInit=[],e.postloadScripts))try{for(const _ of e.postloadScripts){const h=e.zip.file(_);if(!h){console.warn(`Cannot find file "${_}", skipping...`);return}yield dn(yield h.async("blob"),{meta:{modId:e.id,filename:_,timing:"postload"}})}if(window.__AfterInit.length>0)for(const _ of window.__AfterInit)yield Promise.resolve(_())}catch(_){e.errored=!0,console.error(`Error when loading postload scripts for mod "${e.id}"`),console.error(_)}}});if(document.querySelector("#script-sugarcube")||window.SugarCube!=null)throw new Error("The SugarCube engine already initialized! Aborting...");if(window.YASCML!=null)throw new Error("Another YASCML is running! Aborting...");if(window.Reflect==null)throw new Error("Your browser is too old! Upgrade your browser to use YASCML");Qe().finally(),window.addEventListener("DOMContentLoaded",()=>Et(null,null,function*(){if(tr(["@keyframes _YASCML_BLINK_ {","from { opacity: 1; }","to { opacity: 0; }","}"].join(`
`)),En(),window.__SUGARCUBE_PATCHER&&(mt("Patching engine..."),yield Promise.resolve(window.__SUGARCUBE_PATCHER())),!window.$SugarCube)throw Ut(),new Error("You are running YASCML on a original SugarCube engine! Please patch the engine first.");const v=window.SugarCube,R=window.$SugarCube;if(!v)throw Ut(),new Error("SugarCube not loaded properly!");const e=R.LoadScreen.lock();R.LoadScreen.init(),yield Ei(),bn(v.UIBar,"init",{value(){this.$init();const _=document.querySelector("#menu"),h=document.createElement("ul");h.id="menu-yascml",_.appendChild(h)}}),document.normalize&&document.normalize(),Si().then(()=>(mt("Loading game engine..."),Promise.resolve(R.$init.initEngine()))).then(()=>Ai()).then(()=>{var _;delete window.__AfterInit,window.YASCML.stats.isEngineInit=!0,mt("Starting game..."),setTimeout(()=>{Ut(),R.LoadScreen.unlock(e),zt("$gamestarted")},((_=v.Engine.DOM_DELAY)!=null?_:v.Engine.minDomActionDelay)*2)}).catch(_=>(console.error(_),Ut(),R.LoadScreen.clear(),R.Alert.fatal(null,_.message)))}))}));
