(function(ft){typeof define=="function"&&define.amd?define(ft):ft()})((function(){"use strict";var Si=Object.defineProperty,Ai=Object.defineProperties;var Ri=Object.getOwnPropertyDescriptors;var pn=Object.getOwnPropertySymbols;var ki=Object.prototype.hasOwnProperty,Ci=Object.prototype.propertyIsEnumerable;var mn=(ft,ut,lt)=>ut in ft?Si(ft,ut,{enumerable:!0,configurable:!0,writable:!0,value:lt}):ft[ut]=lt,tr=(ft,ut)=>{for(var lt in ut||(ut={}))ki.call(ut,lt)&&mn(ft,lt,ut[lt]);if(pn)for(var lt of pn(ut))Ci.call(ut,lt)&&mn(ft,lt,ut[lt]);return ft},gn=(ft,ut)=>Ai(ft,Ri(ut));var Rt=(ft,ut,lt)=>new Promise((Ct,xt)=>{var Pt=St=>{try{kt(lt.next(St))}catch(Ot){xt(Ot)}},Bt=St=>{try{kt(lt.throw(St))}catch(Ot){xt(Ot)}},kt=St=>St.done?Ct(St.value):Promise.resolve(St.value).then(Pt,Bt);kt((lt=lt.apply(ft,ut)).next())});const ft="yascml-settings",ut=(b=>b?JSON.parse(b):{disabledMods:[],saveMode:!1,logInfo:!1})(localStorage.getItem(ft)),lt=()=>localStorage.setItem(ft,JSON.stringify(ut)),Ct=b=>ut[b],xt=(b,k)=>(ut[b]=k,lt());lt();const Pt=["log","info","warn","error"],Bt=new Map,kt=[];for(const b of Pt)Bt.set(b,Reflect.getOwnPropertyDescriptor(window.console,b).value);const St=()=>ut.logInfo||window.YASCMLConfig&&window.YASCMLConfig.logInfo,Ot=(b,...k)=>{if(k.length===0)return;const r=Bt.get(b);if(r&&!(!St()&&b==="info"))return kt.unshift({time:performance.now(),level:b,data:k}),kt.length>200&&(kt.length=200),Reflect.apply(r,window.console,k)};for(const b of Pt){const k=b!=="log"?b:"info";Reflect.defineProperty(window.console,b,{value(...r){return Ot(k,...r)}})}const _n=(b,k,r)=>{const y=b[k];if(typeof y!="function")throw new Error("Unsupported target");if(!Reflect.defineProperty(b,`$${String(k)}`,{configurable:!1,enumerable:!1,value:y}))throw new Error("Cannot define property on this target, is this target protected?");if(!Reflect.defineProperty(b,k,tr({configurable:!0,enumerable:!0},r)))throw new Error("Cannot relace property on this target, is this target unconfigurable?")},wn=()=>{const b=document.createElement("div");b.id="yascml-loading",b.innerText="YASCML v1.0.0 Loading...",b.style=["display: block","position: fixed","top: 0","left: 0","padding: 0.25em","font-family: 'Courier New', 'Lucida Console', 'Monaco', 'Consolas', 'DejaVu Sans Mono', 'Liberation Mono', monospace","font-size: 1em","color: #eee","text-align: left","z-index: 500000","animation-name: _YASCML_BLINK_","animation-duration: 1s","animation-iteration-count: infinite","animation-timing-function: linear","animation-direction: alternate","box-sizing: border-box"].join(";"),document.body.appendChild(b)},mt=b=>{const k=document.querySelector("div#yascml-loading");k&&(k.innerText=`[YASCML v1.0.0] ${b}`)},Ft=()=>{document.querySelector("div#yascml-loading")&&document.body.removeChild(document.querySelector("div#yascml-loading"))};function dt(b){return new Promise((k,r)=>{b.oncomplete=b.onsuccess=()=>k(b.result),b.onabort=b.onerror=()=>r(b.error)})}function Kt(b,k){let r;const y=()=>{if(r)return r;const h=indexedDB.open(b);return h.onupgradeneeded=()=>h.result.createObjectStore(k),r=dt(h),r.then(d=>{d.onclose=()=>r=void 0},()=>{}),r};return(h,d)=>y().then(u=>d(u.transaction(k,h).objectStore(k)))}let Jt;function _t(){return Jt||(Jt=Kt("keyval-store","keyval")),Jt}function er(b,k=_t()){return k("readonly",r=>dt(r.get(b)))}function rr(b,k,r=_t()){return r("readwrite",y=>(y.put(k,b),dt(y.transaction)))}function vn(b,k=_t()){return k("readwrite",r=>(b.forEach(y=>r.put(y[1],y[0])),dt(r.transaction)))}function yn(b,k=_t()){return k("readonly",r=>Promise.all(b.map(y=>dt(r.get(y)))))}function nr(b,k,r=_t()){return r("readwrite",y=>new Promise((h,d)=>{y.get(b).onsuccess=function(){try{y.put(k(this.result),b),h(dt(y.transaction))}catch(u){d(u)}}}))}function ir(b,k=_t()){return k("readwrite",r=>(r.delete(b),dt(r.transaction)))}function bn(b,k=_t()){return k("readwrite",r=>(b.forEach(y=>r.delete(y)),dt(r.transaction)))}function En(b=_t()){return b("readwrite",k=>(k.clear(),dt(k.transaction)))}function Qt(b,k){return b.openCursor().onsuccess=function(){this.result&&(k(this.result),this.result.continue())},dt(b.transaction)}function sr(b=_t()){return b("readonly",k=>{if(k.getAllKeys)return dt(k.getAllKeys());const r=[];return Qt(k,y=>r.push(y.key)).then(()=>r)})}function Sn(b=_t()){return b("readonly",k=>{if(k.getAll)return dt(k.getAll());const r=[];return Qt(k,y=>r.push(y.value)).then(()=>r)})}function An(b=_t()){return b("readonly",k=>{if(k.getAll&&k.getAllKeys)return Promise.all([dt(k.getAllKeys()),dt(k.getAll())]).then(([y,h])=>y.map((d,u)=>[d,h[u]]));const r=[];return b("readonly",y=>Qt(y,h=>r.push([h.key,h.value])).then(()=>r))})}const Rn=Object.freeze(Object.defineProperty({__proto__:null,clear:En,createStore:Kt,del:ir,delMany:bn,entries:An,get:er,getMany:yn,keys:sr,promisifyRequest:dt,set:rr,setMany:vn,update:nr,values:Sn},Symbol.toStringTag,{value:"Module"}));var Ut=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ar(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}function Mt(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var te={exports:{}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */var or;function kn(){return or||(or=1,(function(b,k){(function(r){b.exports=r()})(function(){return(function r(y,h,d){function u(g,l){if(!h[g]){if(!y[g]){var w=typeof Mt=="function"&&Mt;if(!l&&w)return w(g,!0);if(a)return a(g,!0);var E=new Error("Cannot find module '"+g+"'");throw E.code="MODULE_NOT_FOUND",E}var p=h[g]={exports:{}};y[g][0].call(p.exports,function(A){var o=y[g][1][A];return u(o||A)},p,p.exports,r,y,h,d)}return h[g].exports}for(var a=typeof Mt=="function"&&Mt,c=0;c<d.length;c++)u(d[c]);return u})({1:[function(r,y,h){var d=r("./utils"),u=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(c){for(var g,l,w,E,p,A,o,_=[],i=0,f=c.length,n=f,s=d.getTypeOf(c)!=="string";i<c.length;)n=f-i,w=s?(g=c[i++],l=i<f?c[i++]:0,i<f?c[i++]:0):(g=c.charCodeAt(i++),l=i<f?c.charCodeAt(i++):0,i<f?c.charCodeAt(i++):0),E=g>>2,p=(3&g)<<4|l>>4,A=1<n?(15&l)<<2|w>>6:64,o=2<n?63&w:64,_.push(a.charAt(E)+a.charAt(p)+a.charAt(A)+a.charAt(o));return _.join("")},h.decode=function(c){var g,l,w,E,p,A,o=0,_=0,i="data:";if(c.substr(0,i.length)===i)throw new Error("Invalid base64 input, it looks like a data url.");var f,n=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&n--,c.charAt(c.length-2)===a.charAt(64)&&n--,n%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=u.uint8array?new Uint8Array(0|n):new Array(0|n);o<c.length;)g=a.indexOf(c.charAt(o++))<<2|(E=a.indexOf(c.charAt(o++)))>>4,l=(15&E)<<4|(p=a.indexOf(c.charAt(o++)))>>2,w=(3&p)<<6|(A=a.indexOf(c.charAt(o++))),f[_++]=g,p!==64&&(f[_++]=l),A!==64&&(f[_++]=w);return f}},{"./support":30,"./utils":32}],2:[function(r,y,h){var d=r("./external"),u=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function g(l,w,E,p,A){this.compressedSize=l,this.uncompressedSize=w,this.crc32=E,this.compression=p,this.compressedContent=A}g.prototype={getContentWorker:function(){var l=new u(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),w=this;return l.on("end",function(){if(this.streamInfo.data_length!==w.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new u(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(l,w,E){return l.pipe(new a).pipe(new c("uncompressedSize")).pipe(w.compressWorker(E)).pipe(new c("compressedSize")).withStreamInfo("compression",w)},y.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,y,h){var d=r("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},h.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,y,h){var d=r("./utils"),u=(function(){for(var a,c=[],g=0;g<256;g++){a=g;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;c[g]=a}return c})();y.exports=function(a,c){return a!==void 0&&a.length?d.getTypeOf(a)!=="string"?(function(g,l,w,E){var p=u,A=E+w;g^=-1;for(var o=E;o<A;o++)g=g>>>8^p[255&(g^l[o])];return-1^g})(0|c,a,a.length,0):(function(g,l,w,E){var p=u,A=E+w;g^=-1;for(var o=E;o<A;o++)g=g>>>8^p[255&(g^l.charCodeAt(o))];return-1^g})(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(r,y,h){h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(r,y,h){var d=null;d=typeof Promise!="undefined"?Promise:r("lie"),y.exports={Promise:d}},{lie:37}],7:[function(r,y,h){var d=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",u=r("pako"),a=r("./utils"),c=r("./stream/GenericWorker"),g=d?"uint8array":"array";function l(w,E){c.call(this,"FlateWorker/"+w),this._pako=null,this._pakoAction=w,this._pakoOptions=E,this.meta={}}h.magic="\b\0",a.inherits(l,c),l.prototype.processChunk=function(w){this.meta=w.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(g,w.data),!1)},l.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var w=this;this._pako.onData=function(E){w.push({data:E,meta:w.meta})}},h.compressWorker=function(w){return new l("Deflate",w)},h.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,y,h){function d(p,A){var o,_="";for(o=0;o<A;o++)_+=String.fromCharCode(255&p),p>>>=8;return _}function u(p,A,o,_,i,f){var n,s,m=p.file,v=p.compression,T=f!==g.utf8encode,D=a.transformTo("string",f(m.name)),P=a.transformTo("string",g.utf8encode(m.name)),W=m.comment,Q=a.transformTo("string",f(W)),C=a.transformTo("string",g.utf8encode(W)),F=P.length!==m.name.length,e=C.length!==W.length,I="",G="",z="",Y=m.dir,N=m.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};A&&!o||(Z.crc32=p.crc32,Z.compressedSize=p.compressedSize,Z.uncompressedSize=p.uncompressedSize);var L=0;A&&(L|=8),T||!F&&!e||(L|=2048);var x=0,K=0;Y&&(x|=16),i==="UNIX"?(K=798,x|=(function(q,it){var ht=q;return q||(ht=it?16893:33204),(65535&ht)<<16})(m.unixPermissions,Y)):(K=20,x|=(function(q){return 63&(q||0)})(m.dosPermissions)),n=N.getUTCHours(),n<<=6,n|=N.getUTCMinutes(),n<<=5,n|=N.getUTCSeconds()/2,s=N.getUTCFullYear()-1980,s<<=4,s|=N.getUTCMonth()+1,s<<=5,s|=N.getUTCDate(),F&&(G=d(1,1)+d(l(D),4)+P,I+="up"+d(G.length,2)+G),e&&(z=d(1,1)+d(l(Q),4)+C,I+="uc"+d(z.length,2)+z);var V="";return V+=`
\0`,V+=d(L,2),V+=v.magic,V+=d(n,2),V+=d(s,2),V+=d(Z.crc32,4),V+=d(Z.compressedSize,4),V+=d(Z.uncompressedSize,4),V+=d(D.length,2),V+=d(I.length,2),{fileRecord:w.LOCAL_FILE_HEADER+V+D+I,dirRecord:w.CENTRAL_FILE_HEADER+d(K,2)+V+d(Q.length,2)+"\0\0\0\0"+d(x,4)+d(_,4)+D+I+Q}}var a=r("../utils"),c=r("../stream/GenericWorker"),g=r("../utf8"),l=r("../crc32"),w=r("../signature");function E(p,A,o,_){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=o,this.encodeFileName=_,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(E,c),E.prototype.push=function(p){var A=p.meta.percent||0,o=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:o?(A+100*(o-_-1))/o:100}}))},E.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var A=this.streamFiles&&!p.file.dir;if(A){var o=u(p,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(p){this.accumulate=!1;var A=this.streamFiles&&!p.file.dir,o=u(p,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),A)this.push({data:(function(_){return w.DATA_DESCRIPTOR+d(_.crc32,4)+d(_.compressedSize,4)+d(_.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var p=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var o=this.bytesWritten-p,_=(function(i,f,n,s,m){var v=a.transformTo("string",m(s));return w.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(i,2)+d(i,2)+d(f,4)+d(n,4)+d(v.length,2)+v})(this.dirRecords.length,o,p,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(p){this._sources.push(p);var A=this;return p.on("data",function(o){A.processChunk(o)}),p.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),p.on("error",function(o){A.error(o)}),this},E.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(p){var A=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var o=0;o<A.length;o++)try{A[o].error(p)}catch(_){}return!0},E.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,A=0;A<p.length;A++)p[A].lock()},y.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,y,h){var d=r("../compressions"),u=r("./ZipFileWorker");h.generateWorker=function(a,c,g){var l=new u(c.streamFiles,g,c.platform,c.encodeFileName),w=0;try{a.forEach(function(E,p){w++;var A=(function(f,n){var s=f||n,m=d[s];if(!m)throw new Error(s+" is not a valid compression method !");return m})(p.options.compression,c.compression),o=p.options.compressionOptions||c.compressionOptions||{},_=p.dir,i=p.date;p._compressWorker(A,o).withStreamInfo("file",{name:E,dir:_,date:i,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(l)}),l.entriesCount=w}catch(E){l.error(E)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,y,h){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new d;for(var a in this)typeof this[a]!="function"&&(u[a]=this[a]);return u}}(d.prototype=r("./object")).loadAsync=r("./load"),d.support=r("./support"),d.defaults=r("./defaults"),d.version="3.10.1",d.loadAsync=function(u,a){return new d().loadAsync(u,a)},d.external=r("./external"),y.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,y,h){var d=r("./utils"),u=r("./external"),a=r("./utf8"),c=r("./zipEntries"),g=r("./stream/Crc32Probe"),l=r("./nodejsUtils");function w(E){return new u.Promise(function(p,A){var o=E.decompressed.getContentWorker().pipe(new g);o.on("error",function(_){A(_)}).on("end",function(){o.streamInfo.crc32!==E.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}y.exports=function(E,p){var A=this;return p=d.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(E)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",E,!0,p.optimizedBinaryString,p.base64).then(function(o){var _=new c(p);return _.load(o),_}).then(function(o){var _=[u.Promise.resolve(o)],i=o.files;if(p.checkCRC32)for(var f=0;f<i.length;f++)_.push(w(i[f]));return u.Promise.all(_)}).then(function(o){for(var _=o.shift(),i=_.files,f=0;f<i.length;f++){var n=i[f],s=n.fileNameStr,m=d.resolve(n.fileNameStr);A.file(m,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:p.createFolders}),n.dir||(A.file(m).unsafeOriginalName=s)}return _.zipComment.length&&(A.comment=_.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,y,h){var d=r("../utils"),u=r("../stream/GenericWorker");function a(c,g){u.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(g)}d.inherits(a,u),a.prototype._bindStream=function(c){var g=this;(this._stream=c).pause(),c.on("data",function(l){g.push({data:l,meta:{percent:0}})}).on("error",function(l){g.isPaused?this.generatedError=l:g.error(l)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},a.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},y.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,y,h){var d=r("readable-stream").Readable;function u(a,c,g){d.call(this,c),this._helper=a;var l=this;a.on("data",function(w,E){l.push(w)||l._helper.pause(),g&&g(E)}).on("error",function(w){l.emit("error",w)}).on("end",function(){l.push(null)})}r("../utils").inherits(u,d),u.prototype._read=function(){this._helper.resume()},y.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,y,h){y.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(d,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,u);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new Buffer(d,u)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var u=new Buffer(d);return u.fill(0),u},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(r,y,h){function d(m,v,T){var D,P=a.getTypeOf(v),W=a.extend(T||{},l);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(m=i(m)),W.createFolders&&(D=_(m))&&f.call(this,D,!0);var Q=P==="string"&&W.binary===!1&&W.base64===!1;T&&T.binary!==void 0||(W.binary=!Q),(v instanceof w&&v.uncompressedSize===0||W.dir||!v||v.length===0)&&(W.base64=!1,W.binary=!0,v="",W.compression="STORE",P="string");var C=null;C=v instanceof w||v instanceof c?v:A.isNode&&A.isStream(v)?new o(m,v):a.prepareContent(m,v,W.binary,W.optimizedBinaryString,W.base64);var F=new E(m,C,W);this.files[m]=F}var u=r("./utf8"),a=r("./utils"),c=r("./stream/GenericWorker"),g=r("./stream/StreamHelper"),l=r("./defaults"),w=r("./compressedObject"),E=r("./zipObject"),p=r("./generate"),A=r("./nodejsUtils"),o=r("./nodejs/NodejsStreamInputAdapter"),_=function(m){m.slice(-1)==="/"&&(m=m.substring(0,m.length-1));var v=m.lastIndexOf("/");return 0<v?m.substring(0,v):""},i=function(m){return m.slice(-1)!=="/"&&(m+="/"),m},f=function(m,v){return v=v!==void 0?v:l.createFolders,m=i(m),this.files[m]||d.call(this,m,null,{dir:!0,createFolders:v}),this.files[m]};function n(m){return Object.prototype.toString.call(m)==="[object RegExp]"}var s={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(m){var v,T,D;for(v in this.files)D=this.files[v],(T=v.slice(this.root.length,v.length))&&v.slice(0,this.root.length)===this.root&&m(T,D)},filter:function(m){var v=[];return this.forEach(function(T,D){m(T,D)&&v.push(D)}),v},file:function(m,v,T){if(arguments.length!==1)return m=this.root+m,d.call(this,m,v,T),this;if(n(m)){var D=m;return this.filter(function(W,Q){return!Q.dir&&D.test(W)})}var P=this.files[this.root+m];return P&&!P.dir?P:null},folder:function(m){if(!m)return this;if(n(m))return this.filter(function(P,W){return W.dir&&m.test(P)});var v=this.root+m,T=f.call(this,v),D=this.clone();return D.root=T.name,D},remove:function(m){m=this.root+m;var v=this.files[m];if(v||(m.slice(-1)!=="/"&&(m+="/"),v=this.files[m]),v&&!v.dir)delete this.files[m];else for(var T=this.filter(function(P,W){return W.name.slice(0,m.length)===m}),D=0;D<T.length;D++)delete this.files[T[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(m){var v,T={};try{if((T=a.extend(m||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var D=T.comment||this.comment||"";v=p.generateWorker(this,T,D)}catch(P){(v=new c("error")).error(P)}return new g(v,T.type||"string",T.mimeType)},generateAsync:function(m,v){return this.generateInternalStream(m).accumulate(v)},generateNodeStream:function(m,v){return(m=m||{}).type||(m.type="nodebuffer"),this.generateInternalStream(m).toNodejsStream(v)}};y.exports=s},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,y,h){y.exports=r("stream")},{stream:void 0}],17:[function(r,y,h){var d=r("./DataReader");function u(a){d.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}r("../utils").inherits(u,d),u.prototype.byteAt=function(a){return this.data[this.zero+a]},u.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),g=a.charCodeAt(1),l=a.charCodeAt(2),w=a.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===c&&this.data[E+1]===g&&this.data[E+2]===l&&this.data[E+3]===w)return E-this.zero;return-1},u.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),g=a.charCodeAt(1),l=a.charCodeAt(2),w=a.charCodeAt(3),E=this.readData(4);return c===E[0]&&g===E[1]&&l===E[2]&&w===E[3]},u.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},y.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,y,h){var d=r("../utils");function u(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,g=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)g=(g<<8)+this.byteAt(c);return this.index+=a,g},readString:function(a){return d.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},y.exports=u},{"../utils":32}],19:[function(r,y,h){var d=r("./Uint8ArrayReader");function u(a){d.call(this,a)}r("../utils").inherits(u,d),u.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},y.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,y,h){var d=r("./DataReader");function u(a){d.call(this,a)}r("../utils").inherits(u,d),u.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},u.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},u.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},u.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},y.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,y,h){var d=r("./ArrayReader");function u(a){d.call(this,a)}r("../utils").inherits(u,d),u.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},y.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,y,h){var d=r("../utils"),u=r("../support"),a=r("./ArrayReader"),c=r("./StringReader"),g=r("./NodeBufferReader"),l=r("./Uint8ArrayReader");y.exports=function(w){var E=d.getTypeOf(w);return d.checkSupport(E),E!=="string"||u.uint8array?E==="nodebuffer"?new g(w):u.uint8array?new l(d.transformTo("uint8array",w)):new a(d.transformTo("array",w)):new c(w)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,y,h){h.LOCAL_FILE_HEADER="PK",h.CENTRAL_FILE_HEADER="PK",h.CENTRAL_DIRECTORY_END="PK",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,y,h){var d=r("./GenericWorker"),u=r("../utils");function a(c){d.call(this,"ConvertWorker to "+c),this.destType=c}u.inherits(a,d),a.prototype.processChunk=function(c){this.push({data:u.transformTo(this.destType,c.data),meta:c.meta})},y.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,y,h){var d=r("./GenericWorker"),u=r("../crc32");function a(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,d),a.prototype.processChunk=function(c){this.streamInfo.crc32=u(c.data,this.streamInfo.crc32||0),this.push(c)},y.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,y,h){var d=r("../utils"),u=r("./GenericWorker");function a(c){u.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}d.inherits(a,u),a.prototype.processChunk=function(c){if(c){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+c.data.length}u.prototype.processChunk.call(this,c)},y.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,y,h){var d=r("../utils"),u=r("./GenericWorker");function a(c){u.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(l){g.dataIsReady=!0,g.data=l,g.max=l&&l.length||0,g.type=d.getTypeOf(l),g.isPaused||g._tickAndRepeat()},function(l){g.error(l)})}d.inherits(a,u),a.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,g);break;case"uint8array":c=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":c=this.data.slice(this.index,g)}return this.index=g,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},y.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,y,h){function d(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,a){return this._listeners[u].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,a){if(this._listeners[u])for(var c=0;c<this._listeners[u].length;c++)this._listeners[u][c].call(this,a)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var a=this;return u.on("data",function(c){a.processChunk(c)}),u.on("end",function(){a.end()}),u.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,a){return this.extraStreamInfo[u]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},y.exports=d},{}],29:[function(r,y,h){var d=r("../utils"),u=r("./ConvertWorker"),a=r("./GenericWorker"),c=r("../base64"),g=r("../support"),l=r("../external"),w=null;if(g.nodestream)try{w=r("../nodejs/NodejsStreamOutputAdapter")}catch(A){}function E(A,o){return new l.Promise(function(_,i){var f=[],n=A._internalType,s=A._outputType,m=A._mimeType;A.on("data",function(v,T){f.push(v),o&&o(T)}).on("error",function(v){f=[],i(v)}).on("end",function(){try{var v=(function(T,D,P){switch(T){case"blob":return d.newBlob(d.transformTo("arraybuffer",D),P);case"base64":return c.encode(D);default:return d.transformTo(T,D)}})(s,(function(T,D){var P,W=0,Q=null,C=0;for(P=0;P<D.length;P++)C+=D[P].length;switch(T){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(Q=new Uint8Array(C),P=0;P<D.length;P++)Q.set(D[P],W),W+=D[P].length;return Q;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+T+"'")}})(n,f),m);_(v)}catch(T){i(T)}f=[]}).resume()})}function p(A,o,_){var i=o;switch(o){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=o,this._mimeType=_,d.checkSupport(i),this._worker=A.pipe(new u(i)),A.lock()}catch(f){this._worker=new a("error"),this._worker.error(f)}}p.prototype={accumulate:function(A){return E(this,A)},on:function(A,o){var _=this;return A==="data"?this._worker.on(A,function(i){o.call(_,i.data,i.meta)}):this._worker.on(A,function(){d.delay(o,arguments,_)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new w(this,{objectMode:this._outputType!=="nodebuffer"},A)}},y.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,y,h){if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",h.nodebuffer=typeof Buffer!="undefined",h.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")h.blob=!1;else{var d=new ArrayBuffer(0);try{h.blob=new Blob([d],{type:"application/zip"}).size===0}catch(a){try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(d),h.blob=u.getBlob("application/zip").size===0}catch(c){h.blob=!1}}}try{h.nodestream=!!r("readable-stream").Readable}catch(a){h.nodestream=!1}},{"readable-stream":16}],31:[function(r,y,h){for(var d=r("./utils"),u=r("./support"),a=r("./nodejsUtils"),c=r("./stream/GenericWorker"),g=new Array(256),l=0;l<256;l++)g[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;g[254]=g[254]=1;function w(){c.call(this,"utf-8 decode"),this.leftOver=null}function E(){c.call(this,"utf-8 encode")}h.utf8encode=function(p){return u.nodebuffer?a.newBufferFrom(p,"utf-8"):(function(A){var o,_,i,f,n,s=A.length,m=0;for(f=0;f<s;f++)(64512&(_=A.charCodeAt(f)))==55296&&f+1<s&&(64512&(i=A.charCodeAt(f+1)))==56320&&(_=65536+(_-55296<<10)+(i-56320),f++),m+=_<128?1:_<2048?2:_<65536?3:4;for(o=u.uint8array?new Uint8Array(m):new Array(m),f=n=0;n<m;f++)(64512&(_=A.charCodeAt(f)))==55296&&f+1<s&&(64512&(i=A.charCodeAt(f+1)))==56320&&(_=65536+(_-55296<<10)+(i-56320),f++),_<128?o[n++]=_:(_<2048?o[n++]=192|_>>>6:(_<65536?o[n++]=224|_>>>12:(o[n++]=240|_>>>18,o[n++]=128|_>>>12&63),o[n++]=128|_>>>6&63),o[n++]=128|63&_);return o})(p)},h.utf8decode=function(p){return u.nodebuffer?d.transformTo("nodebuffer",p).toString("utf-8"):(function(A){var o,_,i,f,n=A.length,s=new Array(2*n);for(o=_=0;o<n;)if((i=A[o++])<128)s[_++]=i;else if(4<(f=g[i]))s[_++]=65533,o+=f-1;else{for(i&=f===2?31:f===3?15:7;1<f&&o<n;)i=i<<6|63&A[o++],f--;1<f?s[_++]=65533:i<65536?s[_++]=i:(i-=65536,s[_++]=55296|i>>10&1023,s[_++]=56320|1023&i)}return s.length!==_&&(s.subarray?s=s.subarray(0,_):s.length=_),d.applyFromCharCode(s)})(p=d.transformTo(u.uint8array?"uint8array":"array",p))},d.inherits(w,c),w.prototype.processChunk=function(p){var A=d.transformTo(u.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var o=A;(A=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),A.set(o,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var _=(function(f,n){var s;for((n=n||f.length)>f.length&&(n=f.length),s=n-1;0<=s&&(192&f[s])==128;)s--;return s<0||s===0?n:s+g[f[s]]>n?s:n})(A),i=A;_!==A.length&&(u.uint8array?(i=A.subarray(0,_),this.leftOver=A.subarray(_,A.length)):(i=A.slice(0,_),this.leftOver=A.slice(_,A.length))),this.push({data:h.utf8decode(i),meta:p.meta})},w.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=w,d.inherits(E,c),E.prototype.processChunk=function(p){this.push({data:h.utf8encode(p.data),meta:p.meta})},h.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,y,h){var d=r("./support"),u=r("./base64"),a=r("./nodejsUtils"),c=r("./external");function g(o){return o}function l(o,_){for(var i=0;i<o.length;++i)_[i]=255&o.charCodeAt(i);return _}r("setimmediate"),h.newBlob=function(o,_){h.checkSupport("blob");try{return new Blob([o],{type:_})}catch(f){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(o),i.getBlob(_)}catch(n){throw new Error("Bug : can't construct the Blob.")}}};var w={stringifyByChunk:function(o,_,i){var f=[],n=0,s=o.length;if(s<=i)return String.fromCharCode.apply(null,o);for(;n<s;)_==="array"||_==="nodebuffer"?f.push(String.fromCharCode.apply(null,o.slice(n,Math.min(n+i,s)))):f.push(String.fromCharCode.apply(null,o.subarray(n,Math.min(n+i,s)))),n+=i;return f.join("")},stringifyByChar:function(o){for(var _="",i=0;i<o.length;i++)_+=String.fromCharCode(o[i]);return _},applyCanBeUsed:{uint8array:(function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(o){return!1}})(),nodebuffer:(function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch(o){return!1}})()}};function E(o){var _=65536,i=h.getTypeOf(o),f=!0;if(i==="uint8array"?f=w.applyCanBeUsed.uint8array:i==="nodebuffer"&&(f=w.applyCanBeUsed.nodebuffer),f)for(;1<_;)try{return w.stringifyByChunk(o,i,_)}catch(n){_=Math.floor(_/2)}return w.stringifyByChar(o)}function p(o,_){for(var i=0;i<o.length;i++)_[i]=o[i];return _}h.applyFromCharCode=E;var A={};A.string={string:g,array:function(o){return l(o,new Array(o.length))},arraybuffer:function(o){return A.string.uint8array(o).buffer},uint8array:function(o){return l(o,new Uint8Array(o.length))},nodebuffer:function(o){return l(o,a.allocBuffer(o.length))}},A.array={string:E,array:g,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return a.newBufferFrom(o)}},A.arraybuffer={string:function(o){return E(new Uint8Array(o))},array:function(o){return p(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:g,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return a.newBufferFrom(new Uint8Array(o))}},A.uint8array={string:E,array:function(o){return p(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:g,nodebuffer:function(o){return a.newBufferFrom(o)}},A.nodebuffer={string:E,array:function(o){return p(o,new Array(o.length))},arraybuffer:function(o){return A.nodebuffer.uint8array(o).buffer},uint8array:function(o){return p(o,new Uint8Array(o.length))},nodebuffer:g},h.transformTo=function(o,_){if(_=_||"",!o)return _;h.checkSupport(o);var i=h.getTypeOf(_);return A[i][o](_)},h.resolve=function(o){for(var _=o.split("/"),i=[],f=0;f<_.length;f++){var n=_[f];n==="."||n===""&&f!==0&&f!==_.length-1||(n===".."?i.pop():i.push(n))}return i.join("/")},h.getTypeOf=function(o){return typeof o=="string"?"string":Object.prototype.toString.call(o)==="[object Array]"?"array":d.nodebuffer&&a.isBuffer(o)?"nodebuffer":d.uint8array&&o instanceof Uint8Array?"uint8array":d.arraybuffer&&o instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(o){if(!d[o.toLowerCase()])throw new Error(o+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(o){var _,i,f="";for(i=0;i<(o||"").length;i++)f+="\\x"+((_=o.charCodeAt(i))<16?"0":"")+_.toString(16).toUpperCase();return f},h.delay=function(o,_,i){setImmediate(function(){o.apply(i||null,_||[])})},h.inherits=function(o,_){function i(){}i.prototype=_.prototype,o.prototype=new i},h.extend=function(){var o,_,i={};for(o=0;o<arguments.length;o++)for(_ in arguments[o])Object.prototype.hasOwnProperty.call(arguments[o],_)&&i[_]===void 0&&(i[_]=arguments[o][_]);return i},h.prepareContent=function(o,_,i,f,n){return c.Promise.resolve(_).then(function(s){return d.blob&&(s instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(s))!==-1)&&typeof FileReader!="undefined"?new c.Promise(function(m,v){var T=new FileReader;T.onload=function(D){m(D.target.result)},T.onerror=function(D){v(D.target.error)},T.readAsArrayBuffer(s)}):s}).then(function(s){var m=h.getTypeOf(s);return m?(m==="arraybuffer"?s=h.transformTo("uint8array",s):m==="string"&&(n?s=u.decode(s):i&&f!==!0&&(s=(function(v){return l(v,d.uint8array?new Uint8Array(v.length):new Array(v.length))})(s))),s):c.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,y,h){var d=r("./reader/readerFor"),u=r("./utils"),a=r("./signature"),c=r("./zipEntry"),g=r("./support");function l(w){this.files=[],this.loadOptions=w}l.prototype={checkSignature:function(w){if(!this.reader.readAndCheckSignature(w)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(E)+", expected "+u.pretty(w)+")")}},isSignature:function(w,E){var p=this.reader.index;this.reader.setIndex(w);var A=this.reader.readString(4)===E;return this.reader.setIndex(p),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var w=this.reader.readData(this.zipCommentLength),E=g.uint8array?"uint8array":"array",p=u.transformTo(E,w);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var w,E,p,A=this.zip64EndOfCentralSize-44;0<A;)w=this.reader.readInt(2),E=this.reader.readInt(4),p=this.reader.readData(E),this.zip64ExtensibleData[w]={id:w,length:E,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var w,E;for(w=0;w<this.files.length;w++)E=this.files[w],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var w;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(w=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(w);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var w=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(w<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(w);var E=w;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(w=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(w),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var A=E-p;if(0<A)this.isSignature(E,a.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(w){this.reader=d(w)},load:function(w){this.prepareReader(w),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},y.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,y,h){var d=r("./reader/readerFor"),u=r("./utils"),a=r("./compressedObject"),c=r("./crc32"),g=r("./utf8"),l=r("./compressions"),w=r("./support");function E(p,A){this.options=p,this.loadOptions=A}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var A,o;if(p.skip(22),this.fileNameLength=p.readInt(2),o=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(o),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=(function(_){for(var i in l)if(Object.prototype.hasOwnProperty.call(l,i)&&l[i].magic===_)return l[i];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,A,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var A=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(A),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=d(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var A,o,_,i=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<i;)A=p.readInt(2),o=p.readInt(2),_=p.readData(o),this.extraFields[A]={id:A,length:o,value:_};p.setIndex(i)},handleUTF8:function(){var p=w.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var o=u.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var i=u.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var A=d(p.value);return A.readInt(1)!==1||c(this.fileName)!==A.readInt(4)?null:g.utf8decode(A.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var A=d(p.value);return A.readInt(1)!==1||c(this.fileComment)!==A.readInt(4)?null:g.utf8decode(A.readData(p.length-5))}return null}},y.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,y,h){function d(A,o,_){this.name=A,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=o,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var u=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),c=r("./utf8"),g=r("./compressedObject"),l=r("./stream/GenericWorker");d.prototype={internalStream:function(A){var o=null,_="string";try{if(!A)throw new Error("No output type specified.");var i=(_=A.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),o=this._decompressWorker();var f=!this._dataBinary;f&&!i&&(o=o.pipe(new c.Utf8EncodeWorker)),!f&&i&&(o=o.pipe(new c.Utf8DecodeWorker))}catch(n){(o=new l("error")).error(n)}return new u(o,_,"")},async:function(A,o){return this.internalStream(A).accumulate(o)},nodeStream:function(A,o){return this.internalStream(A||"nodebuffer").toNodejsStream(o)},_compressWorker:function(A,o){if(this._data instanceof g&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new c.Utf8EncodeWorker)),g.createWorkerFrom(_,A,o)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var w=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<w.length;p++)d.prototype[w[p]]=E;y.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,y,h){(function(d){var u,a,c=d.MutationObserver||d.WebKitMutationObserver;if(c){var g=0,l=new c(A),w=d.document.createTextNode("");l.observe(w,{characterData:!0}),u=function(){w.data=g=++g%2}}else if(d.setImmediate||d.MessageChannel===void 0)u="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var o=d.document.createElement("script");o.onreadystatechange=function(){A(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},d.document.documentElement.appendChild(o)}:function(){setTimeout(A,0)};else{var E=new d.MessageChannel;E.port1.onmessage=A,u=function(){E.port2.postMessage(0)}}var p=[];function A(){var o,_;a=!0;for(var i=p.length;i;){for(_=p,p=[],o=-1;++o<i;)_[o]();i=p.length}a=!1}y.exports=function(o){p.push(o)!==1||a||u()}}).call(this,typeof Ut!="undefined"?Ut:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(r,y,h){var d=r("immediate");function u(){}var a={},c=["REJECTED"],g=["FULFILLED"],l=["PENDING"];function w(i){if(typeof i!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,i!==u&&o(this,i)}function E(i,f,n){this.promise=i,typeof f=="function"&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled),typeof n=="function"&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function p(i,f,n){d(function(){var s;try{s=f(n)}catch(m){return a.reject(i,m)}s===i?a.reject(i,new TypeError("Cannot resolve promise with itself")):a.resolve(i,s)})}function A(i){var f=i&&i.then;if(i&&(typeof i=="object"||typeof i=="function")&&typeof f=="function")return function(){f.apply(i,arguments)}}function o(i,f){var n=!1;function s(T){n||(n=!0,a.reject(i,T))}function m(T){n||(n=!0,a.resolve(i,T))}var v=_(function(){f(m,s)});v.status==="error"&&s(v.value)}function _(i,f){var n={};try{n.value=i(f),n.status="success"}catch(s){n.status="error",n.value=s}return n}(y.exports=w).prototype.finally=function(i){if(typeof i!="function")return this;var f=this.constructor;return this.then(function(n){return f.resolve(i()).then(function(){return n})},function(n){return f.resolve(i()).then(function(){throw n})})},w.prototype.catch=function(i){return this.then(null,i)},w.prototype.then=function(i,f){if(typeof i!="function"&&this.state===g||typeof f!="function"&&this.state===c)return this;var n=new this.constructor(u);return this.state!==l?p(n,this.state===g?i:f,this.outcome):this.queue.push(new E(n,i,f)),n},E.prototype.callFulfilled=function(i){a.resolve(this.promise,i)},E.prototype.otherCallFulfilled=function(i){p(this.promise,this.onFulfilled,i)},E.prototype.callRejected=function(i){a.reject(this.promise,i)},E.prototype.otherCallRejected=function(i){p(this.promise,this.onRejected,i)},a.resolve=function(i,f){var n=_(A,f);if(n.status==="error")return a.reject(i,n.value);var s=n.value;if(s)o(i,s);else{i.state=g,i.outcome=f;for(var m=-1,v=i.queue.length;++m<v;)i.queue[m].callFulfilled(f)}return i},a.reject=function(i,f){i.state=c,i.outcome=f;for(var n=-1,s=i.queue.length;++n<s;)i.queue[n].callRejected(f);return i},w.resolve=function(i){return i instanceof this?i:a.resolve(new this(u),i)},w.reject=function(i){var f=new this(u);return a.reject(f,i)},w.all=function(i){var f=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var n=i.length,s=!1;if(!n)return this.resolve([]);for(var m=new Array(n),v=0,T=-1,D=new this(u);++T<n;)P(i[T],T);return D;function P(W,Q){f.resolve(W).then(function(C){m[Q]=C,++v!==n||s||(s=!0,a.resolve(D,m))},function(C){s||(s=!0,a.reject(D,C))})}},w.race=function(i){var f=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var n=i.length,s=!1;if(!n)return this.resolve([]);for(var m=-1,v=new this(u);++m<n;)T=i[m],f.resolve(T).then(function(D){s||(s=!0,a.resolve(v,D))},function(D){s||(s=!0,a.reject(v,D))});var T;return v}},{immediate:36}],38:[function(r,y,h){var d={};(0,r("./lib/utils/common").assign)(d,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),y.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,y,h){var d=r("./zlib/deflate"),u=r("./utils/common"),a=r("./utils/strings"),c=r("./zlib/messages"),g=r("./zlib/zstream"),l=Object.prototype.toString,w=0,E=-1,p=0,A=8;function o(i){if(!(this instanceof o))return new o(i);this.options=u.assign({level:E,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},i||{});var f=this.options;f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var n=d.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(n!==w)throw new Error(c[n]);if(f.header&&d.deflateSetHeader(this.strm,f.header),f.dictionary){var s;if(s=typeof f.dictionary=="string"?a.string2buf(f.dictionary):l.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(n=d.deflateSetDictionary(this.strm,s))!==w)throw new Error(c[n]);this._dict_set=!0}}function _(i,f){var n=new o(f);if(n.push(i,!0),n.err)throw n.msg||c[n.err];return n.result}o.prototype.push=function(i,f){var n,s,m=this.strm,v=this.options.chunkSize;if(this.ended)return!1;s=f===~~f?f:f===!0?4:0,typeof i=="string"?m.input=a.string2buf(i):l.call(i)==="[object ArrayBuffer]"?m.input=new Uint8Array(i):m.input=i,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new u.Buf8(v),m.next_out=0,m.avail_out=v),(n=d.deflate(m,s))!==1&&n!==w)return this.onEnd(n),!(this.ended=!0);m.avail_out!==0&&(m.avail_in!==0||s!==4&&s!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(u.shrinkBuf(m.output,m.next_out))):this.onData(u.shrinkBuf(m.output,m.next_out)))}while((0<m.avail_in||m.avail_out===0)&&n!==1);return s===4?(n=d.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===w):s!==2||(this.onEnd(w),!(m.avail_out=0))},o.prototype.onData=function(i){this.chunks.push(i)},o.prototype.onEnd=function(i){i===w&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},h.Deflate=o,h.deflate=_,h.deflateRaw=function(i,f){return(f=f||{}).raw=!0,_(i,f)},h.gzip=function(i,f){return(f=f||{}).gzip=!0,_(i,f)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,y,h){var d=r("./zlib/inflate"),u=r("./utils/common"),a=r("./utils/strings"),c=r("./zlib/constants"),g=r("./zlib/messages"),l=r("./zlib/zstream"),w=r("./zlib/gzheader"),E=Object.prototype.toString;function p(o){if(!(this instanceof p))return new p(o);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},o||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||o&&o.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=d.inflateInit2(this.strm,_.windowBits);if(i!==c.Z_OK)throw new Error(g[i]);this.header=new w,d.inflateGetHeader(this.strm,this.header)}function A(o,_){var i=new p(_);if(i.push(o,!0),i.err)throw i.msg||g[i.err];return i.result}p.prototype.push=function(o,_){var i,f,n,s,m,v,T=this.strm,D=this.options.chunkSize,P=this.options.dictionary,W=!1;if(this.ended)return!1;f=_===~~_?_:_===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof o=="string"?T.input=a.binstring2buf(o):E.call(o)==="[object ArrayBuffer]"?T.input=new Uint8Array(o):T.input=o,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new u.Buf8(D),T.next_out=0,T.avail_out=D),(i=d.inflate(T,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&P&&(v=typeof P=="string"?a.string2buf(P):E.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,i=d.inflateSetDictionary(this.strm,v)),i===c.Z_BUF_ERROR&&W===!0&&(i=c.Z_OK,W=!1),i!==c.Z_STREAM_END&&i!==c.Z_OK)return this.onEnd(i),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&i!==c.Z_STREAM_END&&(T.avail_in!==0||f!==c.Z_FINISH&&f!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(n=a.utf8border(T.output,T.next_out),s=T.next_out-n,m=a.buf2string(T.output,n),T.next_out=s,T.avail_out=D-s,s&&u.arraySet(T.output,T.output,n,s,0),this.onData(m)):this.onData(u.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(W=!0)}while((0<T.avail_in||T.avail_out===0)&&i!==c.Z_STREAM_END);return i===c.Z_STREAM_END&&(f=c.Z_FINISH),f===c.Z_FINISH?(i=d.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c.Z_OK):f!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(T.avail_out=0))},p.prototype.onData=function(o){this.chunks.push(o)},p.prototype.onEnd=function(o){o===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},h.Inflate=p,h.inflate=A,h.inflateRaw=function(o,_){return(_=_||{}).raw=!0,A(o,_)},h.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,y,h){var d=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";h.assign=function(c){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var l=g.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var w in l)l.hasOwnProperty(w)&&(c[w]=l[w])}}return c},h.shrinkBuf=function(c,g){return c.length===g?c:c.subarray?c.subarray(0,g):(c.length=g,c)};var u={arraySet:function(c,g,l,w,E){if(g.subarray&&c.subarray)c.set(g.subarray(l,l+w),E);else for(var p=0;p<w;p++)c[E+p]=g[l+p]},flattenChunks:function(c){var g,l,w,E,p,A;for(g=w=0,l=c.length;g<l;g++)w+=c[g].length;for(A=new Uint8Array(w),g=E=0,l=c.length;g<l;g++)p=c[g],A.set(p,E),E+=p.length;return A}},a={arraySet:function(c,g,l,w,E){for(var p=0;p<w;p++)c[E+p]=g[l+p]},flattenChunks:function(c){return[].concat.apply([],c)}};h.setTyped=function(c){c?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,u)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,a))},h.setTyped(d)},{}],42:[function(r,y,h){var d=r("./common"),u=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(w){u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(w){a=!1}for(var c=new d.Buf8(256),g=0;g<256;g++)c[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function l(w,E){if(E<65537&&(w.subarray&&a||!w.subarray&&u))return String.fromCharCode.apply(null,d.shrinkBuf(w,E));for(var p="",A=0;A<E;A++)p+=String.fromCharCode(w[A]);return p}c[254]=c[254]=1,h.string2buf=function(w){var E,p,A,o,_,i=w.length,f=0;for(o=0;o<i;o++)(64512&(p=w.charCodeAt(o)))==55296&&o+1<i&&(64512&(A=w.charCodeAt(o+1)))==56320&&(p=65536+(p-55296<<10)+(A-56320),o++),f+=p<128?1:p<2048?2:p<65536?3:4;for(E=new d.Buf8(f),o=_=0;_<f;o++)(64512&(p=w.charCodeAt(o)))==55296&&o+1<i&&(64512&(A=w.charCodeAt(o+1)))==56320&&(p=65536+(p-55296<<10)+(A-56320),o++),p<128?E[_++]=p:(p<2048?E[_++]=192|p>>>6:(p<65536?E[_++]=224|p>>>12:(E[_++]=240|p>>>18,E[_++]=128|p>>>12&63),E[_++]=128|p>>>6&63),E[_++]=128|63&p);return E},h.buf2binstring=function(w){return l(w,w.length)},h.binstring2buf=function(w){for(var E=new d.Buf8(w.length),p=0,A=E.length;p<A;p++)E[p]=w.charCodeAt(p);return E},h.buf2string=function(w,E){var p,A,o,_,i=E||w.length,f=new Array(2*i);for(p=A=0;p<i;)if((o=w[p++])<128)f[A++]=o;else if(4<(_=c[o]))f[A++]=65533,p+=_-1;else{for(o&=_===2?31:_===3?15:7;1<_&&p<i;)o=o<<6|63&w[p++],_--;1<_?f[A++]=65533:o<65536?f[A++]=o:(o-=65536,f[A++]=55296|o>>10&1023,f[A++]=56320|1023&o)}return l(f,A)},h.utf8border=function(w,E){var p;for((E=E||w.length)>w.length&&(E=w.length),p=E-1;0<=p&&(192&w[p])==128;)p--;return p<0||p===0?E:p+c[w[p]]>E?p:E}},{"./common":41}],43:[function(r,y,h){y.exports=function(d,u,a,c){for(var g=65535&d|0,l=d>>>16&65535|0,w=0;a!==0;){for(a-=w=2e3<a?2e3:a;l=l+(g=g+u[c++]|0)|0,--w;);g%=65521,l%=65521}return g|l<<16|0}},{}],44:[function(r,y,h){y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,y,h){var d=(function(){for(var u,a=[],c=0;c<256;c++){u=c;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;a[c]=u}return a})();y.exports=function(u,a,c,g){var l=d,w=g+c;u^=-1;for(var E=g;E<w;E++)u=u>>>8^l[255&(u^a[E])];return-1^u}},{}],46:[function(r,y,h){var d,u=r("../utils/common"),a=r("./trees"),c=r("./adler32"),g=r("./crc32"),l=r("./messages"),w=0,E=4,p=0,A=-2,o=-1,_=4,i=2,f=8,n=9,s=286,m=30,v=19,T=2*s+1,D=15,P=3,W=258,Q=W+P+1,C=42,F=113,e=1,I=2,G=3,z=4;function Y(t,U){return t.msg=l[U],U}function N(t){return(t<<1)-(4<t?9:0)}function Z(t){for(var U=t.length;0<=--U;)t[U]=0}function L(t){var U=t.state,B=U.pending;B>t.avail_out&&(B=t.avail_out),B!==0&&(u.arraySet(t.output,U.pending_buf,U.pending_out,B,t.next_out),t.next_out+=B,U.pending_out+=B,t.total_out+=B,t.avail_out-=B,U.pending-=B,U.pending===0&&(U.pending_out=0))}function x(t,U){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,U),t.block_start=t.strstart,L(t.strm)}function K(t,U){t.pending_buf[t.pending++]=U}function V(t,U){t.pending_buf[t.pending++]=U>>>8&255,t.pending_buf[t.pending++]=255&U}function q(t,U){var B,R,S=t.max_chain_length,O=t.strstart,M=t.prev_length,j=t.nice_match,$=t.strstart>t.w_size-Q?t.strstart-(t.w_size-Q):0,H=t.window,J=t.w_mask,X=t.prev,tt=t.strstart+W,st=H[O+M-1],rt=H[O+M];t.prev_length>=t.good_match&&(S>>=2),j>t.lookahead&&(j=t.lookahead);do if(H[(B=U)+M]===rt&&H[B+M-1]===st&&H[B]===H[O]&&H[++B]===H[O+1]){O+=2,B++;do;while(H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&O<tt);if(R=W-(tt-O),O=tt-W,M<R){if(t.match_start=U,j<=(M=R))break;st=H[O+M-1],rt=H[O+M]}}while((U=X[U&J])>$&&--S!=0);return M<=t.lookahead?M:t.lookahead}function it(t){var U,B,R,S,O,M,j,$,H,J,X=t.w_size;do{if(S=t.window_size-t.lookahead-t.strstart,t.strstart>=X+(X-Q)){for(u.arraySet(t.window,t.window,X,X,0),t.match_start-=X,t.strstart-=X,t.block_start-=X,U=B=t.hash_size;R=t.head[--U],t.head[U]=X<=R?R-X:0,--B;);for(U=B=X;R=t.prev[--U],t.prev[U]=X<=R?R-X:0,--B;);S+=X}if(t.strm.avail_in===0)break;if(M=t.strm,j=t.window,$=t.strstart+t.lookahead,H=S,J=void 0,J=M.avail_in,H<J&&(J=H),B=J===0?0:(M.avail_in-=J,u.arraySet(j,M.input,M.next_in,J,$),M.state.wrap===1?M.adler=c(M.adler,j,J,$):M.state.wrap===2&&(M.adler=g(M.adler,j,J,$)),M.next_in+=J,M.total_in+=J,J),t.lookahead+=B,t.lookahead+t.insert>=P)for(O=t.strstart-t.insert,t.ins_h=t.window[O],t.ins_h=(t.ins_h<<t.hash_shift^t.window[O+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[O+P-1])&t.hash_mask,t.prev[O&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=O,O++,t.insert--,!(t.lookahead+t.insert<P)););}while(t.lookahead<Q&&t.strm.avail_in!==0)}function ht(t,U){for(var B,R;;){if(t.lookahead<Q){if(it(t),t.lookahead<Q&&U===w)return e;if(t.lookahead===0)break}if(B=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),B!==0&&t.strstart-B<=t.w_size-Q&&(t.match_length=q(t,B)),t.match_length>=P)if(R=a._tr_tally(t,t.strstart-t.match_start,t.match_length-P),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=P){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else R=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(R&&(x(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<P-1?t.strstart:P-1,U===E?(x(t,!0),t.strm.avail_out===0?G:z):t.last_lit&&(x(t,!1),t.strm.avail_out===0)?e:I}function et(t,U){for(var B,R,S;;){if(t.lookahead<Q){if(it(t),t.lookahead<Q&&U===w)return e;if(t.lookahead===0)break}if(B=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=P-1,B!==0&&t.prev_length<t.max_lazy_match&&t.strstart-B<=t.w_size-Q&&(t.match_length=q(t,B),t.match_length<=5&&(t.strategy===1||t.match_length===P&&4096<t.strstart-t.match_start)&&(t.match_length=P-1)),t.prev_length>=P&&t.match_length<=t.prev_length){for(S=t.strstart+t.lookahead-P,R=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-P),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=P-1,t.strstart++,R&&(x(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((R=a._tr_tally(t,0,t.window[t.strstart-1]))&&x(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(R=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<P-1?t.strstart:P-1,U===E?(x(t,!0),t.strm.avail_out===0?G:z):t.last_lit&&(x(t,!1),t.strm.avail_out===0)?e:I}function nt(t,U,B,R,S){this.good_length=t,this.max_lazy=U,this.nice_length=B,this.max_chain=R,this.func=S}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*T),this.dyn_dtree=new u.Buf16(2*(2*m+1)),this.bl_tree=new u.Buf16(2*(2*v+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(D+1),this.heap=new u.Buf16(2*s+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*s+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(t){var U;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=i,(U=t.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?C:F,t.adler=U.wrap===2?0:1,U.last_flush=w,a._tr_init(U),p):Y(t,A)}function bt(t){var U=at(t);return U===p&&(function(B){B.window_size=2*B.w_size,Z(B.head),B.max_lazy_match=d[B.level].max_lazy,B.good_match=d[B.level].good_length,B.nice_match=d[B.level].nice_length,B.max_chain_length=d[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=P-1,B.match_available=0,B.ins_h=0})(t.state),U}function yt(t,U,B,R,S,O){if(!t)return A;var M=1;if(U===o&&(U=6),R<0?(M=0,R=-R):15<R&&(M=2,R-=16),S<1||n<S||B!==f||R<8||15<R||U<0||9<U||O<0||_<O)return Y(t,A);R===8&&(R=9);var j=new ct;return(t.state=j).strm=t,j.wrap=M,j.gzhead=null,j.w_bits=R,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=S+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+P-1)/P),j.window=new u.Buf8(2*j.w_size),j.head=new u.Buf16(j.hash_size),j.prev=new u.Buf16(j.w_size),j.lit_bufsize=1<<S+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new u.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=U,j.strategy=O,j.method=B,bt(t)}d=[new nt(0,0,0,0,function(t,U){var B=65535;for(B>t.pending_buf_size-5&&(B=t.pending_buf_size-5);;){if(t.lookahead<=1){if(it(t),t.lookahead===0&&U===w)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var R=t.block_start+B;if((t.strstart===0||t.strstart>=R)&&(t.lookahead=t.strstart-R,t.strstart=R,x(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Q&&(x(t,!1),t.strm.avail_out===0))return e}return t.insert=0,U===E?(x(t,!0),t.strm.avail_out===0?G:z):(t.strstart>t.block_start&&(x(t,!1),t.strm.avail_out),e)}),new nt(4,4,8,4,ht),new nt(4,5,16,8,ht),new nt(4,6,32,32,ht),new nt(4,4,16,16,et),new nt(8,16,32,32,et),new nt(8,16,128,128,et),new nt(8,32,128,256,et),new nt(32,128,258,1024,et),new nt(32,258,258,4096,et)],h.deflateInit=function(t,U){return yt(t,U,f,15,8,0)},h.deflateInit2=yt,h.deflateReset=bt,h.deflateResetKeep=at,h.deflateSetHeader=function(t,U){return t&&t.state?t.state.wrap!==2?A:(t.state.gzhead=U,p):A},h.deflate=function(t,U){var B,R,S,O;if(!t||!t.state||5<U||U<0)return t?Y(t,A):A;if(R=t.state,!t.output||!t.input&&t.avail_in!==0||R.status===666&&U!==E)return Y(t,t.avail_out===0?-5:A);if(R.strm=t,B=R.last_flush,R.last_flush=U,R.status===C)if(R.wrap===2)t.adler=0,K(R,31),K(R,139),K(R,8),R.gzhead?(K(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),K(R,255&R.gzhead.time),K(R,R.gzhead.time>>8&255),K(R,R.gzhead.time>>16&255),K(R,R.gzhead.time>>24&255),K(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),K(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(K(R,255&R.gzhead.extra.length),K(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(t.adler=g(t.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(K(R,0),K(R,0),K(R,0),K(R,0),K(R,0),K(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),K(R,3),R.status=F);else{var M=f+(R.w_bits-8<<4)<<8;M|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(M|=32),M+=31-M%31,R.status=F,V(R,M),R.strstart!==0&&(V(R,t.adler>>>16),V(R,65535&t.adler)),t.adler=1}if(R.status===69)if(R.gzhead.extra){for(S=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),L(t),S=R.pending,R.pending!==R.pending_buf_size));)K(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){S=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),L(t),S=R.pending,R.pending===R.pending_buf_size)){O=1;break}O=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,K(R,O)}while(O!==0);R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),O===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){S=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),L(t),S=R.pending,R.pending===R.pending_buf_size)){O=1;break}O=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,K(R,O)}while(O!==0);R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),O===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&L(t),R.pending+2<=R.pending_buf_size&&(K(R,255&t.adler),K(R,t.adler>>8&255),t.adler=0,R.status=F)):R.status=F),R.pending!==0){if(L(t),t.avail_out===0)return R.last_flush=-1,p}else if(t.avail_in===0&&N(U)<=N(B)&&U!==E)return Y(t,-5);if(R.status===666&&t.avail_in!==0)return Y(t,-5);if(t.avail_in!==0||R.lookahead!==0||U!==w&&R.status!==666){var j=R.strategy===2?(function($,H){for(var J;;){if($.lookahead===0&&(it($),$.lookahead===0)){if(H===w)return e;break}if($.match_length=0,J=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,J&&(x($,!1),$.strm.avail_out===0))return e}return $.insert=0,H===E?(x($,!0),$.strm.avail_out===0?G:z):$.last_lit&&(x($,!1),$.strm.avail_out===0)?e:I})(R,U):R.strategy===3?(function($,H){for(var J,X,tt,st,rt=$.window;;){if($.lookahead<=W){if(it($),$.lookahead<=W&&H===w)return e;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=P&&0<$.strstart&&(X=rt[tt=$.strstart-1])===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]){st=$.strstart+W;do;while(X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&tt<st);$.match_length=W-(st-tt),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=P?(J=a._tr_tally($,1,$.match_length-P),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(J=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),J&&(x($,!1),$.strm.avail_out===0))return e}return $.insert=0,H===E?(x($,!0),$.strm.avail_out===0?G:z):$.last_lit&&(x($,!1),$.strm.avail_out===0)?e:I})(R,U):d[R.level].func(R,U);if(j!==G&&j!==z||(R.status=666),j===e||j===G)return t.avail_out===0&&(R.last_flush=-1),p;if(j===I&&(U===1?a._tr_align(R):U!==5&&(a._tr_stored_block(R,0,0,!1),U===3&&(Z(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),L(t),t.avail_out===0))return R.last_flush=-1,p}return U!==E?p:R.wrap<=0?1:(R.wrap===2?(K(R,255&t.adler),K(R,t.adler>>8&255),K(R,t.adler>>16&255),K(R,t.adler>>24&255),K(R,255&t.total_in),K(R,t.total_in>>8&255),K(R,t.total_in>>16&255),K(R,t.total_in>>24&255)):(V(R,t.adler>>>16),V(R,65535&t.adler)),L(t),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?p:1)},h.deflateEnd=function(t){var U;return t&&t.state?(U=t.state.status)!==C&&U!==69&&U!==73&&U!==91&&U!==103&&U!==F&&U!==666?Y(t,A):(t.state=null,U===F?Y(t,-3):p):A},h.deflateSetDictionary=function(t,U){var B,R,S,O,M,j,$,H,J=U.length;if(!t||!t.state||(O=(B=t.state).wrap)===2||O===1&&B.status!==C||B.lookahead)return A;for(O===1&&(t.adler=c(t.adler,U,J,0)),B.wrap=0,J>=B.w_size&&(O===0&&(Z(B.head),B.strstart=0,B.block_start=0,B.insert=0),H=new u.Buf8(B.w_size),u.arraySet(H,U,J-B.w_size,B.w_size,0),U=H,J=B.w_size),M=t.avail_in,j=t.next_in,$=t.input,t.avail_in=J,t.next_in=0,t.input=U,it(B);B.lookahead>=P;){for(R=B.strstart,S=B.lookahead-(P-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[R+P-1])&B.hash_mask,B.prev[R&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=R,R++,--S;);B.strstart=R,B.lookahead=P-1,it(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=P-1,B.match_available=0,t.next_in=j,t.input=$,t.avail_in=M,B.wrap=O,p},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,y,h){y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,y,h){y.exports=function(d,u){var a,c,g,l,w,E,p,A,o,_,i,f,n,s,m,v,T,D,P,W,Q,C,F,e,I;a=d.state,c=d.next_in,e=d.input,g=c+(d.avail_in-5),l=d.next_out,I=d.output,w=l-(u-d.avail_out),E=l+(d.avail_out-257),p=a.dmax,A=a.wsize,o=a.whave,_=a.wnext,i=a.window,f=a.hold,n=a.bits,s=a.lencode,m=a.distcode,v=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;t:do{n<15&&(f+=e[c++]<<n,n+=8,f+=e[c++]<<n,n+=8),D=s[f&v];e:for(;;){if(f>>>=P=D>>>24,n-=P,(P=D>>>16&255)===0)I[l++]=65535&D;else{if(!(16&P)){if((64&P)==0){D=s[(65535&D)+(f&(1<<P)-1)];continue e}if(32&P){a.mode=12;break t}d.msg="invalid literal/length code",a.mode=30;break t}W=65535&D,(P&=15)&&(n<P&&(f+=e[c++]<<n,n+=8),W+=f&(1<<P)-1,f>>>=P,n-=P),n<15&&(f+=e[c++]<<n,n+=8,f+=e[c++]<<n,n+=8),D=m[f&T];r:for(;;){if(f>>>=P=D>>>24,n-=P,!(16&(P=D>>>16&255))){if((64&P)==0){D=m[(65535&D)+(f&(1<<P)-1)];continue r}d.msg="invalid distance code",a.mode=30;break t}if(Q=65535&D,n<(P&=15)&&(f+=e[c++]<<n,(n+=8)<P&&(f+=e[c++]<<n,n+=8)),p<(Q+=f&(1<<P)-1)){d.msg="invalid distance too far back",a.mode=30;break t}if(f>>>=P,n-=P,(P=l-w)<Q){if(o<(P=Q-P)&&a.sane){d.msg="invalid distance too far back",a.mode=30;break t}if(F=i,(C=0)===_){if(C+=A-P,P<W){for(W-=P;I[l++]=i[C++],--P;);C=l-Q,F=I}}else if(_<P){if(C+=A+_-P,(P-=_)<W){for(W-=P;I[l++]=i[C++],--P;);if(C=0,_<W){for(W-=P=_;I[l++]=i[C++],--P;);C=l-Q,F=I}}}else if(C+=_-P,P<W){for(W-=P;I[l++]=i[C++],--P;);C=l-Q,F=I}for(;2<W;)I[l++]=F[C++],I[l++]=F[C++],I[l++]=F[C++],W-=3;W&&(I[l++]=F[C++],1<W&&(I[l++]=F[C++]))}else{for(C=l-Q;I[l++]=I[C++],I[l++]=I[C++],I[l++]=I[C++],2<(W-=3););W&&(I[l++]=I[C++],1<W&&(I[l++]=I[C++]))}break}}break}}while(c<g&&l<E);c-=W=n>>3,f&=(1<<(n-=W<<3))-1,d.next_in=c,d.next_out=l,d.avail_in=c<g?g-c+5:5-(c-g),d.avail_out=l<E?E-l+257:257-(l-E),a.hold=f,a.bits=n}},{}],49:[function(r,y,h){var d=r("../utils/common"),u=r("./adler32"),a=r("./crc32"),c=r("./inffast"),g=r("./inftrees"),l=1,w=2,E=0,p=-2,A=1,o=852,_=592;function i(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function n(C){var F;return C&&C.state?(F=C.state,C.total_in=C.total_out=F.total=0,C.msg="",F.wrap&&(C.adler=1&F.wrap),F.mode=A,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new d.Buf32(o),F.distcode=F.distdyn=new d.Buf32(_),F.sane=1,F.back=-1,E):p}function s(C){var F;return C&&C.state?((F=C.state).wsize=0,F.whave=0,F.wnext=0,n(C)):p}function m(C,F){var e,I;return C&&C.state?(I=C.state,F<0?(e=0,F=-F):(e=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?p:(I.window!==null&&I.wbits!==F&&(I.window=null),I.wrap=e,I.wbits=F,s(C))):p}function v(C,F){var e,I;return C?(I=new f,(C.state=I).window=null,(e=m(C,F))!==E&&(C.state=null),e):p}var T,D,P=!0;function W(C){if(P){var F;for(T=new d.Buf32(512),D=new d.Buf32(32),F=0;F<144;)C.lens[F++]=8;for(;F<256;)C.lens[F++]=9;for(;F<280;)C.lens[F++]=7;for(;F<288;)C.lens[F++]=8;for(g(l,C.lens,0,288,T,0,C.work,{bits:9}),F=0;F<32;)C.lens[F++]=5;g(w,C.lens,0,32,D,0,C.work,{bits:5}),P=!1}C.lencode=T,C.lenbits=9,C.distcode=D,C.distbits=5}function Q(C,F,e,I){var G,z=C.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new d.Buf8(z.wsize)),I>=z.wsize?(d.arraySet(z.window,F,e-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(I<(G=z.wsize-z.wnext)&&(G=I),d.arraySet(z.window,F,e-I,G,z.wnext),(I-=G)?(d.arraySet(z.window,F,e-I,I,0),z.wnext=I,z.whave=z.wsize):(z.wnext+=G,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=G))),0}h.inflateReset=s,h.inflateReset2=m,h.inflateResetKeep=n,h.inflateInit=function(C){return v(C,15)},h.inflateInit2=v,h.inflate=function(C,F){var e,I,G,z,Y,N,Z,L,x,K,V,q,it,ht,et,nt,ct,at,bt,yt,t,U,B,R,S=0,O=new d.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return p;(e=C.state).mode===12&&(e.mode=13),Y=C.next_out,G=C.output,Z=C.avail_out,z=C.next_in,I=C.input,N=C.avail_in,L=e.hold,x=e.bits,K=N,V=Z,U=E;t:for(;;)switch(e.mode){case A:if(e.wrap===0){e.mode=13;break}for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(2&e.wrap&&L===35615){O[e.check=0]=255&L,O[1]=L>>>8&255,e.check=a(e.check,O,2,0),x=L=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&L)<<8)+(L>>8))%31){C.msg="incorrect header check",e.mode=30;break}if((15&L)!=8){C.msg="unknown compression method",e.mode=30;break}if(x-=4,t=8+(15&(L>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){C.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,C.adler=e.check=1,e.mode=512&L?10:12,x=L=0;break;case 2:for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(e.flags=L,(255&e.flags)!=8){C.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){C.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=L>>8&1),512&e.flags&&(O[0]=255&L,O[1]=L>>>8&255,e.check=a(e.check,O,2,0)),x=L=0,e.mode=3;case 3:for(;x<32;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}e.head&&(e.head.time=L),512&e.flags&&(O[0]=255&L,O[1]=L>>>8&255,O[2]=L>>>16&255,O[3]=L>>>24&255,e.check=a(e.check,O,4,0)),x=L=0,e.mode=4;case 4:for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}e.head&&(e.head.xflags=255&L,e.head.os=L>>8),512&e.flags&&(O[0]=255&L,O[1]=L>>>8&255,e.check=a(e.check,O,2,0)),x=L=0,e.mode=5;case 5:if(1024&e.flags){for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}e.length=L,e.head&&(e.head.extra_len=L),512&e.flags&&(O[0]=255&L,O[1]=L>>>8&255,e.check=a(e.check,O,2,0)),x=L=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(N<(q=e.length)&&(q=N),q&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),d.arraySet(e.head.extra,I,z,q,t)),512&e.flags&&(e.check=a(e.check,I,q,z)),N-=q,z+=q,e.length-=q),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(N===0)break t;for(q=0;t=I[z+q++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&q<N;);if(512&e.flags&&(e.check=a(e.check,I,q,z)),N-=q,z+=q,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(N===0)break t;for(q=0;t=I[z+q++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&q<N;);if(512&e.flags&&(e.check=a(e.check,I,q,z)),N-=q,z+=q,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;x<16;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(L!==(65535&e.check)){C.msg="header crc mismatch",e.mode=30;break}x=L=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),C.adler=e.check=0,e.mode=12;break;case 10:for(;x<32;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}C.adler=e.check=i(L),x=L=0,e.mode=11;case 11:if(e.havedict===0)return C.next_out=Y,C.avail_out=Z,C.next_in=z,C.avail_in=N,e.hold=L,e.bits=x,2;C.adler=e.check=1,e.mode=12;case 12:if(F===5||F===6)break t;case 13:if(e.last){L>>>=7&x,x-=7&x,e.mode=27;break}for(;x<3;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}switch(e.last=1&L,x-=1,3&(L>>>=1)){case 0:e.mode=14;break;case 1:if(W(e),e.mode=20,F!==6)break;L>>>=2,x-=2;break t;case 2:e.mode=17;break;case 3:C.msg="invalid block type",e.mode=30}L>>>=2,x-=2;break;case 14:for(L>>>=7&x,x-=7&x;x<32;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if((65535&L)!=(L>>>16^65535)){C.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&L,x=L=0,e.mode=15,F===6)break t;case 15:e.mode=16;case 16:if(q=e.length){if(N<q&&(q=N),Z<q&&(q=Z),q===0)break t;d.arraySet(G,I,z,q,Y),N-=q,z+=q,Z-=q,Y+=q,e.length-=q;break}e.mode=12;break;case 17:for(;x<14;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(e.nlen=257+(31&L),L>>>=5,x-=5,e.ndist=1+(31&L),L>>>=5,x-=5,e.ncode=4+(15&L),L>>>=4,x-=4,286<e.nlen||30<e.ndist){C.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;x<3;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}e.lens[M[e.have++]]=7&L,L>>>=3,x-=3}for(;e.have<19;)e.lens[M[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,B={bits:e.lenbits},U=g(0,e.lens,0,19,e.lencode,0,e.work,B),e.lenbits=B.bits,U){C.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;nt=(S=e.lencode[L&(1<<e.lenbits)-1])>>>16&255,ct=65535&S,!((et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(ct<16)L>>>=et,x-=et,e.lens[e.have++]=ct;else{if(ct===16){for(R=et+2;x<R;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(L>>>=et,x-=et,e.have===0){C.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],q=3+(3&L),L>>>=2,x-=2}else if(ct===17){for(R=et+3;x<R;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}x-=et,t=0,q=3+(7&(L>>>=et)),L>>>=3,x-=3}else{for(R=et+7;x<R;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}x-=et,t=0,q=11+(127&(L>>>=et)),L>>>=7,x-=7}if(e.have+q>e.nlen+e.ndist){C.msg="invalid bit length repeat",e.mode=30;break}for(;q--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){C.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,B={bits:e.lenbits},U=g(l,e.lens,0,e.nlen,e.lencode,0,e.work,B),e.lenbits=B.bits,U){C.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,B={bits:e.distbits},U=g(w,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,B),e.distbits=B.bits,U){C.msg="invalid distances set",e.mode=30;break}if(e.mode=20,F===6)break t;case 20:e.mode=21;case 21:if(6<=N&&258<=Z){C.next_out=Y,C.avail_out=Z,C.next_in=z,C.avail_in=N,e.hold=L,e.bits=x,c(C,V),Y=C.next_out,G=C.output,Z=C.avail_out,z=C.next_in,I=C.input,N=C.avail_in,L=e.hold,x=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;nt=(S=e.lencode[L&(1<<e.lenbits)-1])>>>16&255,ct=65535&S,!((et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(nt&&(240&nt)==0){for(at=et,bt=nt,yt=ct;nt=(S=e.lencode[yt+((L&(1<<at+bt)-1)>>at)])>>>16&255,ct=65535&S,!(at+(et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}L>>>=at,x-=at,e.back+=at}if(L>>>=et,x-=et,e.back+=et,e.length=ct,nt===0){e.mode=26;break}if(32&nt){e.back=-1,e.mode=12;break}if(64&nt){C.msg="invalid literal/length code",e.mode=30;break}e.extra=15&nt,e.mode=22;case 22:if(e.extra){for(R=e.extra;x<R;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}e.length+=L&(1<<e.extra)-1,L>>>=e.extra,x-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;nt=(S=e.distcode[L&(1<<e.distbits)-1])>>>16&255,ct=65535&S,!((et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if((240&nt)==0){for(at=et,bt=nt,yt=ct;nt=(S=e.distcode[yt+((L&(1<<at+bt)-1)>>at)])>>>16&255,ct=65535&S,!(at+(et=S>>>24)<=x);){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}L>>>=at,x-=at,e.back+=at}if(L>>>=et,x-=et,e.back+=et,64&nt){C.msg="invalid distance code",e.mode=30;break}e.offset=ct,e.extra=15&nt,e.mode=24;case 24:if(e.extra){for(R=e.extra;x<R;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}e.offset+=L&(1<<e.extra)-1,L>>>=e.extra,x-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){C.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(Z===0)break t;if(q=V-Z,e.offset>q){if((q=e.offset-q)>e.whave&&e.sane){C.msg="invalid distance too far back",e.mode=30;break}it=q>e.wnext?(q-=e.wnext,e.wsize-q):e.wnext-q,q>e.length&&(q=e.length),ht=e.window}else ht=G,it=Y-e.offset,q=e.length;for(Z<q&&(q=Z),Z-=q,e.length-=q;G[Y++]=ht[it++],--q;);e.length===0&&(e.mode=21);break;case 26:if(Z===0)break t;G[Y++]=e.length,Z--,e.mode=21;break;case 27:if(e.wrap){for(;x<32;){if(N===0)break t;N--,L|=I[z++]<<x,x+=8}if(V-=Z,C.total_out+=V,e.total+=V,V&&(C.adler=e.check=e.flags?a(e.check,G,V,Y-V):u(e.check,G,V,Y-V)),V=Z,(e.flags?L:i(L))!==e.check){C.msg="incorrect data check",e.mode=30;break}x=L=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;x<32;){if(N===0)break t;N--,L+=I[z++]<<x,x+=8}if(L!==(4294967295&e.total)){C.msg="incorrect length check",e.mode=30;break}x=L=0}e.mode=29;case 29:U=1;break t;case 30:U=-3;break t;case 31:return-4;case 32:default:return p}return C.next_out=Y,C.avail_out=Z,C.next_in=z,C.avail_in=N,e.hold=L,e.bits=x,(e.wsize||V!==C.avail_out&&e.mode<30&&(e.mode<27||F!==4))&&Q(C,C.output,C.next_out,V-C.avail_out)?(e.mode=31,-4):(K-=C.avail_in,V-=C.avail_out,C.total_in+=K,C.total_out+=V,e.total+=V,e.wrap&&V&&(C.adler=e.check=e.flags?a(e.check,G,V,C.next_out-V):u(e.check,G,V,C.next_out-V)),C.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(K==0&&V===0||F===4)&&U===E&&(U=-5),U)},h.inflateEnd=function(C){if(!C||!C.state)return p;var F=C.state;return F.window&&(F.window=null),C.state=null,E},h.inflateGetHeader=function(C,F){var e;return C&&C.state?(2&(e=C.state).wrap)==0?p:((e.head=F).done=!1,E):p},h.inflateSetDictionary=function(C,F){var e,I=F.length;return C&&C.state?(e=C.state).wrap!==0&&e.mode!==11?p:e.mode===11&&u(1,F,I,0)!==e.check?-3:Q(C,F,I,I)?(e.mode=31,-4):(e.havedict=1,E):p},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,y,h){var d=r("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];y.exports=function(l,w,E,p,A,o,_,i){var f,n,s,m,v,T,D,P,W,Q=i.bits,C=0,F=0,e=0,I=0,G=0,z=0,Y=0,N=0,Z=0,L=0,x=null,K=0,V=new d.Buf16(16),q=new d.Buf16(16),it=null,ht=0;for(C=0;C<=15;C++)V[C]=0;for(F=0;F<p;F++)V[w[E+F]]++;for(G=Q,I=15;1<=I&&V[I]===0;I--);if(I<G&&(G=I),I===0)return A[o++]=20971520,A[o++]=20971520,i.bits=1,0;for(e=1;e<I&&V[e]===0;e++);for(G<e&&(G=e),C=N=1;C<=15;C++)if(N<<=1,(N-=V[C])<0)return-1;if(0<N&&(l===0||I!==1))return-1;for(q[1]=0,C=1;C<15;C++)q[C+1]=q[C]+V[C];for(F=0;F<p;F++)w[E+F]!==0&&(_[q[w[E+F]]++]=F);if(T=l===0?(x=it=_,19):l===1?(x=u,K-=257,it=a,ht-=257,256):(x=c,it=g,-1),C=e,v=o,Y=F=L=0,s=-1,m=(Z=1<<(z=G))-1,l===1&&852<Z||l===2&&592<Z)return 1;for(;;){for(D=C-Y,W=_[F]<T?(P=0,_[F]):_[F]>T?(P=it[ht+_[F]],x[K+_[F]]):(P=96,0),f=1<<C-Y,e=n=1<<z;A[v+(L>>Y)+(n-=f)]=D<<24|P<<16|W|0,n!==0;);for(f=1<<C-1;L&f;)f>>=1;if(f!==0?(L&=f-1,L+=f):L=0,F++,--V[C]==0){if(C===I)break;C=w[E+_[F]]}if(G<C&&(L&m)!==s){for(Y===0&&(Y=G),v+=e,N=1<<(z=C-Y);z+Y<I&&!((N-=V[z+Y])<=0);)z++,N<<=1;if(Z+=1<<z,l===1&&852<Z||l===2&&592<Z)return 1;A[s=L&m]=G<<24|z<<16|v-o|0}}return L!==0&&(A[v+L]=C-Y<<24|64<<16|0),i.bits=G,0}},{"../utils/common":41}],51:[function(r,y,h){y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,y,h){var d=r("../utils/common"),u=0,a=1;function c(S){for(var O=S.length;0<=--O;)S[O]=0}var g=0,l=29,w=256,E=w+1+l,p=30,A=19,o=2*E+1,_=15,i=16,f=7,n=256,s=16,m=17,v=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(E+2));c(Q);var C=new Array(2*p);c(C);var F=new Array(512);c(F);var e=new Array(256);c(e);var I=new Array(l);c(I);var G,z,Y,N=new Array(p);function Z(S,O,M,j,$){this.static_tree=S,this.extra_bits=O,this.extra_base=M,this.elems=j,this.max_length=$,this.has_stree=S&&S.length}function L(S,O){this.dyn_tree=S,this.max_code=0,this.stat_desc=O}function x(S){return S<256?F[S]:F[256+(S>>>7)]}function K(S,O){S.pending_buf[S.pending++]=255&O,S.pending_buf[S.pending++]=O>>>8&255}function V(S,O,M){S.bi_valid>i-M?(S.bi_buf|=O<<S.bi_valid&65535,K(S,S.bi_buf),S.bi_buf=O>>i-S.bi_valid,S.bi_valid+=M-i):(S.bi_buf|=O<<S.bi_valid&65535,S.bi_valid+=M)}function q(S,O,M){V(S,M[2*O],M[2*O+1])}function it(S,O){for(var M=0;M|=1&S,S>>>=1,M<<=1,0<--O;);return M>>>1}function ht(S,O,M){var j,$,H=new Array(_+1),J=0;for(j=1;j<=_;j++)H[j]=J=J+M[j-1]<<1;for($=0;$<=O;$++){var X=S[2*$+1];X!==0&&(S[2*$]=it(H[X]++,X))}}function et(S){var O;for(O=0;O<E;O++)S.dyn_ltree[2*O]=0;for(O=0;O<p;O++)S.dyn_dtree[2*O]=0;for(O=0;O<A;O++)S.bl_tree[2*O]=0;S.dyn_ltree[2*n]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function nt(S){8<S.bi_valid?K(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function ct(S,O,M,j){var $=2*O,H=2*M;return S[$]<S[H]||S[$]===S[H]&&j[O]<=j[M]}function at(S,O,M){for(var j=S.heap[M],$=M<<1;$<=S.heap_len&&($<S.heap_len&&ct(O,S.heap[$+1],S.heap[$],S.depth)&&$++,!ct(O,j,S.heap[$],S.depth));)S.heap[M]=S.heap[$],M=$,$<<=1;S.heap[M]=j}function bt(S,O,M){var j,$,H,J,X=0;if(S.last_lit!==0)for(;j=S.pending_buf[S.d_buf+2*X]<<8|S.pending_buf[S.d_buf+2*X+1],$=S.pending_buf[S.l_buf+X],X++,j===0?q(S,$,O):(q(S,(H=e[$])+w+1,O),(J=T[H])!==0&&V(S,$-=I[H],J),q(S,H=x(--j),M),(J=D[H])!==0&&V(S,j-=N[H],J)),X<S.last_lit;);q(S,n,O)}function yt(S,O){var M,j,$,H=O.dyn_tree,J=O.stat_desc.static_tree,X=O.stat_desc.has_stree,tt=O.stat_desc.elems,st=-1;for(S.heap_len=0,S.heap_max=o,M=0;M<tt;M++)H[2*M]!==0?(S.heap[++S.heap_len]=st=M,S.depth[M]=0):H[2*M+1]=0;for(;S.heap_len<2;)H[2*($=S.heap[++S.heap_len]=st<2?++st:0)]=1,S.depth[$]=0,S.opt_len--,X&&(S.static_len-=J[2*$+1]);for(O.max_code=st,M=S.heap_len>>1;1<=M;M--)at(S,H,M);for($=tt;M=S.heap[1],S.heap[1]=S.heap[S.heap_len--],at(S,H,1),j=S.heap[1],S.heap[--S.heap_max]=M,S.heap[--S.heap_max]=j,H[2*$]=H[2*M]+H[2*j],S.depth[$]=(S.depth[M]>=S.depth[j]?S.depth[M]:S.depth[j])+1,H[2*M+1]=H[2*j+1]=$,S.heap[1]=$++,at(S,H,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],(function(rt,gt){var zt,Et,Nt,ot,Xt,Qe,At=gt.dyn_tree,hn=gt.max_code,yi=gt.stat_desc.static_tree,bi=gt.stat_desc.has_stree,Ei=gt.stat_desc.extra_bits,dn=gt.stat_desc.extra_base,Dt=gt.stat_desc.max_length,Vt=0;for(ot=0;ot<=_;ot++)rt.bl_count[ot]=0;for(At[2*rt.heap[rt.heap_max]+1]=0,zt=rt.heap_max+1;zt<o;zt++)Dt<(ot=At[2*At[2*(Et=rt.heap[zt])+1]+1]+1)&&(ot=Dt,Vt++),At[2*Et+1]=ot,hn<Et||(rt.bl_count[ot]++,Xt=0,dn<=Et&&(Xt=Ei[Et-dn]),Qe=At[2*Et],rt.opt_len+=Qe*(ot+Xt),bi&&(rt.static_len+=Qe*(yi[2*Et+1]+Xt)));if(Vt!==0){do{for(ot=Dt-1;rt.bl_count[ot]===0;)ot--;rt.bl_count[ot]--,rt.bl_count[ot+1]+=2,rt.bl_count[Dt]--,Vt-=2}while(0<Vt);for(ot=Dt;ot!==0;ot--)for(Et=rt.bl_count[ot];Et!==0;)hn<(Nt=rt.heap[--zt])||(At[2*Nt+1]!==ot&&(rt.opt_len+=(ot-At[2*Nt+1])*At[2*Nt],At[2*Nt+1]=ot),Et--)}})(S,O),ht(H,st,S.bl_count)}function t(S,O,M){var j,$,H=-1,J=O[1],X=0,tt=7,st=4;for(J===0&&(tt=138,st=3),O[2*(M+1)+1]=65535,j=0;j<=M;j++)$=J,J=O[2*(j+1)+1],++X<tt&&$===J||(X<st?S.bl_tree[2*$]+=X:$!==0?($!==H&&S.bl_tree[2*$]++,S.bl_tree[2*s]++):X<=10?S.bl_tree[2*m]++:S.bl_tree[2*v]++,H=$,st=(X=0)===J?(tt=138,3):$===J?(tt=6,3):(tt=7,4))}function U(S,O,M){var j,$,H=-1,J=O[1],X=0,tt=7,st=4;for(J===0&&(tt=138,st=3),j=0;j<=M;j++)if($=J,J=O[2*(j+1)+1],!(++X<tt&&$===J)){if(X<st)for(;q(S,$,S.bl_tree),--X!=0;);else $!==0?($!==H&&(q(S,$,S.bl_tree),X--),q(S,s,S.bl_tree),V(S,X-3,2)):X<=10?(q(S,m,S.bl_tree),V(S,X-3,3)):(q(S,v,S.bl_tree),V(S,X-11,7));H=$,st=(X=0)===J?(tt=138,3):$===J?(tt=6,3):(tt=7,4)}}c(N);var B=!1;function R(S,O,M,j){V(S,(g<<1)+(j?1:0),3),(function($,H,J,X){nt($),K($,J),K($,~J),d.arraySet($.pending_buf,$.window,H,J,$.pending),$.pending+=J})(S,O,M)}h._tr_init=function(S){B||((function(){var O,M,j,$,H,J=new Array(_+1);for($=j=0;$<l-1;$++)for(I[$]=j,O=0;O<1<<T[$];O++)e[j++]=$;for(e[j-1]=$,$=H=0;$<16;$++)for(N[$]=H,O=0;O<1<<D[$];O++)F[H++]=$;for(H>>=7;$<p;$++)for(N[$]=H<<7,O=0;O<1<<D[$]-7;O++)F[256+H++]=$;for(M=0;M<=_;M++)J[M]=0;for(O=0;O<=143;)Q[2*O+1]=8,O++,J[8]++;for(;O<=255;)Q[2*O+1]=9,O++,J[9]++;for(;O<=279;)Q[2*O+1]=7,O++,J[7]++;for(;O<=287;)Q[2*O+1]=8,O++,J[8]++;for(ht(Q,E+1,J),O=0;O<p;O++)C[2*O+1]=5,C[2*O]=it(O,5);G=new Z(Q,T,w+1,E,_),z=new Z(C,D,0,p,_),Y=new Z(new Array(0),P,0,A,f)})(),B=!0),S.l_desc=new L(S.dyn_ltree,G),S.d_desc=new L(S.dyn_dtree,z),S.bl_desc=new L(S.bl_tree,Y),S.bi_buf=0,S.bi_valid=0,et(S)},h._tr_stored_block=R,h._tr_flush_block=function(S,O,M,j){var $,H,J=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=(function(X){var tt,st=4093624447;for(tt=0;tt<=31;tt++,st>>>=1)if(1&st&&X.dyn_ltree[2*tt]!==0)return u;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return a;for(tt=32;tt<w;tt++)if(X.dyn_ltree[2*tt]!==0)return a;return u})(S)),yt(S,S.l_desc),yt(S,S.d_desc),J=(function(X){var tt;for(t(X,X.dyn_ltree,X.l_desc.max_code),t(X,X.dyn_dtree,X.d_desc.max_code),yt(X,X.bl_desc),tt=A-1;3<=tt&&X.bl_tree[2*W[tt]+1]===0;tt--);return X.opt_len+=3*(tt+1)+5+5+4,tt})(S),$=S.opt_len+3+7>>>3,(H=S.static_len+3+7>>>3)<=$&&($=H)):$=H=M+5,M+4<=$&&O!==-1?R(S,O,M,j):S.strategy===4||H===$?(V(S,2+(j?1:0),3),bt(S,Q,C)):(V(S,4+(j?1:0),3),(function(X,tt,st,rt){var gt;for(V(X,tt-257,5),V(X,st-1,5),V(X,rt-4,4),gt=0;gt<rt;gt++)V(X,X.bl_tree[2*W[gt]+1],3);U(X,X.dyn_ltree,tt-1),U(X,X.dyn_dtree,st-1)})(S,S.l_desc.max_code+1,S.d_desc.max_code+1,J+1),bt(S,S.dyn_ltree,S.dyn_dtree)),et(S),j&&nt(S)},h._tr_tally=function(S,O,M){return S.pending_buf[S.d_buf+2*S.last_lit]=O>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&O,S.pending_buf[S.l_buf+S.last_lit]=255&M,S.last_lit++,O===0?S.dyn_ltree[2*M]++:(S.matches++,O--,S.dyn_ltree[2*(e[M]+w+1)]++,S.dyn_dtree[2*x(O)]++),S.last_lit===S.lit_bufsize-1},h._tr_align=function(S){V(S,2,3),q(S,n,Q),(function(O){O.bi_valid===16?(K(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)})(S)}},{"../utils/common":41}],53:[function(r,y,h){y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,y,h){(function(d){(function(u,a){if(!u.setImmediate){var c,g,l,w,E=1,p={},A=!1,o=u.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(u);_=_&&_.setTimeout?_:u,c={}.toString.call(u.process)==="[object process]"?function(s){process.nextTick(function(){f(s)})}:(function(){if(u.postMessage&&!u.importScripts){var s=!0,m=u.onmessage;return u.onmessage=function(){s=!1},u.postMessage("","*"),u.onmessage=m,s}})()?(w="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",n,!1):u.attachEvent("onmessage",n),function(s){u.postMessage(w+s,"*")}):u.MessageChannel?((l=new MessageChannel).port1.onmessage=function(s){f(s.data)},function(s){l.port2.postMessage(s)}):o&&"onreadystatechange"in o.createElement("script")?(g=o.documentElement,function(s){var m=o.createElement("script");m.onreadystatechange=function(){f(s),m.onreadystatechange=null,g.removeChild(m),m=null},g.appendChild(m)}):function(s){setTimeout(f,0,s)},_.setImmediate=function(s){typeof s!="function"&&(s=new Function(""+s));for(var m=new Array(arguments.length-1),v=0;v<m.length;v++)m[v]=arguments[v+1];var T={callback:s,args:m};return p[E]=T,c(E),E++},_.clearImmediate=i}function i(s){delete p[s]}function f(s){if(A)setTimeout(f,0,s);else{var m=p[s];if(m){A=!0;try{(function(v){var T=v.callback,D=v.args;switch(D.length){case 0:T();break;case 1:T(D[0]);break;case 2:T(D[0],D[1]);break;case 3:T(D[0],D[1],D[2]);break;default:T.apply(a,D)}})(m)}finally{i(s),A=!1}}}}function n(s){s.source===u&&typeof s.data=="string"&&s.data.indexOf(w)===0&&f(+s.data.slice(w.length))}})(typeof self=="undefined"?d===void 0?this:d:self)}).call(this,typeof Ut!="undefined"?Ut:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(te)),te.exports}var Cn=kn();const ur=ar(Cn),Lt=Kt("yascml-mods","yascml-mods"),lr=b=>er(b,Lt),In=()=>sr(Lt),xn=(b,k)=>Rt(null,null,function*(){return(yield lr(b))?nr(b,()=>k,Lt):rr(b,k,Lt)}),On=b=>ir(b,Lt),Ln=b=>{const k=Ct("disabledMods");if(k.findIndex(r=>r===b)===-1)return xt("disabledMods",[...k,b])},cr=b=>{const k=Ct("disabledMods");if(k.findIndex(r=>r===b)!==-1)return xt("disabledMods",k.filter(r=>r!==b))};var jt={exports:{}},ee,fr;function qt(){if(fr)return ee;fr=1;const b="2.0.0",k=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,y=16,h=k-6;return ee={MAX_LENGTH:k,MAX_SAFE_COMPONENT_LENGTH:y,MAX_SAFE_BUILD_LENGTH:h,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:b,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ee}var re,hr;function Gt(){return hr||(hr=1,re=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...k)=>console.error("SEMVER",...k):()=>{}),re}var dr;function Tt(){return dr||(dr=1,(function(b,k){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:y,MAX_LENGTH:h}=qt(),d=Gt();k=b.exports={};const u=k.re=[],a=k.safeRe=[],c=k.src=[],g=k.safeSrc=[],l=k.t={};let w=0;const E="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",h],[E,y]],A=_=>{for(const[i,f]of p)_=_.split(`${i}*`).join(`${i}{0,${f}}`).split(`${i}+`).join(`${i}{1,${f}}`);return _},o=(_,i,f)=>{const n=A(i),s=w++;d(_,s,i),l[_]=s,c[s]=i,g[s]=n,u[s]=new RegExp(i,f?"g":void 0),a[s]=new RegExp(n,f?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","\\d+"),o("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),o("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${c[l.NONNUMERICIDENTIFIER]}|${c[l.NUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NONNUMERICIDENTIFIER]}|${c[l.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER",`${E}+`),o("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),o("FULL",`^${c[l.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),o("LOOSE",`^${c[l.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),o("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),o("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),o("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),o("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),o("COERCERTL",c[l.COERCE],!0),o("COERCERTLFULL",c[l.COERCEFULL],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),k.tildeTrimReplace="$1~",o("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),k.caretTrimReplace="$1^",o("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),k.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(jt,jt.exports)),jt.exports}var ne,pr;function ie(){if(pr)return ne;pr=1;const b=Object.freeze({loose:!0}),k=Object.freeze({});return ne=y=>y?typeof y!="object"?b:y:k,ne}var se,mr;function gr(){if(mr)return se;mr=1;const b=/^[0-9]+$/,k=(y,h)=>{const d=b.test(y),u=b.test(h);return d&&u&&(y=+y,h=+h),y===h?0:d&&!u?-1:u&&!d?1:y<h?-1:1};return se={compareIdentifiers:k,rcompareIdentifiers:(y,h)=>k(h,y)},se}var ae,_r;function pt(){if(_r)return ae;_r=1;const b=Gt(),{MAX_LENGTH:k,MAX_SAFE_INTEGER:r}=qt(),{safeRe:y,t:h}=Tt(),d=ie(),{compareIdentifiers:u}=gr();class a{constructor(g,l){if(l=d(l),g instanceof a){if(g.loose===!!l.loose&&g.includePrerelease===!!l.includePrerelease)return g;g=g.version}else if(typeof g!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof g}".`);if(g.length>k)throw new TypeError(`version is longer than ${k} characters`);b("SemVer",g,l),this.options=l,this.loose=!!l.loose,this.includePrerelease=!!l.includePrerelease;const w=g.trim().match(l.loose?y[h.LOOSE]:y[h.FULL]);if(!w)throw new TypeError(`Invalid Version: ${g}`);if(this.raw=g,this.major=+w[1],this.minor=+w[2],this.patch=+w[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");w[4]?this.prerelease=w[4].split(".").map(E=>{if(/^[0-9]+$/.test(E)){const p=+E;if(p>=0&&p<r)return p}return E}):this.prerelease=[],this.build=w[5]?w[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(g){if(b("SemVer.compare",this.version,this.options,g),!(g instanceof a)){if(typeof g=="string"&&g===this.version)return 0;g=new a(g,this.options)}return g.version===this.version?0:this.compareMain(g)||this.comparePre(g)}compareMain(g){return g instanceof a||(g=new a(g,this.options)),u(this.major,g.major)||u(this.minor,g.minor)||u(this.patch,g.patch)}comparePre(g){if(g instanceof a||(g=new a(g,this.options)),this.prerelease.length&&!g.prerelease.length)return-1;if(!this.prerelease.length&&g.prerelease.length)return 1;if(!this.prerelease.length&&!g.prerelease.length)return 0;let l=0;do{const w=this.prerelease[l],E=g.prerelease[l];if(b("prerelease compare",l,w,E),w===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(w===void 0)return-1;if(w===E)continue;return u(w,E)}while(++l)}compareBuild(g){g instanceof a||(g=new a(g,this.options));let l=0;do{const w=this.build[l],E=g.build[l];if(b("build compare",l,w,E),w===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(w===void 0)return-1;if(w===E)continue;return u(w,E)}while(++l)}inc(g,l,w){if(g.startsWith("pre")){if(!l&&w===!1)throw new Error("invalid increment argument: identifier is empty");if(l){const E=`-${l}`.match(this.options.loose?y[h.PRERELEASELOOSE]:y[h.PRERELEASE]);if(!E||E[1]!==l)throw new Error(`invalid identifier: ${l}`)}}switch(g){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",l,w);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",l,w);break;case"prepatch":this.prerelease.length=0,this.inc("patch",l,w),this.inc("pre",l,w);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",l,w),this.inc("pre",l,w);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const E=Number(w)?1:0;if(this.prerelease.length===0)this.prerelease=[E];else{let p=this.prerelease.length;for(;--p>=0;)typeof this.prerelease[p]=="number"&&(this.prerelease[p]++,p=-2);if(p===-1){if(l===this.prerelease.join(".")&&w===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(E)}}if(l){let p=[l,E];w===!1&&(p=[l]),u(this.prerelease[0],l)===0?isNaN(this.prerelease[1])&&(this.prerelease=p):this.prerelease=p}break}default:throw new Error(`invalid increment argument: ${g}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ae=a,ae}var oe,wr;function It(){if(wr)return oe;wr=1;const b=pt();return oe=(r,y,h=!1)=>{if(r instanceof b)return r;try{return new b(r,y)}catch(d){if(!h)return null;throw d}},oe}var ue,vr;function Tn(){if(vr)return ue;vr=1;const b=It();return ue=(r,y)=>{const h=b(r,y);return h?h.version:null},ue}var le,yr;function $n(){if(yr)return le;yr=1;const b=It();return le=(r,y)=>{const h=b(r.trim().replace(/^[=v]+/,""),y);return h?h.version:null},le}var ce,br;function zn(){if(br)return ce;br=1;const b=pt();return ce=(r,y,h,d,u)=>{typeof h=="string"&&(u=d,d=h,h=void 0);try{return new b(r instanceof b?r.version:r,h).inc(y,d,u).version}catch(a){return null}},ce}var fe,Er;function Nn(){if(Er)return fe;Er=1;const b=It();return fe=(r,y)=>{const h=b(r,null,!0),d=b(y,null,!0),u=h.compare(d);if(u===0)return null;const a=u>0,c=a?h:d,g=a?d:h,l=!!c.prerelease.length;if(!!g.prerelease.length&&!l){if(!g.patch&&!g.minor)return"major";if(g.compareMain(c)===0)return g.minor&&!g.patch?"minor":"patch"}const E=l?"pre":"";return h.major!==d.major?E+"major":h.minor!==d.minor?E+"minor":h.patch!==d.patch?E+"patch":"prerelease"},fe}var he,Sr;function Dn(){if(Sr)return he;Sr=1;const b=pt();return he=(r,y)=>new b(r,y).major,he}var de,Ar;function Pn(){if(Ar)return de;Ar=1;const b=pt();return de=(r,y)=>new b(r,y).minor,de}var pe,Rr;function Bn(){if(Rr)return pe;Rr=1;const b=pt();return pe=(r,y)=>new b(r,y).patch,pe}var me,kr;function Fn(){if(kr)return me;kr=1;const b=It();return me=(r,y)=>{const h=b(r,y);return h&&h.prerelease.length?h.prerelease:null},me}var ge,Cr;function wt(){if(Cr)return ge;Cr=1;const b=pt();return ge=(r,y,h)=>new b(r,h).compare(new b(y,h)),ge}var _e,Ir;function Un(){if(Ir)return _e;Ir=1;const b=wt();return _e=(r,y,h)=>b(y,r,h),_e}var we,xr;function Mn(){if(xr)return we;xr=1;const b=wt();return we=(r,y)=>b(r,y,!0),we}var ve,Or;function ye(){if(Or)return ve;Or=1;const b=pt();return ve=(r,y,h)=>{const d=new b(r,h),u=new b(y,h);return d.compare(u)||d.compareBuild(u)},ve}var be,Lr;function jn(){if(Lr)return be;Lr=1;const b=ye();return be=(r,y)=>r.sort((h,d)=>b(h,d,y)),be}var Ee,Tr;function qn(){if(Tr)return Ee;Tr=1;const b=ye();return Ee=(r,y)=>r.sort((h,d)=>b(d,h,y)),Ee}var Se,$r;function Wt(){if($r)return Se;$r=1;const b=wt();return Se=(r,y,h)=>b(r,y,h)>0,Se}var Ae,zr;function Re(){if(zr)return Ae;zr=1;const b=wt();return Ae=(r,y,h)=>b(r,y,h)<0,Ae}var ke,Nr;function Dr(){if(Nr)return ke;Nr=1;const b=wt();return ke=(r,y,h)=>b(r,y,h)===0,ke}var Ce,Pr;function Br(){if(Pr)return Ce;Pr=1;const b=wt();return Ce=(r,y,h)=>b(r,y,h)!==0,Ce}var Ie,Fr;function xe(){if(Fr)return Ie;Fr=1;const b=wt();return Ie=(r,y,h)=>b(r,y,h)>=0,Ie}var Oe,Ur;function Le(){if(Ur)return Oe;Ur=1;const b=wt();return Oe=(r,y,h)=>b(r,y,h)<=0,Oe}var Te,Mr;function jr(){if(Mr)return Te;Mr=1;const b=Dr(),k=Br(),r=Wt(),y=xe(),h=Re(),d=Le();return Te=(a,c,g,l)=>{switch(c){case"===":return typeof a=="object"&&(a=a.version),typeof g=="object"&&(g=g.version),a===g;case"!==":return typeof a=="object"&&(a=a.version),typeof g=="object"&&(g=g.version),a!==g;case"":case"=":case"==":return b(a,g,l);case"!=":return k(a,g,l);case">":return r(a,g,l);case">=":return y(a,g,l);case"<":return h(a,g,l);case"<=":return d(a,g,l);default:throw new TypeError(`Invalid operator: ${c}`)}},Te}var $e,qr;function Gn(){if(qr)return $e;qr=1;const b=pt(),k=It(),{safeRe:r,t:y}=Tt();return $e=(d,u)=>{if(d instanceof b)return d;if(typeof d=="number"&&(d=String(d)),typeof d!="string")return null;u=u||{};let a=null;if(!u.rtl)a=d.match(u.includePrerelease?r[y.COERCEFULL]:r[y.COERCE]);else{const p=u.includePrerelease?r[y.COERCERTLFULL]:r[y.COERCERTL];let A;for(;(A=p.exec(d))&&(!a||a.index+a[0].length!==d.length);)(!a||A.index+A[0].length!==a.index+a[0].length)&&(a=A),p.lastIndex=A.index+A[1].length+A[2].length;p.lastIndex=-1}if(a===null)return null;const c=a[2],g=a[3]||"0",l=a[4]||"0",w=u.includePrerelease&&a[5]?`-${a[5]}`:"",E=u.includePrerelease&&a[6]?`+${a[6]}`:"";return k(`${c}.${g}.${l}${w}${E}`,u)},$e}var ze,Gr;function Wn(){if(Gr)return ze;Gr=1;class b{constructor(){this.max=1e3,this.map=new Map}get(r){const y=this.map.get(r);if(y!==void 0)return this.map.delete(r),this.map.set(r,y),y}delete(r){return this.map.delete(r)}set(r,y){if(!this.delete(r)&&y!==void 0){if(this.map.size>=this.max){const d=this.map.keys().next().value;this.delete(d)}this.map.set(r,y)}return this}}return ze=b,ze}var Ne,Wr;function vt(){if(Wr)return Ne;Wr=1;const b=/\s+/g;class k{constructor(I,G){if(G=h(G),I instanceof k)return I.loose===!!G.loose&&I.includePrerelease===!!G.includePrerelease?I:new k(I.raw,G);if(I instanceof d)return this.raw=I.value,this.set=[[I]],this.formatted=void 0,this;if(this.options=G,this.loose=!!G.loose,this.includePrerelease=!!G.includePrerelease,this.raw=I.trim().replace(b," "),this.set=this.raw.split("||").map(z=>this.parseRange(z.trim())).filter(z=>z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const z=this.set[0];if(this.set=this.set.filter(Y=>!o(Y[0])),this.set.length===0)this.set=[z];else if(this.set.length>1){for(const Y of this.set)if(Y.length===1&&_(Y[0])){this.set=[Y];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let I=0;I<this.set.length;I++){I>0&&(this.formatted+="||");const G=this.set[I];for(let z=0;z<G.length;z++)z>0&&(this.formatted+=" "),this.formatted+=G[z].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(I){const z=((this.options.includePrerelease&&p)|(this.options.loose&&A))+":"+I,Y=y.get(z);if(Y)return Y;const N=this.options.loose,Z=N?c[g.HYPHENRANGELOOSE]:c[g.HYPHENRANGE];I=I.replace(Z,C(this.options.includePrerelease)),u("hyphen replace",I),I=I.replace(c[g.COMPARATORTRIM],l),u("comparator trim",I),I=I.replace(c[g.TILDETRIM],w),u("tilde trim",I),I=I.replace(c[g.CARETTRIM],E),u("caret trim",I);let L=I.split(" ").map(q=>f(q,this.options)).join(" ").split(/\s+/).map(q=>Q(q,this.options));N&&(L=L.filter(q=>(u("loose invalid filter",q,this.options),!!q.match(c[g.COMPARATORLOOSE])))),u("range list",L);const x=new Map,K=L.map(q=>new d(q,this.options));for(const q of K){if(o(q))return[q];x.set(q.value,q)}x.size>1&&x.has("")&&x.delete("");const V=[...x.values()];return y.set(z,V),V}intersects(I,G){if(!(I instanceof k))throw new TypeError("a Range is required");return this.set.some(z=>i(z,G)&&I.set.some(Y=>i(Y,G)&&z.every(N=>Y.every(Z=>N.intersects(Z,G)))))}test(I){if(!I)return!1;if(typeof I=="string")try{I=new a(I,this.options)}catch(G){return!1}for(let G=0;G<this.set.length;G++)if(F(this.set[G],I,this.options))return!0;return!1}}Ne=k;const r=Wn(),y=new r,h=ie(),d=Zt(),u=Gt(),a=pt(),{safeRe:c,t:g,comparatorTrimReplace:l,tildeTrimReplace:w,caretTrimReplace:E}=Tt(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:A}=qt(),o=e=>e.value==="<0.0.0-0",_=e=>e.value==="",i=(e,I)=>{let G=!0;const z=e.slice();let Y=z.pop();for(;G&&z.length;)G=z.every(N=>Y.intersects(N,I)),Y=z.pop();return G},f=(e,I)=>(u("comp",e,I),e=v(e,I),u("caret",e),e=s(e,I),u("tildes",e),e=D(e,I),u("xrange",e),e=W(e,I),u("stars",e),e),n=e=>!e||e.toLowerCase()==="x"||e==="*",s=(e,I)=>e.trim().split(/\s+/).map(G=>m(G,I)).join(" "),m=(e,I)=>{const G=I.loose?c[g.TILDELOOSE]:c[g.TILDE];return e.replace(G,(z,Y,N,Z,L)=>{u("tilde",e,z,Y,N,Z,L);let x;return n(Y)?x="":n(N)?x=`>=${Y}.0.0 <${+Y+1}.0.0-0`:n(Z)?x=`>=${Y}.${N}.0 <${Y}.${+N+1}.0-0`:L?(u("replaceTilde pr",L),x=`>=${Y}.${N}.${Z}-${L} <${Y}.${+N+1}.0-0`):x=`>=${Y}.${N}.${Z} <${Y}.${+N+1}.0-0`,u("tilde return",x),x})},v=(e,I)=>e.trim().split(/\s+/).map(G=>T(G,I)).join(" "),T=(e,I)=>{u("caret",e,I);const G=I.loose?c[g.CARETLOOSE]:c[g.CARET],z=I.includePrerelease?"-0":"";return e.replace(G,(Y,N,Z,L,x)=>{u("caret",e,Y,N,Z,L,x);let K;return n(N)?K="":n(Z)?K=`>=${N}.0.0${z} <${+N+1}.0.0-0`:n(L)?N==="0"?K=`>=${N}.${Z}.0${z} <${N}.${+Z+1}.0-0`:K=`>=${N}.${Z}.0${z} <${+N+1}.0.0-0`:x?(u("replaceCaret pr",x),N==="0"?Z==="0"?K=`>=${N}.${Z}.${L}-${x} <${N}.${Z}.${+L+1}-0`:K=`>=${N}.${Z}.${L}-${x} <${N}.${+Z+1}.0-0`:K=`>=${N}.${Z}.${L}-${x} <${+N+1}.0.0-0`):(u("no pr"),N==="0"?Z==="0"?K=`>=${N}.${Z}.${L}${z} <${N}.${Z}.${+L+1}-0`:K=`>=${N}.${Z}.${L}${z} <${N}.${+Z+1}.0-0`:K=`>=${N}.${Z}.${L} <${+N+1}.0.0-0`),u("caret return",K),K})},D=(e,I)=>(u("replaceXRanges",e,I),e.split(/\s+/).map(G=>P(G,I)).join(" ")),P=(e,I)=>{e=e.trim();const G=I.loose?c[g.XRANGELOOSE]:c[g.XRANGE];return e.replace(G,(z,Y,N,Z,L,x)=>{u("xRange",e,z,Y,N,Z,L,x);const K=n(N),V=K||n(Z),q=V||n(L),it=q;return Y==="="&&it&&(Y=""),x=I.includePrerelease?"-0":"",K?Y===">"||Y==="<"?z="<0.0.0-0":z="*":Y&&it?(V&&(Z=0),L=0,Y===">"?(Y=">=",V?(N=+N+1,Z=0,L=0):(Z=+Z+1,L=0)):Y==="<="&&(Y="<",V?N=+N+1:Z=+Z+1),Y==="<"&&(x="-0"),z=`${Y+N}.${Z}.${L}${x}`):V?z=`>=${N}.0.0${x} <${+N+1}.0.0-0`:q&&(z=`>=${N}.${Z}.0${x} <${N}.${+Z+1}.0-0`),u("xRange return",z),z})},W=(e,I)=>(u("replaceStars",e,I),e.trim().replace(c[g.STAR],"")),Q=(e,I)=>(u("replaceGTE0",e,I),e.trim().replace(c[I.includePrerelease?g.GTE0PRE:g.GTE0],"")),C=e=>(I,G,z,Y,N,Z,L,x,K,V,q,it)=>(n(z)?G="":n(Y)?G=`>=${z}.0.0${e?"-0":""}`:n(N)?G=`>=${z}.${Y}.0${e?"-0":""}`:Z?G=`>=${G}`:G=`>=${G}${e?"-0":""}`,n(K)?x="":n(V)?x=`<${+K+1}.0.0-0`:n(q)?x=`<${K}.${+V+1}.0-0`:it?x=`<=${K}.${V}.${q}-${it}`:e?x=`<${K}.${V}.${+q+1}-0`:x=`<=${x}`,`${G} ${x}`.trim()),F=(e,I,G)=>{for(let z=0;z<e.length;z++)if(!e[z].test(I))return!1;if(I.prerelease.length&&!G.includePrerelease){for(let z=0;z<e.length;z++)if(u(e[z].semver),e[z].semver!==d.ANY&&e[z].semver.prerelease.length>0){const Y=e[z].semver;if(Y.major===I.major&&Y.minor===I.minor&&Y.patch===I.patch)return!0}return!1}return!0};return Ne}var De,Zr;function Zt(){if(Zr)return De;Zr=1;const b=Symbol("SemVer ANY");class k{static get ANY(){return b}constructor(l,w){if(w=r(w),l instanceof k){if(l.loose===!!w.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),u("comparator",l,w),this.options=w,this.loose=!!w.loose,this.parse(l),this.semver===b?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(l){const w=this.options.loose?y[h.COMPARATORLOOSE]:y[h.COMPARATOR],E=l.match(w);if(!E)throw new TypeError(`Invalid comparator: ${l}`);this.operator=E[1]!==void 0?E[1]:"",this.operator==="="&&(this.operator=""),E[2]?this.semver=new a(E[2],this.options.loose):this.semver=b}toString(){return this.value}test(l){if(u("Comparator.test",l,this.options.loose),this.semver===b||l===b)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch(w){return!1}return d(l,this.operator,this.semver,this.options)}intersects(l,w){if(!(l instanceof k))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,w).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,w).test(l.semver):(w=r(w),w.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!w.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||d(this.semver,"<",l.semver,w)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||d(this.semver,">",l.semver,w)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}De=k;const r=ie(),{safeRe:y,t:h}=Tt(),d=jr(),u=Gt(),a=pt(),c=vt();return De}var Pe,Yr;function Yt(){if(Yr)return Pe;Yr=1;const b=vt();return Pe=(r,y,h)=>{try{y=new b(y,h)}catch(d){return!1}return y.test(r)},Pe}var Be,Hr;function Zn(){if(Hr)return Be;Hr=1;const b=vt();return Be=(r,y)=>new b(r,y).set.map(h=>h.map(d=>d.value).join(" ").trim().split(" ")),Be}var Fe,Xr;function Yn(){if(Xr)return Fe;Xr=1;const b=pt(),k=vt();return Fe=(y,h,d)=>{let u=null,a=null,c=null;try{c=new k(h,d)}catch(g){return null}return y.forEach(g=>{c.test(g)&&(!u||a.compare(g)===-1)&&(u=g,a=new b(u,d))}),u},Fe}var Ue,Vr;function Hn(){if(Vr)return Ue;Vr=1;const b=pt(),k=vt();return Ue=(y,h,d)=>{let u=null,a=null,c=null;try{c=new k(h,d)}catch(g){return null}return y.forEach(g=>{c.test(g)&&(!u||a.compare(g)===1)&&(u=g,a=new b(u,d))}),u},Ue}var Me,Kr;function Xn(){if(Kr)return Me;Kr=1;const b=pt(),k=vt(),r=Wt();return Me=(h,d)=>{h=new k(h,d);let u=new b("0.0.0");if(h.test(u)||(u=new b("0.0.0-0"),h.test(u)))return u;u=null;for(let a=0;a<h.set.length;++a){const c=h.set[a];let g=null;c.forEach(l=>{const w=new b(l.semver.version);switch(l.operator){case">":w.prerelease.length===0?w.patch++:w.prerelease.push(0),w.raw=w.format();case"":case">=":(!g||r(w,g))&&(g=w);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),g&&(!u||r(u,g))&&(u=g)}return u&&h.test(u)?u:null},Me}var je,Jr;function Vn(){if(Jr)return je;Jr=1;const b=vt();return je=(r,y)=>{try{return new b(r,y).range||"*"}catch(h){return null}},je}var qe,Qr;function Ge(){if(Qr)return qe;Qr=1;const b=pt(),k=Zt(),{ANY:r}=k,y=vt(),h=Yt(),d=Wt(),u=Re(),a=Le(),c=xe();return qe=(l,w,E,p)=>{l=new b(l,p),w=new y(w,p);let A,o,_,i,f;switch(E){case">":A=d,o=a,_=u,i=">",f=">=";break;case"<":A=u,o=c,_=d,i="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(h(l,w,p))return!1;for(let n=0;n<w.set.length;++n){const s=w.set[n];let m=null,v=null;if(s.forEach(T=>{T.semver===r&&(T=new k(">=0.0.0")),m=m||T,v=v||T,A(T.semver,m.semver,p)?m=T:_(T.semver,v.semver,p)&&(v=T)}),m.operator===i||m.operator===f||(!v.operator||v.operator===i)&&o(l,v.semver))return!1;if(v.operator===f&&_(l,v.semver))return!1}return!0},qe}var We,tn;function Kn(){if(tn)return We;tn=1;const b=Ge();return We=(r,y,h)=>b(r,y,">",h),We}var Ze,en;function Jn(){if(en)return Ze;en=1;const b=Ge();return Ze=(r,y,h)=>b(r,y,"<",h),Ze}var Ye,rn;function Qn(){if(rn)return Ye;rn=1;const b=vt();return Ye=(r,y,h)=>(r=new b(r,h),y=new b(y,h),r.intersects(y,h)),Ye}var He,nn;function ti(){if(nn)return He;nn=1;const b=Yt(),k=wt();return He=(r,y,h)=>{const d=[];let u=null,a=null;const c=r.sort((E,p)=>k(E,p,h));for(const E of c)b(E,y,h)?(a=E,u||(u=E)):(a&&d.push([u,a]),a=null,u=null);u&&d.push([u,null]);const g=[];for(const[E,p]of d)E===p?g.push(E):!p&&E===c[0]?g.push("*"):p?E===c[0]?g.push(`<=${p}`):g.push(`${E} - ${p}`):g.push(`>=${E}`);const l=g.join(" || "),w=typeof y.raw=="string"?y.raw:String(y);return l.length<w.length?l:y},He}var Xe,sn;function ei(){if(sn)return Xe;sn=1;const b=vt(),k=Zt(),{ANY:r}=k,y=Yt(),h=wt(),d=(w,E,p={})=>{if(w===E)return!0;w=new b(w,p),E=new b(E,p);let A=!1;t:for(const o of w.set){for(const _ of E.set){const i=c(o,_,p);if(A=A||i!==null,i)continue t}if(A)return!1}return!0},u=[new k(">=0.0.0-0")],a=[new k(">=0.0.0")],c=(w,E,p)=>{if(w===E)return!0;if(w.length===1&&w[0].semver===r){if(E.length===1&&E[0].semver===r)return!0;p.includePrerelease?w=u:w=a}if(E.length===1&&E[0].semver===r){if(p.includePrerelease)return!0;E=a}const A=new Set;let o,_;for(const D of w)D.operator===">"||D.operator===">="?o=g(o,D,p):D.operator==="<"||D.operator==="<="?_=l(_,D,p):A.add(D.semver);if(A.size>1)return null;let i;if(o&&_){if(i=h(o.semver,_.semver,p),i>0)return null;if(i===0&&(o.operator!==">="||_.operator!=="<="))return null}for(const D of A){if(o&&!y(D,String(o),p)||_&&!y(D,String(_),p))return null;for(const P of E)if(!y(D,String(P),p))return!1;return!0}let f,n,s,m,v=_&&!p.includePrerelease&&_.semver.prerelease.length?_.semver:!1,T=o&&!p.includePrerelease&&o.semver.prerelease.length?o.semver:!1;v&&v.prerelease.length===1&&_.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const D of E){if(m=m||D.operator===">"||D.operator===">=",s=s||D.operator==="<"||D.operator==="<=",o){if(T&&D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===T.major&&D.semver.minor===T.minor&&D.semver.patch===T.patch&&(T=!1),D.operator===">"||D.operator===">="){if(f=g(o,D,p),f===D&&f!==o)return!1}else if(o.operator===">="&&!y(o.semver,String(D),p))return!1}if(_){if(v&&D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===v.major&&D.semver.minor===v.minor&&D.semver.patch===v.patch&&(v=!1),D.operator==="<"||D.operator==="<="){if(n=l(_,D,p),n===D&&n!==_)return!1}else if(_.operator==="<="&&!y(_.semver,String(D),p))return!1}if(!D.operator&&(_||o)&&i!==0)return!1}return!(o&&s&&!_&&i!==0||_&&m&&!o&&i!==0||T||v)},g=(w,E,p)=>{if(!w)return E;const A=h(w.semver,E.semver,p);return A>0?w:A<0||E.operator===">"&&w.operator===">="?E:w},l=(w,E,p)=>{if(!w)return E;const A=h(w.semver,E.semver,p);return A<0?w:A>0||E.operator==="<"&&w.operator==="<="?E:w};return Xe=d,Xe}var Ve,an;function ri(){if(an)return Ve;an=1;const b=Tt(),k=qt(),r=pt(),y=gr(),h=It(),d=Tn(),u=$n(),a=zn(),c=Nn(),g=Dn(),l=Pn(),w=Bn(),E=Fn(),p=wt(),A=Un(),o=Mn(),_=ye(),i=jn(),f=qn(),n=Wt(),s=Re(),m=Dr(),v=Br(),T=xe(),D=Le(),P=jr(),W=Gn(),Q=Zt(),C=vt(),F=Yt(),e=Zn(),I=Yn(),G=Hn(),z=Xn(),Y=Vn(),N=Ge(),Z=Kn(),L=Jn(),x=Qn(),K=ti(),V=ei();return Ve={parse:h,valid:d,clean:u,inc:a,diff:c,major:g,minor:l,patch:w,prerelease:E,compare:p,rcompare:A,compareLoose:o,compareBuild:_,sort:i,rsort:f,gt:n,lt:s,eq:m,neq:v,gte:T,lte:D,cmp:P,coerce:W,Comparator:Q,Range:C,satisfies:F,toComparators:e,maxSatisfying:I,minSatisfying:G,minVersion:z,validRange:Y,outside:N,gtr:Z,ltr:L,intersects:x,simplifyRange:K,subset:V,SemVer:r,re:b.re,src:b.src,tokens:b.t,SEMVER_SPEC_VERSION:k.SEMVER_SPEC_VERSION,RELEASE_TYPES:k.RELEASE_TYPES,compareIdentifiers:y.compareIdentifiers,rcompareIdentifiers:y.rcompareIdentifiers},Ve}var Ht=ri(),Ke={exports:{}},on;function ni(){return on||(on=1,(function(b,k){(function(r){b.exports=r()})(function(r){var y=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function h(i,f){var n=i[0],s=i[1],m=i[2],v=i[3];n+=(s&m|~s&v)+f[0]-680876936|0,n=(n<<7|n>>>25)+s|0,v+=(n&s|~n&m)+f[1]-389564586|0,v=(v<<12|v>>>20)+n|0,m+=(v&n|~v&s)+f[2]+606105819|0,m=(m<<17|m>>>15)+v|0,s+=(m&v|~m&n)+f[3]-1044525330|0,s=(s<<22|s>>>10)+m|0,n+=(s&m|~s&v)+f[4]-176418897|0,n=(n<<7|n>>>25)+s|0,v+=(n&s|~n&m)+f[5]+1200080426|0,v=(v<<12|v>>>20)+n|0,m+=(v&n|~v&s)+f[6]-1473231341|0,m=(m<<17|m>>>15)+v|0,s+=(m&v|~m&n)+f[7]-45705983|0,s=(s<<22|s>>>10)+m|0,n+=(s&m|~s&v)+f[8]+1770035416|0,n=(n<<7|n>>>25)+s|0,v+=(n&s|~n&m)+f[9]-1958414417|0,v=(v<<12|v>>>20)+n|0,m+=(v&n|~v&s)+f[10]-42063|0,m=(m<<17|m>>>15)+v|0,s+=(m&v|~m&n)+f[11]-1990404162|0,s=(s<<22|s>>>10)+m|0,n+=(s&m|~s&v)+f[12]+1804603682|0,n=(n<<7|n>>>25)+s|0,v+=(n&s|~n&m)+f[13]-40341101|0,v=(v<<12|v>>>20)+n|0,m+=(v&n|~v&s)+f[14]-1502002290|0,m=(m<<17|m>>>15)+v|0,s+=(m&v|~m&n)+f[15]+1236535329|0,s=(s<<22|s>>>10)+m|0,n+=(s&v|m&~v)+f[1]-165796510|0,n=(n<<5|n>>>27)+s|0,v+=(n&m|s&~m)+f[6]-1069501632|0,v=(v<<9|v>>>23)+n|0,m+=(v&s|n&~s)+f[11]+643717713|0,m=(m<<14|m>>>18)+v|0,s+=(m&n|v&~n)+f[0]-373897302|0,s=(s<<20|s>>>12)+m|0,n+=(s&v|m&~v)+f[5]-701558691|0,n=(n<<5|n>>>27)+s|0,v+=(n&m|s&~m)+f[10]+38016083|0,v=(v<<9|v>>>23)+n|0,m+=(v&s|n&~s)+f[15]-660478335|0,m=(m<<14|m>>>18)+v|0,s+=(m&n|v&~n)+f[4]-405537848|0,s=(s<<20|s>>>12)+m|0,n+=(s&v|m&~v)+f[9]+568446438|0,n=(n<<5|n>>>27)+s|0,v+=(n&m|s&~m)+f[14]-1019803690|0,v=(v<<9|v>>>23)+n|0,m+=(v&s|n&~s)+f[3]-187363961|0,m=(m<<14|m>>>18)+v|0,s+=(m&n|v&~n)+f[8]+1163531501|0,s=(s<<20|s>>>12)+m|0,n+=(s&v|m&~v)+f[13]-1444681467|0,n=(n<<5|n>>>27)+s|0,v+=(n&m|s&~m)+f[2]-51403784|0,v=(v<<9|v>>>23)+n|0,m+=(v&s|n&~s)+f[7]+1735328473|0,m=(m<<14|m>>>18)+v|0,s+=(m&n|v&~n)+f[12]-1926607734|0,s=(s<<20|s>>>12)+m|0,n+=(s^m^v)+f[5]-378558|0,n=(n<<4|n>>>28)+s|0,v+=(n^s^m)+f[8]-2022574463|0,v=(v<<11|v>>>21)+n|0,m+=(v^n^s)+f[11]+1839030562|0,m=(m<<16|m>>>16)+v|0,s+=(m^v^n)+f[14]-35309556|0,s=(s<<23|s>>>9)+m|0,n+=(s^m^v)+f[1]-1530992060|0,n=(n<<4|n>>>28)+s|0,v+=(n^s^m)+f[4]+1272893353|0,v=(v<<11|v>>>21)+n|0,m+=(v^n^s)+f[7]-155497632|0,m=(m<<16|m>>>16)+v|0,s+=(m^v^n)+f[10]-1094730640|0,s=(s<<23|s>>>9)+m|0,n+=(s^m^v)+f[13]+681279174|0,n=(n<<4|n>>>28)+s|0,v+=(n^s^m)+f[0]-358537222|0,v=(v<<11|v>>>21)+n|0,m+=(v^n^s)+f[3]-722521979|0,m=(m<<16|m>>>16)+v|0,s+=(m^v^n)+f[6]+76029189|0,s=(s<<23|s>>>9)+m|0,n+=(s^m^v)+f[9]-640364487|0,n=(n<<4|n>>>28)+s|0,v+=(n^s^m)+f[12]-421815835|0,v=(v<<11|v>>>21)+n|0,m+=(v^n^s)+f[15]+530742520|0,m=(m<<16|m>>>16)+v|0,s+=(m^v^n)+f[2]-995338651|0,s=(s<<23|s>>>9)+m|0,n+=(m^(s|~v))+f[0]-198630844|0,n=(n<<6|n>>>26)+s|0,v+=(s^(n|~m))+f[7]+1126891415|0,v=(v<<10|v>>>22)+n|0,m+=(n^(v|~s))+f[14]-1416354905|0,m=(m<<15|m>>>17)+v|0,s+=(v^(m|~n))+f[5]-57434055|0,s=(s<<21|s>>>11)+m|0,n+=(m^(s|~v))+f[12]+1700485571|0,n=(n<<6|n>>>26)+s|0,v+=(s^(n|~m))+f[3]-1894986606|0,v=(v<<10|v>>>22)+n|0,m+=(n^(v|~s))+f[10]-1051523|0,m=(m<<15|m>>>17)+v|0,s+=(v^(m|~n))+f[1]-2054922799|0,s=(s<<21|s>>>11)+m|0,n+=(m^(s|~v))+f[8]+1873313359|0,n=(n<<6|n>>>26)+s|0,v+=(s^(n|~m))+f[15]-30611744|0,v=(v<<10|v>>>22)+n|0,m+=(n^(v|~s))+f[6]-1560198380|0,m=(m<<15|m>>>17)+v|0,s+=(v^(m|~n))+f[13]+1309151649|0,s=(s<<21|s>>>11)+m|0,n+=(m^(s|~v))+f[4]-145523070|0,n=(n<<6|n>>>26)+s|0,v+=(s^(n|~m))+f[11]-1120210379|0,v=(v<<10|v>>>22)+n|0,m+=(n^(v|~s))+f[2]+718787259|0,m=(m<<15|m>>>17)+v|0,s+=(v^(m|~n))+f[9]-343485551|0,s=(s<<21|s>>>11)+m|0,i[0]=n+i[0]|0,i[1]=s+i[1]|0,i[2]=m+i[2]|0,i[3]=v+i[3]|0}function d(i){var f=[],n;for(n=0;n<64;n+=4)f[n>>2]=i.charCodeAt(n)+(i.charCodeAt(n+1)<<8)+(i.charCodeAt(n+2)<<16)+(i.charCodeAt(n+3)<<24);return f}function u(i){var f=[],n;for(n=0;n<64;n+=4)f[n>>2]=i[n]+(i[n+1]<<8)+(i[n+2]<<16)+(i[n+3]<<24);return f}function a(i){var f=i.length,n=[1732584193,-271733879,-1732584194,271733878],s,m,v,T,D,P;for(s=64;s<=f;s+=64)h(n,d(i.substring(s-64,s)));for(i=i.substring(s-64),m=i.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)v[s>>2]|=i.charCodeAt(s)<<(s%4<<3);if(v[s>>2]|=128<<(s%4<<3),s>55)for(h(n,v),s=0;s<16;s+=1)v[s]=0;return T=f*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(T[2],16),P=parseInt(T[1],16)||0,v[14]=D,v[15]=P,h(n,v),n}function c(i){var f=i.length,n=[1732584193,-271733879,-1732584194,271733878],s,m,v,T,D,P;for(s=64;s<=f;s+=64)h(n,u(i.subarray(s-64,s)));for(i=s-64<f?i.subarray(s-64):new Uint8Array(0),m=i.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)v[s>>2]|=i[s]<<(s%4<<3);if(v[s>>2]|=128<<(s%4<<3),s>55)for(h(n,v),s=0;s<16;s+=1)v[s]=0;return T=f*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(T[2],16),P=parseInt(T[1],16)||0,v[14]=D,v[15]=P,h(n,v),n}function g(i){var f="",n;for(n=0;n<4;n+=1)f+=y[i>>n*8+4&15]+y[i>>n*8&15];return f}function l(i){var f;for(f=0;f<i.length;f+=1)i[f]=g(i[f]);return i.join("")}l(a("hello")),typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&(function(){function i(f,n){return f=f|0||0,f<0?Math.max(f+n,0):Math.min(f,n)}ArrayBuffer.prototype.slice=function(f,n){var s=this.byteLength,m=i(f,s),v=s,T,D,P,W;return n!==r&&(v=i(n,s)),m>v?new ArrayBuffer(0):(T=v-m,D=new ArrayBuffer(T),P=new Uint8Array(D),W=new Uint8Array(this,m,T),P.set(W),D)}})();function w(i){return/[\u0080-\uFFFF]/.test(i)&&(i=unescape(encodeURIComponent(i))),i}function E(i,f){var n=i.length,s=new ArrayBuffer(n),m=new Uint8Array(s),v;for(v=0;v<n;v+=1)m[v]=i.charCodeAt(v);return f?m:s}function p(i){return String.fromCharCode.apply(null,new Uint8Array(i))}function A(i,f,n){var s=new Uint8Array(i.byteLength+f.byteLength);return s.set(new Uint8Array(i)),s.set(new Uint8Array(f),i.byteLength),s}function o(i){var f=[],n=i.length,s;for(s=0;s<n-1;s+=2)f.push(parseInt(i.substr(s,2),16));return String.fromCharCode.apply(String,f)}function _(){this.reset()}return _.prototype.append=function(i){return this.appendBinary(w(i)),this},_.prototype.appendBinary=function(i){this._buff+=i,this._length+=i.length;var f=this._buff.length,n;for(n=64;n<=f;n+=64)h(this._hash,d(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},_.prototype.end=function(i){var f=this._buff,n=f.length,s,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v;for(s=0;s<n;s+=1)m[s>>2]|=f.charCodeAt(s)<<(s%4<<3);return this._finish(m,n),v=l(this._hash),i&&(v=o(v)),this.reset(),v},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},_.prototype.setState=function(i){return this._buff=i.buff,this._length=i.length,this._hash=i.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(i,f){var n=f,s,m,v;if(i[n>>2]|=128<<(n%4<<3),n>55)for(h(this._hash,i),n=0;n<16;n+=1)i[n]=0;s=this._length*8,s=s.toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(s[2],16),v=parseInt(s[1],16)||0,i[14]=m,i[15]=v,h(this._hash,i)},_.hash=function(i,f){return _.hashBinary(w(i),f)},_.hashBinary=function(i,f){var n=a(i),s=l(n);return f?o(s):s},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(i){var f=A(this._buff.buffer,i),n=f.length,s;for(this._length+=i.byteLength,s=64;s<=n;s+=64)h(this._hash,u(f.subarray(s-64,s)));return this._buff=s-64<n?new Uint8Array(f.buffer.slice(s-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(i){var f=this._buff,n=f.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m,v;for(m=0;m<n;m+=1)s[m>>2]|=f[m]<<(m%4<<3);return this._finish(s,n),v=l(this._hash),i&&(v=o(v)),this.reset(),v},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var i=_.prototype.getState.call(this);return i.buff=p(i.buff),i},_.ArrayBuffer.prototype.setState=function(i){return i.buff=E(i.buff,!0),_.prototype.setState.call(this,i)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(i,f){var n=c(new Uint8Array(i)),s=l(n);return f?o(s):s},_})})(Ke)),Ke.exports}var ii=ni();const si=ar(ii),$t=(b,k={})=>document.dispatchEvent(new CustomEvent(b,{detail:k})),un=(b,k={})=>new Promise((r,y)=>{const h=document.createElement("script");h.type="text/javascript",k.domProps&&Object.assign(h,k.domProps),k.meta&&Object.assign(h.dataset,k.meta),document.body.appendChild(h);const d=u=>{window.removeEventListener("error",d),y(u.error)};h.addEventListener("load",()=>{window.removeEventListener("error",d),r(void 0)}),window.addEventListener("error",d),h.addEventListener("error",d),typeof b!="string"?h.src=URL.createObjectURL(b):(h.innerHTML=b,setTimeout(()=>{window.removeEventListener("error",d),r(void 0)},50))}),ln=(b,k)=>{var r,y;if(typeof b=="string"){const h=document.createElement("style");h.innerHTML=b,Object.assign(h.dataset,k),((r=document.head)!=null?r:document.getElementsByTagName("head")).appendChild(h)}else{const h=document.createElement("link");h.rel="stylesheet",h.href=URL.createObjectURL(b),Object.assign(h.dataset,k),((y=document.head)!=null?y:document.getElementsByTagName("head")).appendChild(h)}},ai=b=>b.id!==void 0&&b.name!==void 0&&b.author!==void 0&&b.version!==void 0&&Ht.valid(Ht.clean(b.version)),oi=(b,k)=>{var u,a;const r=b.dependencies!==void 0&&Object.keys(b.dependencies).length>0,y=k.dependencies!==void 0&&Object.keys(k.dependencies).length>0;if(r!==y)return r?1:-1;const h=(u=b.priority)!=null?u:1e3,d=(a=k.priority)!=null?a:1e3;return h-d},ui=(b,k=2097152)=>new Promise((r,y)=>{const h=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,d=Math.ceil(b.size/k),u=new si.ArrayBuffer,a=new FileReader;let c=0;a.onload=l=>{u.append(l.target.result),c++,c<d?g():(r(u.end()),u.destroy())},a.onerror=l=>{y(l)};function g(){const l=c*k,w=l+k<b.size?l+k:b.size;a.readAsArrayBuffer(h.call(b,l,w))}g()}),li=b=>{const{stats:k,mods:r,version:y}=window.YASCML;if(b.designedFor!==void 0&&k.gameName!==b.designedFor)return console.warn(`Mod "${b.id}" is designed for "${b.designedFor}", but it's running on "${k.gameName}". This mod will not be loaded.`),!1;if(b.dependencies===void 0)return!0;for(const h in b.dependencies){if(h==="yascml"){if(Ht.satisfies(y,b.dependencies[h]))continue;return console.warn(`Mod "${b.id}" requires loader v${y}, but found v${y}. This mod will not be loaded.`),!1}const d=r.find(a=>a.id===h);if(!d)return console.warn(`Mod "${b.id}" requires dependency "${h}", but it's not installed. This mod will not be loaded.`),!1;if(!d.enabled)return console.warn(`Mod "${b.id}" requires dependency "${h}", but it's not enabled. This mod will not be loaded.`),!1;if(!d.suitable)return console.warn(`Mod "${b.id}" requires dependency "${h}", but it's not suitable for now. This mod will not be loaded.`),!1;const u=b.dependencies[h];if(!Ht.satisfies(d.version,u))return console.warn(`Mod "${b.id}" requires dependency "${h} v${u}", but found v${d.version}. This mod will not be loaded.`),!1}return!0},ci=b=>{const k=document.createElement("div");return k.innerHTML=b,k.innerHTML},cn=(b,k)=>Rt(null,null,function*(){const r=yield ur.loadAsync(b);if(!r.file("meta.json"))throw new Error('"meta.json" not found in mod file, is this a valid mod file?');const y=yield r.file("meta.json").async("text"),h=JSON.parse(y);if(!ai(h))throw new Error('Invalid format of "meta.json"');const d=gn(tr({},h),{enabled:!0,embedded:!1,suitable:!0,errored:!1,new:!1,updated:!1,deleted:!1,md5:""});k&&(d.zip=r);try{d.md5=yield ui(b)}catch(u){console.warn(`Failed to get MD5 for mod: ${d.id}, using empty string`),console.error(u)}return d}),fi=(b,k)=>fetch(b).then(r=>r.blob()).then(r=>cn(r,k)),Je=(b,k=!1)=>typeof b=="string"?fi(b,k):cn(b,k),hi=b=>Rt(null,null,function*(){const k=yield Je(b);xn(k.id,b);const r=window.YASCML.mods.findIndex(y=>y.id===k.id);r===-1?(k.new=!0,window.YASCML.mods.push(k)):(k.updated=!0,window.YASCML.mods.splice(r,1,k)),$t("$modadded",{mod:k})}),di=b=>Rt(null,null,function*(){const k=window.YASCML.mods.findIndex(y=>y.id===b);if(k===-1)throw new Error(`Cannot find mod ID: ${b}`);yield On(b),cr(b);const r=window.YASCML.mods[k];r.deleted=!0,$t("$modremoved",{mod:r})}),pi=b=>{const k=window.YASCML.mods.findIndex(r=>r.id===b);if(k===-1)throw new Error(`Cannot find mod ID: ${b}`);cr(b),window.YASCML.mods[k].enabled=!0,$t("$modenabled",{mod:window.YASCML.mods[k]})},mi=b=>{const k=window.YASCML.mods.findIndex(r=>r.id===b);if(k===-1)throw new Error(`Cannot find mod ID: ${b}`);Ln(b),window.YASCML.mods[k].enabled=!1,$t("$moddisabled",{mod:window.YASCML.mods[k]})},fn=b=>{const k=window.YASCML.mods.findIndex(r=>r.id===b);if(k===-1)throw new Error(`Cannot find mod ID: ${b}`);return window.YASCML.mods[k]},gi={mod:{add:hi,remove:di,enable:pi,disable:mi,get:fn,releaseFiles:b=>{const k=fn(b);k.zip&&delete k.zip}}},_i=()=>Rt(null,null,function*(){mt("Preparing loader..."),window.JSZip||(window.JSZip=ur),window.idbKeyval||(window.idbKeyval=Rn),Object.defineProperty(window,"YASCML",{configurable:!1,value:Object.seal(Object.assign(Object.create(null),{version:"1.0.0",mods:[],api:gi,stats:{gameName:ci(document.querySelector("tw-storydata").getAttribute("name")),isLoaderInit:!1,isEngineInit:!1,logs:kt}}))});{mt("Loading imported mods...");const b=yield In();for(let k=0;k<b.length;k++){const r=b[k];mt(`Loading imported mods... (${k+1}/${b.length})[${r}]`);try{const y=yield lr(r),h=yield Je(y,!0);window.YASCML.mods.push(h)}catch(y){console.warn(`Error when loading mod: ${r}, skipping...`),console.error(y)}}}if(window.YASCMLConfig&&window.YASCMLConfig.embedModPath){mt("Loading embedded mods...");const b=window.YASCMLConfig.embedModPath;for(let k=0;k<b.length;k++){const r=b[k];mt(`Loading embedded mods... (${k+1}/${b.length})${r.length<=200?`[${r}]`:""}`);try{const y=yield Je(r,!0);if(window.YASCML.mods.findIndex(h=>h.id===y.id)!==-1)continue;y.embedded=!0,window.YASCML.mods.push(y)}catch(y){console.warn(`Error when loading embed mod: ${r}, skipping...`),console.error(y)}}}window.YASCML.mods.sort(oi);for(const b of Ct("disabledMods")){const k=window.YASCML.mods.findIndex(r=>r.id===b);k!==-1&&(window.YASCML.mods[k].enabled=!1,window.YASCML.mods[k].zip=void 0)}for(const b of window.YASCML.mods)b.suitable=li(b),b.suitable||(b.zip=void 0);window.YASCML.stats.isLoaderInit=!0}),wi=()=>Rt(null,null,function*(){if(Ct("saveMode"))return;mt("Loading preload scripts...");const b=window.YASCML.mods;for(let k=0;k<b.length;k++){const r=b[k];if(mt(`Loading preload scripts... (${k+1}/${b.length})[${r.id}]`),!(!r.enabled||!r.suitable||r.errored)){if(window.__AfterInit=[],r.cssFiles)for(const y of r.cssFiles){const h=r.zip.file(y);if(!h){console.warn(`Cannot find file "${y}", skipping...`);continue}ln(yield h.async("blob"),{modId:r.id,filename:y})}if(r.preloadScripts)try{for(const y of r.preloadScripts){const h=r.zip.file(y);if(!h){console.warn(`Cannot find file "${y}", skipping...`);return}yield un(yield h.async("blob"),{meta:{modId:r.id,filename:y,timing:"preload"}})}if(window.__AfterInit.length>0)for(const y of window.__AfterInit)yield Promise.resolve(y())}catch(y){r.errored=!0,console.error(`Error when loading preload scripts for mod "${r.id}"`),console.error(y)}}}}),vi=()=>Rt(null,null,function*(){if(Ct("saveMode"))return;mt("Loading postload scripts...");const b=window.YASCML.mods;for(let k=0;k<b.length;k++){const r=b[k];if(mt(`Loading postload scripts... (${k+1}/${b.length})[${r.id}]`),!(!r.enabled||!r.suitable||r.errored)&&(window.__AfterInit=[],r.postloadScripts))try{for(const y of r.postloadScripts){const h=r.zip.file(y);if(!h){console.warn(`Cannot find file "${y}", skipping...`);return}yield un(yield h.async("blob"),{meta:{modId:r.id,filename:y,timing:"postload"}})}if(window.__AfterInit.length>0)for(const y of window.__AfterInit)yield Promise.resolve(y())}catch(y){r.errored=!0,console.error(`Error when loading postload scripts for mod "${r.id}"`),console.error(y)}}});if(document.querySelector("#script-sugarcube")||window.SugarCube!=null)throw new Error("The SugarCube engine already initialized! Aborting...");if(window.YASCML!=null)throw new Error("Another YASCML is running! Aborting...");if(window.Reflect==null)throw new Error("Your browser is too old! Upgrade your browser to use YASCML");window.addEventListener("DOMContentLoaded",()=>Rt(null,null,function*(){if(ln(["@keyframes _YASCML_BLINK_ {","from { opacity: 1; }","to { opacity: 0; }","}"].join(`
`)),wn(),window.__SUGARCUBE_PATCHER&&(mt("Patching engine..."),yield Promise.resolve(window.__SUGARCUBE_PATCHER())),!window.$SugarCube)throw Ft(),new Error("You are running YASCML on a original SugarCube engine! Please patch the engine first.");const b=window.SugarCube,k=window.$SugarCube;if(!b)throw Ft(),new Error("SugarCube not loaded properly!");const r=k.LoadScreen.lock();k.LoadScreen.init(),yield _i(),_n(b.UIBar,"init",{value(){this.$init();const y=document.querySelector("#menu"),h=document.createElement("ul");h.id="menu-yascml",y.appendChild(h)}}),document.normalize&&document.normalize(),wi().then(()=>(mt("Loading game engine..."),Promise.resolve(k.$init.initEngine()))).then(()=>vi()).then(()=>{var y;delete window.__AfterInit,window.YASCML.stats.isEngineInit=!0,mt("Starting game..."),setTimeout(()=>{Ft(),k.LoadScreen.unlock(r),$t("$gamestarted")},((y=b.Engine.DOM_DELAY)!=null?y:b.Engine.minDomActionDelay)*2)}).catch(y=>(console.error(y),Ft(),k.LoadScreen.clear(),k.Alert.fatal(null,y.message)))}))}));
