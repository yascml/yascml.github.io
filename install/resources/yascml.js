(function(ft){typeof define=="function"&&define.amd?define(ft):ft()})((function(){"use strict";var wi=Object.defineProperty,yi=Object.defineProperties;var bi=Object.getOwnPropertyDescriptors;var cn=Object.getOwnPropertySymbols;var Ei=Object.prototype.hasOwnProperty,Si=Object.prototype.propertyIsEnumerable;var fn=(ft,ut,lt)=>ut in ft?wi(ft,ut,{enumerable:!0,configurable:!0,writable:!0,value:lt}):ft[ut]=lt,Xe=(ft,ut)=>{for(var lt in ut||(ut={}))Ei.call(ut,lt)&&fn(ft,lt,ut[lt]);if(cn)for(var lt of cn(ut))Si.call(ut,lt)&&fn(ft,lt,ut[lt]);return ft},hn=(ft,ut)=>yi(ft,bi(ut));var Rt=(ft,ut,lt)=>new Promise((Ct,xt)=>{var Bt=bt=>{try{It(lt.next(bt))}catch(kt){xt(kt)}},Ot=bt=>{try{It(lt.throw(bt))}catch(kt){xt(kt)}},It=bt=>bt.done?Ct(bt.value):Promise.resolve(bt.value).then(Bt,Ot);It((lt=lt.apply(ft,ut)).next())});const ft=(b,k,n)=>{const y=b[k];if(typeof y!="function")throw new Error("Unsupported target");if(!Reflect.defineProperty(b,`$${String(k)}`,{configurable:!1,enumerable:!1,value:y}))throw new Error("Cannot define property on this target, is this target protected?");if(!Reflect.defineProperty(b,k,Xe({configurable:!0,enumerable:!0},n)))throw new Error("Cannot relace property on this target, is this target unconfigurable?")};var ut=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function lt(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var Ct={exports:{}},xt,Bt;function Ot(){if(Bt)return xt;Bt=1;const b="2.0.0",k=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,y=16,h=k-6;return xt={MAX_LENGTH:k,MAX_SAFE_COMPONENT_LENGTH:y,MAX_SAFE_BUILD_LENGTH:h,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:b,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},xt}var It,bt;function kt(){return bt||(bt=1,It=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...k)=>console.error("SEMVER",...k):()=>{}),It}var Ve;function Tt(){return Ve||(Ve=1,(function(b,k){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:y,MAX_LENGTH:h}=Ot(),p=kt();k=b.exports={};const u=k.re=[],a=k.safeRe=[],c=k.src=[],g=k.safeSrc=[],l=k.t={};let v=0;const E="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",h],[E,y]],A=_=>{for(const[i,f]of d)_=_.split(`${i}*`).join(`${i}{0,${f}}`).split(`${i}+`).join(`${i}{1,${f}}`);return _},o=(_,i,f)=>{const r=A(i),s=v++;p(_,s,i),l[_]=s,c[s]=i,g[s]=r,u[s]=new RegExp(i,f?"g":void 0),a[s]=new RegExp(r,f?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","\\d+"),o("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),o("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${c[l.NONNUMERICIDENTIFIER]}|${c[l.NUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NONNUMERICIDENTIFIER]}|${c[l.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER",`${E}+`),o("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),o("FULL",`^${c[l.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),o("LOOSE",`^${c[l.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),o("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),o("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),o("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),o("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),o("COERCERTL",c[l.COERCE],!0),o("COERCERTLFULL",c[l.COERCEFULL],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),k.tildeTrimReplace="$1~",o("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),k.caretTrimReplace="$1^",o("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),k.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ct,Ct.exports)),Ct.exports}var Yt,Ke;function Ht(){if(Ke)return Yt;Ke=1;const b=Object.freeze({loose:!0}),k=Object.freeze({});return Yt=y=>y?typeof y!="object"?b:y:k,Yt}var Xt,Je;function Qe(){if(Je)return Xt;Je=1;const b=/^[0-9]+$/,k=(y,h)=>{const p=b.test(y),u=b.test(h);return p&&u&&(y=+y,h=+h),y===h?0:p&&!u?-1:u&&!p?1:y<h?-1:1};return Xt={compareIdentifiers:k,rcompareIdentifiers:(y,h)=>k(h,y)},Xt}var Vt,tr;function dt(){if(tr)return Vt;tr=1;const b=kt(),{MAX_LENGTH:k,MAX_SAFE_INTEGER:n}=Ot(),{safeRe:y,t:h}=Tt(),p=Ht(),{compareIdentifiers:u}=Qe();class a{constructor(g,l){if(l=p(l),g instanceof a){if(g.loose===!!l.loose&&g.includePrerelease===!!l.includePrerelease)return g;g=g.version}else if(typeof g!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof g}".`);if(g.length>k)throw new TypeError(`version is longer than ${k} characters`);b("SemVer",g,l),this.options=l,this.loose=!!l.loose,this.includePrerelease=!!l.includePrerelease;const v=g.trim().match(l.loose?y[h.LOOSE]:y[h.FULL]);if(!v)throw new TypeError(`Invalid Version: ${g}`);if(this.raw=g,this.major=+v[1],this.minor=+v[2],this.patch=+v[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");v[4]?this.prerelease=v[4].split(".").map(E=>{if(/^[0-9]+$/.test(E)){const d=+E;if(d>=0&&d<n)return d}return E}):this.prerelease=[],this.build=v[5]?v[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(g){if(b("SemVer.compare",this.version,this.options,g),!(g instanceof a)){if(typeof g=="string"&&g===this.version)return 0;g=new a(g,this.options)}return g.version===this.version?0:this.compareMain(g)||this.comparePre(g)}compareMain(g){return g instanceof a||(g=new a(g,this.options)),u(this.major,g.major)||u(this.minor,g.minor)||u(this.patch,g.patch)}comparePre(g){if(g instanceof a||(g=new a(g,this.options)),this.prerelease.length&&!g.prerelease.length)return-1;if(!this.prerelease.length&&g.prerelease.length)return 1;if(!this.prerelease.length&&!g.prerelease.length)return 0;let l=0;do{const v=this.prerelease[l],E=g.prerelease[l];if(b("prerelease compare",l,v,E),v===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(v===void 0)return-1;if(v===E)continue;return u(v,E)}while(++l)}compareBuild(g){g instanceof a||(g=new a(g,this.options));let l=0;do{const v=this.build[l],E=g.build[l];if(b("build compare",l,v,E),v===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(v===void 0)return-1;if(v===E)continue;return u(v,E)}while(++l)}inc(g,l,v){if(g.startsWith("pre")){if(!l&&v===!1)throw new Error("invalid increment argument: identifier is empty");if(l){const E=`-${l}`.match(this.options.loose?y[h.PRERELEASELOOSE]:y[h.PRERELEASE]);if(!E||E[1]!==l)throw new Error(`invalid identifier: ${l}`)}}switch(g){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",l,v);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",l,v);break;case"prepatch":this.prerelease.length=0,this.inc("patch",l,v),this.inc("pre",l,v);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",l,v),this.inc("pre",l,v);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const E=Number(v)?1:0;if(this.prerelease.length===0)this.prerelease=[E];else{let d=this.prerelease.length;for(;--d>=0;)typeof this.prerelease[d]=="number"&&(this.prerelease[d]++,d=-2);if(d===-1){if(l===this.prerelease.join(".")&&v===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(E)}}if(l){let d=[l,E];v===!1&&(d=[l]),u(this.prerelease[0],l)===0?isNaN(this.prerelease[1])&&(this.prerelease=d):this.prerelease=d}break}default:throw new Error(`invalid increment argument: ${g}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Vt=a,Vt}var Kt,er;function Lt(){if(er)return Kt;er=1;const b=dt();return Kt=(n,y,h=!1)=>{if(n instanceof b)return n;try{return new b(n,y)}catch(p){if(!h)return null;throw p}},Kt}var Jt,rr;function dn(){if(rr)return Jt;rr=1;const b=Lt();return Jt=(n,y)=>{const h=b(n,y);return h?h.version:null},Jt}var Qt,nr;function pn(){if(nr)return Qt;nr=1;const b=Lt();return Qt=(n,y)=>{const h=b(n.trim().replace(/^[=v]+/,""),y);return h?h.version:null},Qt}var te,ir;function mn(){if(ir)return te;ir=1;const b=dt();return te=(n,y,h,p,u)=>{typeof h=="string"&&(u=p,p=h,h=void 0);try{return new b(n instanceof b?n.version:n,h).inc(y,p,u).version}catch(a){return null}},te}var ee,sr;function gn(){if(sr)return ee;sr=1;const b=Lt();return ee=(n,y)=>{const h=b(n,null,!0),p=b(y,null,!0),u=h.compare(p);if(u===0)return null;const a=u>0,c=a?h:p,g=a?p:h,l=!!c.prerelease.length;if(!!g.prerelease.length&&!l){if(!g.patch&&!g.minor)return"major";if(g.compareMain(c)===0)return g.minor&&!g.patch?"minor":"patch"}const E=l?"pre":"";return h.major!==p.major?E+"major":h.minor!==p.minor?E+"minor":h.patch!==p.patch?E+"patch":"prerelease"},ee}var re,ar;function _n(){if(ar)return re;ar=1;const b=dt();return re=(n,y)=>new b(n,y).major,re}var ne,or;function vn(){if(or)return ne;or=1;const b=dt();return ne=(n,y)=>new b(n,y).minor,ne}var ie,ur;function wn(){if(ur)return ie;ur=1;const b=dt();return ie=(n,y)=>new b(n,y).patch,ie}var se,lr;function yn(){if(lr)return se;lr=1;const b=Lt();return se=(n,y)=>{const h=b(n,y);return h&&h.prerelease.length?h.prerelease:null},se}var ae,cr;function gt(){if(cr)return ae;cr=1;const b=dt();return ae=(n,y,h)=>new b(n,h).compare(new b(y,h)),ae}var oe,fr;function bn(){if(fr)return oe;fr=1;const b=gt();return oe=(n,y,h)=>b(y,n,h),oe}var ue,hr;function En(){if(hr)return ue;hr=1;const b=gt();return ue=(n,y)=>b(n,y,!0),ue}var le,dr;function ce(){if(dr)return le;dr=1;const b=dt();return le=(n,y,h)=>{const p=new b(n,h),u=new b(y,h);return p.compare(u)||p.compareBuild(u)},le}var fe,pr;function Sn(){if(pr)return fe;pr=1;const b=ce();return fe=(n,y)=>n.sort((h,p)=>b(h,p,y)),fe}var he,mr;function An(){if(mr)return he;mr=1;const b=ce();return he=(n,y)=>n.sort((h,p)=>b(p,h,y)),he}var de,gr;function Ft(){if(gr)return de;gr=1;const b=gt();return de=(n,y,h)=>b(n,y,h)>0,de}var pe,_r;function me(){if(_r)return pe;_r=1;const b=gt();return pe=(n,y,h)=>b(n,y,h)<0,pe}var ge,vr;function wr(){if(vr)return ge;vr=1;const b=gt();return ge=(n,y,h)=>b(n,y,h)===0,ge}var _e,yr;function br(){if(yr)return _e;yr=1;const b=gt();return _e=(n,y,h)=>b(n,y,h)!==0,_e}var ve,Er;function we(){if(Er)return ve;Er=1;const b=gt();return ve=(n,y,h)=>b(n,y,h)>=0,ve}var ye,Sr;function be(){if(Sr)return ye;Sr=1;const b=gt();return ye=(n,y,h)=>b(n,y,h)<=0,ye}var Ee,Ar;function Rr(){if(Ar)return Ee;Ar=1;const b=wr(),k=br(),n=Ft(),y=we(),h=me(),p=be();return Ee=(a,c,g,l)=>{switch(c){case"===":return typeof a=="object"&&(a=a.version),typeof g=="object"&&(g=g.version),a===g;case"!==":return typeof a=="object"&&(a=a.version),typeof g=="object"&&(g=g.version),a!==g;case"":case"=":case"==":return b(a,g,l);case"!=":return k(a,g,l);case">":return n(a,g,l);case">=":return y(a,g,l);case"<":return h(a,g,l);case"<=":return p(a,g,l);default:throw new TypeError(`Invalid operator: ${c}`)}},Ee}var Se,kr;function Rn(){if(kr)return Se;kr=1;const b=dt(),k=Lt(),{safeRe:n,t:y}=Tt();return Se=(p,u)=>{if(p instanceof b)return p;if(typeof p=="number"&&(p=String(p)),typeof p!="string")return null;u=u||{};let a=null;if(!u.rtl)a=p.match(u.includePrerelease?n[y.COERCEFULL]:n[y.COERCE]);else{const d=u.includePrerelease?n[y.COERCERTLFULL]:n[y.COERCERTL];let A;for(;(A=d.exec(p))&&(!a||a.index+a[0].length!==p.length);)(!a||A.index+A[0].length!==a.index+a[0].length)&&(a=A),d.lastIndex=A.index+A[1].length+A[2].length;d.lastIndex=-1}if(a===null)return null;const c=a[2],g=a[3]||"0",l=a[4]||"0",v=u.includePrerelease&&a[5]?`-${a[5]}`:"",E=u.includePrerelease&&a[6]?`+${a[6]}`:"";return k(`${c}.${g}.${l}${v}${E}`,u)},Se}var Ae,Ir;function kn(){if(Ir)return Ae;Ir=1;class b{constructor(){this.max=1e3,this.map=new Map}get(n){const y=this.map.get(n);if(y!==void 0)return this.map.delete(n),this.map.set(n,y),y}delete(n){return this.map.delete(n)}set(n,y){if(!this.delete(n)&&y!==void 0){if(this.map.size>=this.max){const p=this.map.keys().next().value;this.delete(p)}this.map.set(n,y)}return this}}return Ae=b,Ae}var Re,Cr;function _t(){if(Cr)return Re;Cr=1;const b=/\s+/g;class k{constructor(C,G){if(G=h(G),C instanceof k)return C.loose===!!G.loose&&C.includePrerelease===!!G.includePrerelease?C:new k(C.raw,G);if(C instanceof p)return this.raw=C.value,this.set=[[C]],this.formatted=void 0,this;if(this.options=G,this.loose=!!G.loose,this.includePrerelease=!!G.includePrerelease,this.raw=C.trim().replace(b," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(Y=>!o(Y[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const Y of this.set)if(Y.length===1&&_(Y[0])){this.set=[Y];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let C=0;C<this.set.length;C++){C>0&&(this.formatted+="||");const G=this.set[C];for(let N=0;N<G.length;N++)N>0&&(this.formatted+=" "),this.formatted+=G[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(C){const N=((this.options.includePrerelease&&d)|(this.options.loose&&A))+":"+C,Y=y.get(N);if(Y)return Y;const z=this.options.loose,Z=z?c[g.HYPHENRANGELOOSE]:c[g.HYPHENRANGE];C=C.replace(Z,I(this.options.includePrerelease)),u("hyphen replace",C),C=C.replace(c[g.COMPARATORTRIM],l),u("comparator trim",C),C=C.replace(c[g.TILDETRIM],v),u("tilde trim",C),C=C.replace(c[g.CARETTRIM],E),u("caret trim",C);let L=C.split(" ").map(q=>f(q,this.options)).join(" ").split(/\s+/).map(q=>Q(q,this.options));z&&(L=L.filter(q=>(u("loose invalid filter",q,this.options),!!q.match(c[g.COMPARATORLOOSE])))),u("range list",L);const x=new Map,K=L.map(q=>new p(q,this.options));for(const q of K){if(o(q))return[q];x.set(q.value,q)}x.size>1&&x.has("")&&x.delete("");const V=[...x.values()];return y.set(N,V),V}intersects(C,G){if(!(C instanceof k))throw new TypeError("a Range is required");return this.set.some(N=>i(N,G)&&C.set.some(Y=>i(Y,G)&&N.every(z=>Y.every(Z=>z.intersects(Z,G)))))}test(C){if(!C)return!1;if(typeof C=="string")try{C=new a(C,this.options)}catch(G){return!1}for(let G=0;G<this.set.length;G++)if(F(this.set[G],C,this.options))return!0;return!1}}Re=k;const n=kn(),y=new n,h=Ht(),p=Ut(),u=kt(),a=dt(),{safeRe:c,t:g,comparatorTrimReplace:l,tildeTrimReplace:v,caretTrimReplace:E}=Tt(),{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:A}=Ot(),o=e=>e.value==="<0.0.0-0",_=e=>e.value==="",i=(e,C)=>{let G=!0;const N=e.slice();let Y=N.pop();for(;G&&N.length;)G=N.every(z=>Y.intersects(z,C)),Y=N.pop();return G},f=(e,C)=>(u("comp",e,C),e=w(e,C),u("caret",e),e=s(e,C),u("tildes",e),e=D(e,C),u("xrange",e),e=W(e,C),u("stars",e),e),r=e=>!e||e.toLowerCase()==="x"||e==="*",s=(e,C)=>e.trim().split(/\s+/).map(G=>m(G,C)).join(" "),m=(e,C)=>{const G=C.loose?c[g.TILDELOOSE]:c[g.TILDE];return e.replace(G,(N,Y,z,Z,L)=>{u("tilde",e,N,Y,z,Z,L);let x;return r(Y)?x="":r(z)?x=`>=${Y}.0.0 <${+Y+1}.0.0-0`:r(Z)?x=`>=${Y}.${z}.0 <${Y}.${+z+1}.0-0`:L?(u("replaceTilde pr",L),x=`>=${Y}.${z}.${Z}-${L} <${Y}.${+z+1}.0-0`):x=`>=${Y}.${z}.${Z} <${Y}.${+z+1}.0-0`,u("tilde return",x),x})},w=(e,C)=>e.trim().split(/\s+/).map(G=>T(G,C)).join(" "),T=(e,C)=>{u("caret",e,C);const G=C.loose?c[g.CARETLOOSE]:c[g.CARET],N=C.includePrerelease?"-0":"";return e.replace(G,(Y,z,Z,L,x)=>{u("caret",e,Y,z,Z,L,x);let K;return r(z)?K="":r(Z)?K=`>=${z}.0.0${N} <${+z+1}.0.0-0`:r(L)?z==="0"?K=`>=${z}.${Z}.0${N} <${z}.${+Z+1}.0-0`:K=`>=${z}.${Z}.0${N} <${+z+1}.0.0-0`:x?(u("replaceCaret pr",x),z==="0"?Z==="0"?K=`>=${z}.${Z}.${L}-${x} <${z}.${Z}.${+L+1}-0`:K=`>=${z}.${Z}.${L}-${x} <${z}.${+Z+1}.0-0`:K=`>=${z}.${Z}.${L}-${x} <${+z+1}.0.0-0`):(u("no pr"),z==="0"?Z==="0"?K=`>=${z}.${Z}.${L}${N} <${z}.${Z}.${+L+1}-0`:K=`>=${z}.${Z}.${L}${N} <${z}.${+Z+1}.0-0`:K=`>=${z}.${Z}.${L} <${+z+1}.0.0-0`),u("caret return",K),K})},D=(e,C)=>(u("replaceXRanges",e,C),e.split(/\s+/).map(G=>P(G,C)).join(" ")),P=(e,C)=>{e=e.trim();const G=C.loose?c[g.XRANGELOOSE]:c[g.XRANGE];return e.replace(G,(N,Y,z,Z,L,x)=>{u("xRange",e,N,Y,z,Z,L,x);const K=r(z),V=K||r(Z),q=V||r(L),it=q;return Y==="="&&it&&(Y=""),x=C.includePrerelease?"-0":"",K?Y===">"||Y==="<"?N="<0.0.0-0":N="*":Y&&it?(V&&(Z=0),L=0,Y===">"?(Y=">=",V?(z=+z+1,Z=0,L=0):(Z=+Z+1,L=0)):Y==="<="&&(Y="<",V?z=+z+1:Z=+Z+1),Y==="<"&&(x="-0"),N=`${Y+z}.${Z}.${L}${x}`):V?N=`>=${z}.0.0${x} <${+z+1}.0.0-0`:q&&(N=`>=${z}.${Z}.0${x} <${z}.${+Z+1}.0-0`),u("xRange return",N),N})},W=(e,C)=>(u("replaceStars",e,C),e.trim().replace(c[g.STAR],"")),Q=(e,C)=>(u("replaceGTE0",e,C),e.trim().replace(c[C.includePrerelease?g.GTE0PRE:g.GTE0],"")),I=e=>(C,G,N,Y,z,Z,L,x,K,V,q,it)=>(r(N)?G="":r(Y)?G=`>=${N}.0.0${e?"-0":""}`:r(z)?G=`>=${N}.${Y}.0${e?"-0":""}`:Z?G=`>=${G}`:G=`>=${G}${e?"-0":""}`,r(K)?x="":r(V)?x=`<${+K+1}.0.0-0`:r(q)?x=`<${K}.${+V+1}.0-0`:it?x=`<=${K}.${V}.${q}-${it}`:e?x=`<${K}.${V}.${+q+1}-0`:x=`<=${x}`,`${G} ${x}`.trim()),F=(e,C,G)=>{for(let N=0;N<e.length;N++)if(!e[N].test(C))return!1;if(C.prerelease.length&&!G.includePrerelease){for(let N=0;N<e.length;N++)if(u(e[N].semver),e[N].semver!==p.ANY&&e[N].semver.prerelease.length>0){const Y=e[N].semver;if(Y.major===C.major&&Y.minor===C.minor&&Y.patch===C.patch)return!0}return!1}return!0};return Re}var ke,xr;function Ut(){if(xr)return ke;xr=1;const b=Symbol("SemVer ANY");class k{static get ANY(){return b}constructor(l,v){if(v=n(v),l instanceof k){if(l.loose===!!v.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),u("comparator",l,v),this.options=v,this.loose=!!v.loose,this.parse(l),this.semver===b?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(l){const v=this.options.loose?y[h.COMPARATORLOOSE]:y[h.COMPARATOR],E=l.match(v);if(!E)throw new TypeError(`Invalid comparator: ${l}`);this.operator=E[1]!==void 0?E[1]:"",this.operator==="="&&(this.operator=""),E[2]?this.semver=new a(E[2],this.options.loose):this.semver=b}toString(){return this.value}test(l){if(u("Comparator.test",l,this.options.loose),this.semver===b||l===b)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch(v){return!1}return p(l,this.operator,this.semver,this.options)}intersects(l,v){if(!(l instanceof k))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,v).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,v).test(l.semver):(v=n(v),v.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!v.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||p(this.semver,"<",l.semver,v)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||p(this.semver,">",l.semver,v)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}ke=k;const n=Ht(),{safeRe:y,t:h}=Tt(),p=Rr(),u=kt(),a=dt(),c=_t();return ke}var Ie,Or;function Mt(){if(Or)return Ie;Or=1;const b=_t();return Ie=(n,y,h)=>{try{y=new b(y,h)}catch(p){return!1}return y.test(n)},Ie}var Ce,Lr;function In(){if(Lr)return Ce;Lr=1;const b=_t();return Ce=(n,y)=>new b(n,y).set.map(h=>h.map(p=>p.value).join(" ").trim().split(" ")),Ce}var xe,Tr;function Cn(){if(Tr)return xe;Tr=1;const b=dt(),k=_t();return xe=(y,h,p)=>{let u=null,a=null,c=null;try{c=new k(h,p)}catch(g){return null}return y.forEach(g=>{c.test(g)&&(!u||a.compare(g)===-1)&&(u=g,a=new b(u,p))}),u},xe}var Oe,$r;function xn(){if($r)return Oe;$r=1;const b=dt(),k=_t();return Oe=(y,h,p)=>{let u=null,a=null,c=null;try{c=new k(h,p)}catch(g){return null}return y.forEach(g=>{c.test(g)&&(!u||a.compare(g)===1)&&(u=g,a=new b(u,p))}),u},Oe}var Le,Nr;function On(){if(Nr)return Le;Nr=1;const b=dt(),k=_t(),n=Ft();return Le=(h,p)=>{h=new k(h,p);let u=new b("0.0.0");if(h.test(u)||(u=new b("0.0.0-0"),h.test(u)))return u;u=null;for(let a=0;a<h.set.length;++a){const c=h.set[a];let g=null;c.forEach(l=>{const v=new b(l.semver.version);switch(l.operator){case">":v.prerelease.length===0?v.patch++:v.prerelease.push(0),v.raw=v.format();case"":case">=":(!g||n(v,g))&&(g=v);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),g&&(!u||n(u,g))&&(u=g)}return u&&h.test(u)?u:null},Le}var Te,zr;function Ln(){if(zr)return Te;zr=1;const b=_t();return Te=(n,y)=>{try{return new b(n,y).range||"*"}catch(h){return null}},Te}var $e,Dr;function Ne(){if(Dr)return $e;Dr=1;const b=dt(),k=Ut(),{ANY:n}=k,y=_t(),h=Mt(),p=Ft(),u=me(),a=be(),c=we();return $e=(l,v,E,d)=>{l=new b(l,d),v=new y(v,d);let A,o,_,i,f;switch(E){case">":A=p,o=a,_=u,i=">",f=">=";break;case"<":A=u,o=c,_=p,i="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(h(l,v,d))return!1;for(let r=0;r<v.set.length;++r){const s=v.set[r];let m=null,w=null;if(s.forEach(T=>{T.semver===n&&(T=new k(">=0.0.0")),m=m||T,w=w||T,A(T.semver,m.semver,d)?m=T:_(T.semver,w.semver,d)&&(w=T)}),m.operator===i||m.operator===f||(!w.operator||w.operator===i)&&o(l,w.semver))return!1;if(w.operator===f&&_(l,w.semver))return!1}return!0},$e}var ze,Pr;function Tn(){if(Pr)return ze;Pr=1;const b=Ne();return ze=(n,y,h)=>b(n,y,">",h),ze}var De,Br;function $n(){if(Br)return De;Br=1;const b=Ne();return De=(n,y,h)=>b(n,y,"<",h),De}var Pe,Fr;function Nn(){if(Fr)return Pe;Fr=1;const b=_t();return Pe=(n,y,h)=>(n=new b(n,h),y=new b(y,h),n.intersects(y,h)),Pe}var Be,Ur;function zn(){if(Ur)return Be;Ur=1;const b=Mt(),k=gt();return Be=(n,y,h)=>{const p=[];let u=null,a=null;const c=n.sort((E,d)=>k(E,d,h));for(const E of c)b(E,y,h)?(a=E,u||(u=E)):(a&&p.push([u,a]),a=null,u=null);u&&p.push([u,null]);const g=[];for(const[E,d]of p)E===d?g.push(E):!d&&E===c[0]?g.push("*"):d?E===c[0]?g.push(`<=${d}`):g.push(`${E} - ${d}`):g.push(`>=${E}`);const l=g.join(" || "),v=typeof y.raw=="string"?y.raw:String(y);return l.length<v.length?l:y},Be}var Fe,Mr;function Dn(){if(Mr)return Fe;Mr=1;const b=_t(),k=Ut(),{ANY:n}=k,y=Mt(),h=gt(),p=(v,E,d={})=>{if(v===E)return!0;v=new b(v,d),E=new b(E,d);let A=!1;t:for(const o of v.set){for(const _ of E.set){const i=c(o,_,d);if(A=A||i!==null,i)continue t}if(A)return!1}return!0},u=[new k(">=0.0.0-0")],a=[new k(">=0.0.0")],c=(v,E,d)=>{if(v===E)return!0;if(v.length===1&&v[0].semver===n){if(E.length===1&&E[0].semver===n)return!0;d.includePrerelease?v=u:v=a}if(E.length===1&&E[0].semver===n){if(d.includePrerelease)return!0;E=a}const A=new Set;let o,_;for(const D of v)D.operator===">"||D.operator===">="?o=g(o,D,d):D.operator==="<"||D.operator==="<="?_=l(_,D,d):A.add(D.semver);if(A.size>1)return null;let i;if(o&&_){if(i=h(o.semver,_.semver,d),i>0)return null;if(i===0&&(o.operator!==">="||_.operator!=="<="))return null}for(const D of A){if(o&&!y(D,String(o),d)||_&&!y(D,String(_),d))return null;for(const P of E)if(!y(D,String(P),d))return!1;return!0}let f,r,s,m,w=_&&!d.includePrerelease&&_.semver.prerelease.length?_.semver:!1,T=o&&!d.includePrerelease&&o.semver.prerelease.length?o.semver:!1;w&&w.prerelease.length===1&&_.operator==="<"&&w.prerelease[0]===0&&(w=!1);for(const D of E){if(m=m||D.operator===">"||D.operator===">=",s=s||D.operator==="<"||D.operator==="<=",o){if(T&&D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===T.major&&D.semver.minor===T.minor&&D.semver.patch===T.patch&&(T=!1),D.operator===">"||D.operator===">="){if(f=g(o,D,d),f===D&&f!==o)return!1}else if(o.operator===">="&&!y(o.semver,String(D),d))return!1}if(_){if(w&&D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===w.major&&D.semver.minor===w.minor&&D.semver.patch===w.patch&&(w=!1),D.operator==="<"||D.operator==="<="){if(r=l(_,D,d),r===D&&r!==_)return!1}else if(_.operator==="<="&&!y(_.semver,String(D),d))return!1}if(!D.operator&&(_||o)&&i!==0)return!1}return!(o&&s&&!_&&i!==0||_&&m&&!o&&i!==0||T||w)},g=(v,E,d)=>{if(!v)return E;const A=h(v.semver,E.semver,d);return A>0?v:A<0||E.operator===">"&&v.operator===">="?E:v},l=(v,E,d)=>{if(!v)return E;const A=h(v.semver,E.semver,d);return A<0?v:A>0||E.operator==="<"&&v.operator==="<="?E:v};return Fe=p,Fe}var Ue,jr;function Pn(){if(jr)return Ue;jr=1;const b=Tt(),k=Ot(),n=dt(),y=Qe(),h=Lt(),p=dn(),u=pn(),a=mn(),c=gn(),g=_n(),l=vn(),v=wn(),E=yn(),d=gt(),A=bn(),o=En(),_=ce(),i=Sn(),f=An(),r=Ft(),s=me(),m=wr(),w=br(),T=we(),D=be(),P=Rr(),W=Rn(),Q=Ut(),I=_t(),F=Mt(),e=In(),C=Cn(),G=xn(),N=On(),Y=Ln(),z=Ne(),Z=Tn(),L=$n(),x=Nn(),K=zn(),V=Dn();return Ue={parse:h,valid:p,clean:u,inc:a,diff:c,major:g,minor:l,patch:v,prerelease:E,compare:d,rcompare:A,compareLoose:o,compareBuild:_,sort:i,rsort:f,gt:r,lt:s,eq:m,neq:w,gte:T,lte:D,cmp:P,coerce:W,Comparator:Q,Range:I,satisfies:F,toComparators:e,maxSatisfying:C,minSatisfying:G,minVersion:N,validRange:Y,outside:z,gtr:Z,ltr:L,intersects:x,simplifyRange:K,subset:V,SemVer:n,re:b.re,src:b.src,tokens:b.t,SEMVER_SPEC_VERSION:k.SEMVER_SPEC_VERSION,RELEASE_TYPES:k.RELEASE_TYPES,compareIdentifiers:y.compareIdentifiers,rcompareIdentifiers:y.rcompareIdentifiers},Ue}var Bn=Pn();const jt=lt(Bn);var Me={exports:{}},qr;function Fn(){return qr||(qr=1,(function(b,k){(function(n){b.exports=n()})(function(n){var y=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function h(i,f){var r=i[0],s=i[1],m=i[2],w=i[3];r+=(s&m|~s&w)+f[0]-680876936|0,r=(r<<7|r>>>25)+s|0,w+=(r&s|~r&m)+f[1]-389564586|0,w=(w<<12|w>>>20)+r|0,m+=(w&r|~w&s)+f[2]+606105819|0,m=(m<<17|m>>>15)+w|0,s+=(m&w|~m&r)+f[3]-1044525330|0,s=(s<<22|s>>>10)+m|0,r+=(s&m|~s&w)+f[4]-176418897|0,r=(r<<7|r>>>25)+s|0,w+=(r&s|~r&m)+f[5]+1200080426|0,w=(w<<12|w>>>20)+r|0,m+=(w&r|~w&s)+f[6]-1473231341|0,m=(m<<17|m>>>15)+w|0,s+=(m&w|~m&r)+f[7]-45705983|0,s=(s<<22|s>>>10)+m|0,r+=(s&m|~s&w)+f[8]+1770035416|0,r=(r<<7|r>>>25)+s|0,w+=(r&s|~r&m)+f[9]-1958414417|0,w=(w<<12|w>>>20)+r|0,m+=(w&r|~w&s)+f[10]-42063|0,m=(m<<17|m>>>15)+w|0,s+=(m&w|~m&r)+f[11]-1990404162|0,s=(s<<22|s>>>10)+m|0,r+=(s&m|~s&w)+f[12]+1804603682|0,r=(r<<7|r>>>25)+s|0,w+=(r&s|~r&m)+f[13]-40341101|0,w=(w<<12|w>>>20)+r|0,m+=(w&r|~w&s)+f[14]-1502002290|0,m=(m<<17|m>>>15)+w|0,s+=(m&w|~m&r)+f[15]+1236535329|0,s=(s<<22|s>>>10)+m|0,r+=(s&w|m&~w)+f[1]-165796510|0,r=(r<<5|r>>>27)+s|0,w+=(r&m|s&~m)+f[6]-1069501632|0,w=(w<<9|w>>>23)+r|0,m+=(w&s|r&~s)+f[11]+643717713|0,m=(m<<14|m>>>18)+w|0,s+=(m&r|w&~r)+f[0]-373897302|0,s=(s<<20|s>>>12)+m|0,r+=(s&w|m&~w)+f[5]-701558691|0,r=(r<<5|r>>>27)+s|0,w+=(r&m|s&~m)+f[10]+38016083|0,w=(w<<9|w>>>23)+r|0,m+=(w&s|r&~s)+f[15]-660478335|0,m=(m<<14|m>>>18)+w|0,s+=(m&r|w&~r)+f[4]-405537848|0,s=(s<<20|s>>>12)+m|0,r+=(s&w|m&~w)+f[9]+568446438|0,r=(r<<5|r>>>27)+s|0,w+=(r&m|s&~m)+f[14]-1019803690|0,w=(w<<9|w>>>23)+r|0,m+=(w&s|r&~s)+f[3]-187363961|0,m=(m<<14|m>>>18)+w|0,s+=(m&r|w&~r)+f[8]+1163531501|0,s=(s<<20|s>>>12)+m|0,r+=(s&w|m&~w)+f[13]-1444681467|0,r=(r<<5|r>>>27)+s|0,w+=(r&m|s&~m)+f[2]-51403784|0,w=(w<<9|w>>>23)+r|0,m+=(w&s|r&~s)+f[7]+1735328473|0,m=(m<<14|m>>>18)+w|0,s+=(m&r|w&~r)+f[12]-1926607734|0,s=(s<<20|s>>>12)+m|0,r+=(s^m^w)+f[5]-378558|0,r=(r<<4|r>>>28)+s|0,w+=(r^s^m)+f[8]-2022574463|0,w=(w<<11|w>>>21)+r|0,m+=(w^r^s)+f[11]+1839030562|0,m=(m<<16|m>>>16)+w|0,s+=(m^w^r)+f[14]-35309556|0,s=(s<<23|s>>>9)+m|0,r+=(s^m^w)+f[1]-1530992060|0,r=(r<<4|r>>>28)+s|0,w+=(r^s^m)+f[4]+1272893353|0,w=(w<<11|w>>>21)+r|0,m+=(w^r^s)+f[7]-155497632|0,m=(m<<16|m>>>16)+w|0,s+=(m^w^r)+f[10]-1094730640|0,s=(s<<23|s>>>9)+m|0,r+=(s^m^w)+f[13]+681279174|0,r=(r<<4|r>>>28)+s|0,w+=(r^s^m)+f[0]-358537222|0,w=(w<<11|w>>>21)+r|0,m+=(w^r^s)+f[3]-722521979|0,m=(m<<16|m>>>16)+w|0,s+=(m^w^r)+f[6]+76029189|0,s=(s<<23|s>>>9)+m|0,r+=(s^m^w)+f[9]-640364487|0,r=(r<<4|r>>>28)+s|0,w+=(r^s^m)+f[12]-421815835|0,w=(w<<11|w>>>21)+r|0,m+=(w^r^s)+f[15]+530742520|0,m=(m<<16|m>>>16)+w|0,s+=(m^w^r)+f[2]-995338651|0,s=(s<<23|s>>>9)+m|0,r+=(m^(s|~w))+f[0]-198630844|0,r=(r<<6|r>>>26)+s|0,w+=(s^(r|~m))+f[7]+1126891415|0,w=(w<<10|w>>>22)+r|0,m+=(r^(w|~s))+f[14]-1416354905|0,m=(m<<15|m>>>17)+w|0,s+=(w^(m|~r))+f[5]-57434055|0,s=(s<<21|s>>>11)+m|0,r+=(m^(s|~w))+f[12]+1700485571|0,r=(r<<6|r>>>26)+s|0,w+=(s^(r|~m))+f[3]-1894986606|0,w=(w<<10|w>>>22)+r|0,m+=(r^(w|~s))+f[10]-1051523|0,m=(m<<15|m>>>17)+w|0,s+=(w^(m|~r))+f[1]-2054922799|0,s=(s<<21|s>>>11)+m|0,r+=(m^(s|~w))+f[8]+1873313359|0,r=(r<<6|r>>>26)+s|0,w+=(s^(r|~m))+f[15]-30611744|0,w=(w<<10|w>>>22)+r|0,m+=(r^(w|~s))+f[6]-1560198380|0,m=(m<<15|m>>>17)+w|0,s+=(w^(m|~r))+f[13]+1309151649|0,s=(s<<21|s>>>11)+m|0,r+=(m^(s|~w))+f[4]-145523070|0,r=(r<<6|r>>>26)+s|0,w+=(s^(r|~m))+f[11]-1120210379|0,w=(w<<10|w>>>22)+r|0,m+=(r^(w|~s))+f[2]+718787259|0,m=(m<<15|m>>>17)+w|0,s+=(w^(m|~r))+f[9]-343485551|0,s=(s<<21|s>>>11)+m|0,i[0]=r+i[0]|0,i[1]=s+i[1]|0,i[2]=m+i[2]|0,i[3]=w+i[3]|0}function p(i){var f=[],r;for(r=0;r<64;r+=4)f[r>>2]=i.charCodeAt(r)+(i.charCodeAt(r+1)<<8)+(i.charCodeAt(r+2)<<16)+(i.charCodeAt(r+3)<<24);return f}function u(i){var f=[],r;for(r=0;r<64;r+=4)f[r>>2]=i[r]+(i[r+1]<<8)+(i[r+2]<<16)+(i[r+3]<<24);return f}function a(i){var f=i.length,r=[1732584193,-271733879,-1732584194,271733878],s,m,w,T,D,P;for(s=64;s<=f;s+=64)h(r,p(i.substring(s-64,s)));for(i=i.substring(s-64),m=i.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)w[s>>2]|=i.charCodeAt(s)<<(s%4<<3);if(w[s>>2]|=128<<(s%4<<3),s>55)for(h(r,w),s=0;s<16;s+=1)w[s]=0;return T=f*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(T[2],16),P=parseInt(T[1],16)||0,w[14]=D,w[15]=P,h(r,w),r}function c(i){var f=i.length,r=[1732584193,-271733879,-1732584194,271733878],s,m,w,T,D,P;for(s=64;s<=f;s+=64)h(r,u(i.subarray(s-64,s)));for(i=s-64<f?i.subarray(s-64):new Uint8Array(0),m=i.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)w[s>>2]|=i[s]<<(s%4<<3);if(w[s>>2]|=128<<(s%4<<3),s>55)for(h(r,w),s=0;s<16;s+=1)w[s]=0;return T=f*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(T[2],16),P=parseInt(T[1],16)||0,w[14]=D,w[15]=P,h(r,w),r}function g(i){var f="",r;for(r=0;r<4;r+=1)f+=y[i>>r*8+4&15]+y[i>>r*8&15];return f}function l(i){var f;for(f=0;f<i.length;f+=1)i[f]=g(i[f]);return i.join("")}l(a("hello")),typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&(function(){function i(f,r){return f=f|0||0,f<0?Math.max(f+r,0):Math.min(f,r)}ArrayBuffer.prototype.slice=function(f,r){var s=this.byteLength,m=i(f,s),w=s,T,D,P,W;return r!==n&&(w=i(r,s)),m>w?new ArrayBuffer(0):(T=w-m,D=new ArrayBuffer(T),P=new Uint8Array(D),W=new Uint8Array(this,m,T),P.set(W),D)}})();function v(i){return/[\u0080-\uFFFF]/.test(i)&&(i=unescape(encodeURIComponent(i))),i}function E(i,f){var r=i.length,s=new ArrayBuffer(r),m=new Uint8Array(s),w;for(w=0;w<r;w+=1)m[w]=i.charCodeAt(w);return f?m:s}function d(i){return String.fromCharCode.apply(null,new Uint8Array(i))}function A(i,f,r){var s=new Uint8Array(i.byteLength+f.byteLength);return s.set(new Uint8Array(i)),s.set(new Uint8Array(f),i.byteLength),s}function o(i){var f=[],r=i.length,s;for(s=0;s<r-1;s+=2)f.push(parseInt(i.substr(s,2),16));return String.fromCharCode.apply(String,f)}function _(){this.reset()}return _.prototype.append=function(i){return this.appendBinary(v(i)),this},_.prototype.appendBinary=function(i){this._buff+=i,this._length+=i.length;var f=this._buff.length,r;for(r=64;r<=f;r+=64)h(this._hash,p(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},_.prototype.end=function(i){var f=this._buff,r=f.length,s,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w;for(s=0;s<r;s+=1)m[s>>2]|=f.charCodeAt(s)<<(s%4<<3);return this._finish(m,r),w=l(this._hash),i&&(w=o(w)),this.reset(),w},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},_.prototype.setState=function(i){return this._buff=i.buff,this._length=i.length,this._hash=i.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(i,f){var r=f,s,m,w;if(i[r>>2]|=128<<(r%4<<3),r>55)for(h(this._hash,i),r=0;r<16;r+=1)i[r]=0;s=this._length*8,s=s.toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(s[2],16),w=parseInt(s[1],16)||0,i[14]=m,i[15]=w,h(this._hash,i)},_.hash=function(i,f){return _.hashBinary(v(i),f)},_.hashBinary=function(i,f){var r=a(i),s=l(r);return f?o(s):s},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(i){var f=A(this._buff.buffer,i),r=f.length,s;for(this._length+=i.byteLength,s=64;s<=r;s+=64)h(this._hash,u(f.subarray(s-64,s)));return this._buff=s-64<r?new Uint8Array(f.buffer.slice(s-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(i){var f=this._buff,r=f.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m,w;for(m=0;m<r;m+=1)s[m>>2]|=f[m]<<(m%4<<3);return this._finish(s,r),w=l(this._hash),i&&(w=o(w)),this.reset(),w},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var i=_.prototype.getState.call(this);return i.buff=d(i.buff),i},_.ArrayBuffer.prototype.setState=function(i){return i.buff=E(i.buff,!0),_.prototype.setState.call(this,i)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(i,f){var r=c(new Uint8Array(i)),s=l(r);return f?o(s):s},_})})(Me)),Me.exports}var Un=Fn();const Mn=lt(Un),qt=(b,k={})=>document.dispatchEvent(new CustomEvent(b,{detail:k})),Gr=(b,k={})=>new Promise((n,y)=>{const h=document.createElement("script");h.type="text/javascript",k.domProps&&Object.assign(h,k.domProps),k.meta&&Object.assign(h.dataset,k.meta),document.body.appendChild(h),h.addEventListener("load",()=>{n(void 0)}),h.addEventListener("error",p=>{y(p)}),typeof b!="string"?h.src=URL.createObjectURL(b):(h.innerHTML=b,setTimeout(()=>n(void 0),50))}),Wr=(b,k)=>{var n,y;if(typeof b=="string"){const h=document.createElement("style");h.innerHTML=b,Object.assign(h.dataset,k),((n=document.head)!=null?n:document.getElementsByTagName("head")).appendChild(h)}else{const h=document.createElement("link");h.rel="stylesheet",h.href=URL.createObjectURL(b),Object.assign(h.dataset,k),((y=document.head)!=null?y:document.getElementsByTagName("head")).appendChild(h)}},jn=b=>b.id!==void 0&&b.name!==void 0&&b.author!==void 0&&b.version!==void 0&&jt.valid(jt.clean(b.version)),qn=(b,k)=>{var u,a;const n=b.dependencies!==void 0&&Object.keys(b.dependencies).length>0,y=k.dependencies!==void 0&&Object.keys(k.dependencies).length>0;if(n!==y)return n?1:-1;const h=(u=b.priority)!=null?u:1e3,p=(a=k.priority)!=null?a:1e3;return h-p},Gn=(b,k=2097152)=>new Promise((n,y)=>{const h=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,p=Math.ceil(b.size/k),u=new Mn.ArrayBuffer,a=new FileReader;let c=0;a.onload=l=>{u.append(l.target.result),c++,c<p?g():(n(u.end()),u.destroy())},a.onerror=l=>{y(l)};function g(){const l=c*k,v=l+k<b.size?l+k:b.size;a.readAsArrayBuffer(h.call(b,l,v))}g()}),Wn=b=>{const{stats:k,mods:n,version:y}=window.YASCML;if(b.designedFor!==void 0&&k.gameName!==b.designedFor)return console.warn(`Mod "${b.id}" is designed for "${b.designedFor}", but it's running on "${k.gameName}". This mod will not be loaded.`),!1;if(b.dependencies===void 0)return!0;for(const h in b.dependencies){if(h==="yascml"){if(jt.satisfies(y,b.dependencies[h]))continue;return console.warn(`Mod "${b.id}" requires loader v${y}, but found v${y}. This mod will not be loaded.`),!1}const p=n.find(a=>a.id===h);if(!p)return console.warn(`Mod "${b.id}" requires dependency "${h}", but it's not installed. This mod will not be loaded.`),!1;if(!p.enabled)return console.warn(`Mod "${b.id}" requires dependency "${h}", but it's not enabled. This mod will not be loaded.`),!1;if(!p.suitable)return console.warn(`Mod "${b.id}" requires dependency "${h}", but it's not suitable for now. This mod will not be loaded.`),!1;const u=b.dependencies[h];if(!jt.satisfies(p.version,u))return console.warn(`Mod "${b.id}" requires dependency "${h} v${u}", but found v${p.version}. This mod will not be loaded.`),!1}return!0},Zn=b=>{const k=document.createElement("div");return k.innerHTML=b,k.innerHTML};Wr(["@keyframes _YASCML_BLINK_ {","from { opacity: 1; }","to { opacity: 0; }","}"].join(`
`));const Yn=()=>{const b=document.createElement("div");b.id="yascml-loading",b.innerText="YASCML v1.0.0 Loading...",b.style=["display: block","position: fixed","top: 0","left: 0","font: 1em Helmet,Freesans,sans-serif","color: #eee","text-align: left","z-index: 500000","animation-name: _YASCML_BLINK_","animation-duration: 1s","animation-iteration-count: infinite","animation-timing-function: linear","animation-direction: alternate"].join(";"),document.body.appendChild(b)},vt=b=>{const k=document.querySelector("div#yascml-loading");k&&(k.innerText=`[YASCML] ${b}`)},Zr=()=>{document.querySelector("div#yascml-loading")&&document.body.removeChild(document.querySelector("div#yascml-loading"))};function pt(b){return new Promise((k,n)=>{b.oncomplete=b.onsuccess=()=>k(b.result),b.onabort=b.onerror=()=>n(b.error)})}function je(b,k){let n;const y=()=>{if(n)return n;const h=indexedDB.open(b);return h.onupgradeneeded=()=>h.result.createObjectStore(k),n=pt(h),n.then(p=>{p.onclose=()=>n=void 0},()=>{}),n};return(h,p)=>y().then(u=>p(u.transaction(k,h).objectStore(k)))}let qe;function wt(){return qe||(qe=je("keyval-store","keyval")),qe}function Yr(b,k=wt()){return k("readonly",n=>pt(n.get(b)))}function Hr(b,k,n=wt()){return n("readwrite",y=>(y.put(k,b),pt(y.transaction)))}function Hn(b,k=wt()){return k("readwrite",n=>(b.forEach(y=>n.put(y[1],y[0])),pt(n.transaction)))}function Xn(b,k=wt()){return k("readonly",n=>Promise.all(b.map(y=>pt(n.get(y)))))}function Xr(b,k,n=wt()){return n("readwrite",y=>new Promise((h,p)=>{y.get(b).onsuccess=function(){try{y.put(k(this.result),b),h(pt(y.transaction))}catch(u){p(u)}}}))}function Vr(b,k=wt()){return k("readwrite",n=>(n.delete(b),pt(n.transaction)))}function Vn(b,k=wt()){return k("readwrite",n=>(b.forEach(y=>n.delete(y)),pt(n.transaction)))}function Kn(b=wt()){return b("readwrite",k=>(k.clear(),pt(k.transaction)))}function Ge(b,k){return b.openCursor().onsuccess=function(){this.result&&(k(this.result),this.result.continue())},pt(b.transaction)}function Kr(b=wt()){return b("readonly",k=>{if(k.getAllKeys)return pt(k.getAllKeys());const n=[];return Ge(k,y=>n.push(y.key)).then(()=>n)})}function Jn(b=wt()){return b("readonly",k=>{if(k.getAll)return pt(k.getAll());const n=[];return Ge(k,y=>n.push(y.value)).then(()=>n)})}function Qn(b=wt()){return b("readonly",k=>{if(k.getAll&&k.getAllKeys)return Promise.all([pt(k.getAllKeys()),pt(k.getAll())]).then(([y,h])=>y.map((p,u)=>[p,h[u]]));const n=[];return b("readonly",y=>Ge(y,h=>n.push([h.key,h.value])).then(()=>n))})}const ti=Object.freeze(Object.defineProperty({__proto__:null,clear:Kn,createStore:je,del:Vr,delMany:Vn,entries:Qn,get:Yr,getMany:Xn,keys:Kr,promisifyRequest:pt,set:Hr,setMany:Hn,update:Xr,values:Jn},Symbol.toStringTag,{value:"Module"}));function Gt(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var We={exports:{}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */var Jr;function ei(){return Jr||(Jr=1,(function(b,k){(function(n){b.exports=n()})(function(){return(function n(y,h,p){function u(g,l){if(!h[g]){if(!y[g]){var v=typeof Gt=="function"&&Gt;if(!l&&v)return v(g,!0);if(a)return a(g,!0);var E=new Error("Cannot find module '"+g+"'");throw E.code="MODULE_NOT_FOUND",E}var d=h[g]={exports:{}};y[g][0].call(d.exports,function(A){var o=y[g][1][A];return u(o||A)},d,d.exports,n,y,h,p)}return h[g].exports}for(var a=typeof Gt=="function"&&Gt,c=0;c<p.length;c++)u(p[c]);return u})({1:[function(n,y,h){var p=n("./utils"),u=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(c){for(var g,l,v,E,d,A,o,_=[],i=0,f=c.length,r=f,s=p.getTypeOf(c)!=="string";i<c.length;)r=f-i,v=s?(g=c[i++],l=i<f?c[i++]:0,i<f?c[i++]:0):(g=c.charCodeAt(i++),l=i<f?c.charCodeAt(i++):0,i<f?c.charCodeAt(i++):0),E=g>>2,d=(3&g)<<4|l>>4,A=1<r?(15&l)<<2|v>>6:64,o=2<r?63&v:64,_.push(a.charAt(E)+a.charAt(d)+a.charAt(A)+a.charAt(o));return _.join("")},h.decode=function(c){var g,l,v,E,d,A,o=0,_=0,i="data:";if(c.substr(0,i.length)===i)throw new Error("Invalid base64 input, it looks like a data url.");var f,r=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&r--,c.charAt(c.length-2)===a.charAt(64)&&r--,r%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=u.uint8array?new Uint8Array(0|r):new Array(0|r);o<c.length;)g=a.indexOf(c.charAt(o++))<<2|(E=a.indexOf(c.charAt(o++)))>>4,l=(15&E)<<4|(d=a.indexOf(c.charAt(o++)))>>2,v=(3&d)<<6|(A=a.indexOf(c.charAt(o++))),f[_++]=g,d!==64&&(f[_++]=l),A!==64&&(f[_++]=v);return f}},{"./support":30,"./utils":32}],2:[function(n,y,h){var p=n("./external"),u=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function g(l,v,E,d,A){this.compressedSize=l,this.uncompressedSize=v,this.crc32=E,this.compression=d,this.compressedContent=A}g.prototype={getContentWorker:function(){var l=new u(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),v=this;return l.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new u(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(l,v,E){return l.pipe(new a).pipe(new c("uncompressedSize")).pipe(v.compressWorker(E)).pipe(new c("compressedSize")).withStreamInfo("compression",v)},y.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,y,h){var p=n("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},h.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,y,h){var p=n("./utils"),u=(function(){for(var a,c=[],g=0;g<256;g++){a=g;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;c[g]=a}return c})();y.exports=function(a,c){return a!==void 0&&a.length?p.getTypeOf(a)!=="string"?(function(g,l,v,E){var d=u,A=E+v;g^=-1;for(var o=E;o<A;o++)g=g>>>8^d[255&(g^l[o])];return-1^g})(0|c,a,a.length,0):(function(g,l,v,E){var d=u,A=E+v;g^=-1;for(var o=E;o<A;o++)g=g>>>8^d[255&(g^l.charCodeAt(o))];return-1^g})(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(n,y,h){h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(n,y,h){var p=null;p=typeof Promise!="undefined"?Promise:n("lie"),y.exports={Promise:p}},{lie:37}],7:[function(n,y,h){var p=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",u=n("pako"),a=n("./utils"),c=n("./stream/GenericWorker"),g=p?"uint8array":"array";function l(v,E){c.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=E,this.meta={}}h.magic="\b\0",a.inherits(l,c),l.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(g,v.data),!1)},l.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(E){v.push({data:E,meta:v.meta})}},h.compressWorker=function(v){return new l("Deflate",v)},h.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,y,h){function p(d,A){var o,_="";for(o=0;o<A;o++)_+=String.fromCharCode(255&d),d>>>=8;return _}function u(d,A,o,_,i,f){var r,s,m=d.file,w=d.compression,T=f!==g.utf8encode,D=a.transformTo("string",f(m.name)),P=a.transformTo("string",g.utf8encode(m.name)),W=m.comment,Q=a.transformTo("string",f(W)),I=a.transformTo("string",g.utf8encode(W)),F=P.length!==m.name.length,e=I.length!==W.length,C="",G="",N="",Y=m.dir,z=m.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};A&&!o||(Z.crc32=d.crc32,Z.compressedSize=d.compressedSize,Z.uncompressedSize=d.uncompressedSize);var L=0;A&&(L|=8),T||!F&&!e||(L|=2048);var x=0,K=0;Y&&(x|=16),i==="UNIX"?(K=798,x|=(function(q,it){var ht=q;return q||(ht=it?16893:33204),(65535&ht)<<16})(m.unixPermissions,Y)):(K=20,x|=(function(q){return 63&(q||0)})(m.dosPermissions)),r=z.getUTCHours(),r<<=6,r|=z.getUTCMinutes(),r<<=5,r|=z.getUTCSeconds()/2,s=z.getUTCFullYear()-1980,s<<=4,s|=z.getUTCMonth()+1,s<<=5,s|=z.getUTCDate(),F&&(G=p(1,1)+p(l(D),4)+P,C+="up"+p(G.length,2)+G),e&&(N=p(1,1)+p(l(Q),4)+I,C+="uc"+p(N.length,2)+N);var V="";return V+=`
\0`,V+=p(L,2),V+=w.magic,V+=p(r,2),V+=p(s,2),V+=p(Z.crc32,4),V+=p(Z.compressedSize,4),V+=p(Z.uncompressedSize,4),V+=p(D.length,2),V+=p(C.length,2),{fileRecord:v.LOCAL_FILE_HEADER+V+D+C,dirRecord:v.CENTRAL_FILE_HEADER+p(K,2)+V+p(Q.length,2)+"\0\0\0\0"+p(x,4)+p(_,4)+D+C+Q}}var a=n("../utils"),c=n("../stream/GenericWorker"),g=n("../utf8"),l=n("../crc32"),v=n("../signature");function E(d,A,o,_){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=o,this.encodeFileName=_,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(E,c),E.prototype.push=function(d){var A=d.meta.percent||0,o=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,c.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:o?(A+100*(o-_-1))/o:100}}))},E.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var A=this.streamFiles&&!d.file.dir;if(A){var o=u(d,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(d){this.accumulate=!1;var A=this.streamFiles&&!d.file.dir,o=u(d,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),A)this.push({data:(function(_){return v.DATA_DESCRIPTOR+p(_.crc32,4)+p(_.compressedSize,4)+p(_.uncompressedSize,4)})(d),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var d=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var o=this.bytesWritten-d,_=(function(i,f,r,s,m){var w=a.transformTo("string",m(s));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(i,2)+p(i,2)+p(f,4)+p(r,4)+p(w.length,2)+w})(this.dirRecords.length,o,d,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(d){this._sources.push(d);var A=this;return d.on("data",function(o){A.processChunk(o)}),d.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),d.on("error",function(o){A.error(o)}),this},E.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(d){var A=this._sources;if(!c.prototype.error.call(this,d))return!1;for(var o=0;o<A.length;o++)try{A[o].error(d)}catch(_){}return!0},E.prototype.lock=function(){c.prototype.lock.call(this);for(var d=this._sources,A=0;A<d.length;A++)d[A].lock()},y.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,y,h){var p=n("../compressions"),u=n("./ZipFileWorker");h.generateWorker=function(a,c,g){var l=new u(c.streamFiles,g,c.platform,c.encodeFileName),v=0;try{a.forEach(function(E,d){v++;var A=(function(f,r){var s=f||r,m=p[s];if(!m)throw new Error(s+" is not a valid compression method !");return m})(d.options.compression,c.compression),o=d.options.compressionOptions||c.compressionOptions||{},_=d.dir,i=d.date;d._compressWorker(A,o).withStreamInfo("file",{name:E,dir:_,date:i,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(l)}),l.entriesCount=v}catch(E){l.error(E)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,y,h){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new p;for(var a in this)typeof this[a]!="function"&&(u[a]=this[a]);return u}}(p.prototype=n("./object")).loadAsync=n("./load"),p.support=n("./support"),p.defaults=n("./defaults"),p.version="3.10.1",p.loadAsync=function(u,a){return new p().loadAsync(u,a)},p.external=n("./external"),y.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,y,h){var p=n("./utils"),u=n("./external"),a=n("./utf8"),c=n("./zipEntries"),g=n("./stream/Crc32Probe"),l=n("./nodejsUtils");function v(E){return new u.Promise(function(d,A){var o=E.decompressed.getContentWorker().pipe(new g);o.on("error",function(_){A(_)}).on("end",function(){o.streamInfo.crc32!==E.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}y.exports=function(E,d){var A=this;return d=p.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(E)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",E,!0,d.optimizedBinaryString,d.base64).then(function(o){var _=new c(d);return _.load(o),_}).then(function(o){var _=[u.Promise.resolve(o)],i=o.files;if(d.checkCRC32)for(var f=0;f<i.length;f++)_.push(v(i[f]));return u.Promise.all(_)}).then(function(o){for(var _=o.shift(),i=_.files,f=0;f<i.length;f++){var r=i[f],s=r.fileNameStr,m=p.resolve(r.fileNameStr);A.file(m,r.decompressed,{binary:!0,optimizedBinaryString:!0,date:r.date,dir:r.dir,comment:r.fileCommentStr.length?r.fileCommentStr:null,unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions,createFolders:d.createFolders}),r.dir||(A.file(m).unsafeOriginalName=s)}return _.zipComment.length&&(A.comment=_.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,y,h){var p=n("../utils"),u=n("../stream/GenericWorker");function a(c,g){u.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(g)}p.inherits(a,u),a.prototype._bindStream=function(c){var g=this;(this._stream=c).pause(),c.on("data",function(l){g.push({data:l,meta:{percent:0}})}).on("error",function(l){g.isPaused?this.generatedError=l:g.error(l)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},a.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},y.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,y,h){var p=n("readable-stream").Readable;function u(a,c,g){p.call(this,c),this._helper=a;var l=this;a.on("data",function(v,E){l.push(v)||l._helper.pause(),g&&g(E)}).on("error",function(v){l.emit("error",v)}).on("end",function(){l.push(null)})}n("../utils").inherits(u,p),u.prototype._read=function(){this._helper.resume()},y.exports=u},{"../utils":32,"readable-stream":16}],14:[function(n,y,h){y.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(p,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(p,u);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new Buffer(p,u)},allocBuffer:function(p){if(Buffer.alloc)return Buffer.alloc(p);var u=new Buffer(p);return u.fill(0),u},isBuffer:function(p){return Buffer.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(n,y,h){function p(m,w,T){var D,P=a.getTypeOf(w),W=a.extend(T||{},l);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(m=i(m)),W.createFolders&&(D=_(m))&&f.call(this,D,!0);var Q=P==="string"&&W.binary===!1&&W.base64===!1;T&&T.binary!==void 0||(W.binary=!Q),(w instanceof v&&w.uncompressedSize===0||W.dir||!w||w.length===0)&&(W.base64=!1,W.binary=!0,w="",W.compression="STORE",P="string");var I=null;I=w instanceof v||w instanceof c?w:A.isNode&&A.isStream(w)?new o(m,w):a.prepareContent(m,w,W.binary,W.optimizedBinaryString,W.base64);var F=new E(m,I,W);this.files[m]=F}var u=n("./utf8"),a=n("./utils"),c=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),l=n("./defaults"),v=n("./compressedObject"),E=n("./zipObject"),d=n("./generate"),A=n("./nodejsUtils"),o=n("./nodejs/NodejsStreamInputAdapter"),_=function(m){m.slice(-1)==="/"&&(m=m.substring(0,m.length-1));var w=m.lastIndexOf("/");return 0<w?m.substring(0,w):""},i=function(m){return m.slice(-1)!=="/"&&(m+="/"),m},f=function(m,w){return w=w!==void 0?w:l.createFolders,m=i(m),this.files[m]||p.call(this,m,null,{dir:!0,createFolders:w}),this.files[m]};function r(m){return Object.prototype.toString.call(m)==="[object RegExp]"}var s={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(m){var w,T,D;for(w in this.files)D=this.files[w],(T=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&m(T,D)},filter:function(m){var w=[];return this.forEach(function(T,D){m(T,D)&&w.push(D)}),w},file:function(m,w,T){if(arguments.length!==1)return m=this.root+m,p.call(this,m,w,T),this;if(r(m)){var D=m;return this.filter(function(W,Q){return!Q.dir&&D.test(W)})}var P=this.files[this.root+m];return P&&!P.dir?P:null},folder:function(m){if(!m)return this;if(r(m))return this.filter(function(P,W){return W.dir&&m.test(P)});var w=this.root+m,T=f.call(this,w),D=this.clone();return D.root=T.name,D},remove:function(m){m=this.root+m;var w=this.files[m];if(w||(m.slice(-1)!=="/"&&(m+="/"),w=this.files[m]),w&&!w.dir)delete this.files[m];else for(var T=this.filter(function(P,W){return W.name.slice(0,m.length)===m}),D=0;D<T.length;D++)delete this.files[T[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(m){var w,T={};try{if((T=a.extend(m||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var D=T.comment||this.comment||"";w=d.generateWorker(this,T,D)}catch(P){(w=new c("error")).error(P)}return new g(w,T.type||"string",T.mimeType)},generateAsync:function(m,w){return this.generateInternalStream(m).accumulate(w)},generateNodeStream:function(m,w){return(m=m||{}).type||(m.type="nodebuffer"),this.generateInternalStream(m).toNodejsStream(w)}};y.exports=s},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,y,h){y.exports=n("stream")},{stream:void 0}],17:[function(n,y,h){var p=n("./DataReader");function u(a){p.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}n("../utils").inherits(u,p),u.prototype.byteAt=function(a){return this.data[this.zero+a]},u.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),g=a.charCodeAt(1),l=a.charCodeAt(2),v=a.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===c&&this.data[E+1]===g&&this.data[E+2]===l&&this.data[E+3]===v)return E-this.zero;return-1},u.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),g=a.charCodeAt(1),l=a.charCodeAt(2),v=a.charCodeAt(3),E=this.readData(4);return c===E[0]&&g===E[1]&&l===E[2]&&v===E[3]},u.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},y.exports=u},{"../utils":32,"./DataReader":18}],18:[function(n,y,h){var p=n("../utils");function u(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,g=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)g=(g<<8)+this.byteAt(c);return this.index+=a,g},readString:function(a){return p.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},y.exports=u},{"../utils":32}],19:[function(n,y,h){var p=n("./Uint8ArrayReader");function u(a){p.call(this,a)}n("../utils").inherits(u,p),u.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},y.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,y,h){var p=n("./DataReader");function u(a){p.call(this,a)}n("../utils").inherits(u,p),u.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},u.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},u.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},u.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},y.exports=u},{"../utils":32,"./DataReader":18}],21:[function(n,y,h){var p=n("./ArrayReader");function u(a){p.call(this,a)}n("../utils").inherits(u,p),u.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},y.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(n,y,h){var p=n("../utils"),u=n("../support"),a=n("./ArrayReader"),c=n("./StringReader"),g=n("./NodeBufferReader"),l=n("./Uint8ArrayReader");y.exports=function(v){var E=p.getTypeOf(v);return p.checkSupport(E),E!=="string"||u.uint8array?E==="nodebuffer"?new g(v):u.uint8array?new l(p.transformTo("uint8array",v)):new a(p.transformTo("array",v)):new c(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,y,h){h.LOCAL_FILE_HEADER="PK",h.CENTRAL_FILE_HEADER="PK",h.CENTRAL_DIRECTORY_END="PK",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,y,h){var p=n("./GenericWorker"),u=n("../utils");function a(c){p.call(this,"ConvertWorker to "+c),this.destType=c}u.inherits(a,p),a.prototype.processChunk=function(c){this.push({data:u.transformTo(this.destType,c.data),meta:c.meta})},y.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,y,h){var p=n("./GenericWorker"),u=n("../crc32");function a(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,p),a.prototype.processChunk=function(c){this.streamInfo.crc32=u(c.data,this.streamInfo.crc32||0),this.push(c)},y.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,y,h){var p=n("../utils"),u=n("./GenericWorker");function a(c){u.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}p.inherits(a,u),a.prototype.processChunk=function(c){if(c){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+c.data.length}u.prototype.processChunk.call(this,c)},y.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,y,h){var p=n("../utils"),u=n("./GenericWorker");function a(c){u.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(l){g.dataIsReady=!0,g.data=l,g.max=l&&l.length||0,g.type=p.getTypeOf(l),g.isPaused||g._tickAndRepeat()},function(l){g.error(l)})}p.inherits(a,u),a.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,g);break;case"uint8array":c=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":c=this.data.slice(this.index,g)}return this.index=g,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},y.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,y,h){function p(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,a){return this._listeners[u].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,a){if(this._listeners[u])for(var c=0;c<this._listeners[u].length;c++)this._listeners[u][c].call(this,a)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var a=this;return u.on("data",function(c){a.processChunk(c)}),u.on("end",function(){a.end()}),u.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,a){return this.extraStreamInfo[u]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},y.exports=p},{}],29:[function(n,y,h){var p=n("../utils"),u=n("./ConvertWorker"),a=n("./GenericWorker"),c=n("../base64"),g=n("../support"),l=n("../external"),v=null;if(g.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch(A){}function E(A,o){return new l.Promise(function(_,i){var f=[],r=A._internalType,s=A._outputType,m=A._mimeType;A.on("data",function(w,T){f.push(w),o&&o(T)}).on("error",function(w){f=[],i(w)}).on("end",function(){try{var w=(function(T,D,P){switch(T){case"blob":return p.newBlob(p.transformTo("arraybuffer",D),P);case"base64":return c.encode(D);default:return p.transformTo(T,D)}})(s,(function(T,D){var P,W=0,Q=null,I=0;for(P=0;P<D.length;P++)I+=D[P].length;switch(T){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(Q=new Uint8Array(I),P=0;P<D.length;P++)Q.set(D[P],W),W+=D[P].length;return Q;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+T+"'")}})(r,f),m);_(w)}catch(T){i(T)}f=[]}).resume()})}function d(A,o,_){var i=o;switch(o){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=o,this._mimeType=_,p.checkSupport(i),this._worker=A.pipe(new u(i)),A.lock()}catch(f){this._worker=new a("error"),this._worker.error(f)}}d.prototype={accumulate:function(A){return E(this,A)},on:function(A,o){var _=this;return A==="data"?this._worker.on(A,function(i){o.call(_,i.data,i.meta)}):this._worker.on(A,function(){p.delay(o,arguments,_)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},A)}},y.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,y,h){if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",h.nodebuffer=typeof Buffer!="undefined",h.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")h.blob=!1;else{var p=new ArrayBuffer(0);try{h.blob=new Blob([p],{type:"application/zip"}).size===0}catch(a){try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(p),h.blob=u.getBlob("application/zip").size===0}catch(c){h.blob=!1}}}try{h.nodestream=!!n("readable-stream").Readable}catch(a){h.nodestream=!1}},{"readable-stream":16}],31:[function(n,y,h){for(var p=n("./utils"),u=n("./support"),a=n("./nodejsUtils"),c=n("./stream/GenericWorker"),g=new Array(256),l=0;l<256;l++)g[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;g[254]=g[254]=1;function v(){c.call(this,"utf-8 decode"),this.leftOver=null}function E(){c.call(this,"utf-8 encode")}h.utf8encode=function(d){return u.nodebuffer?a.newBufferFrom(d,"utf-8"):(function(A){var o,_,i,f,r,s=A.length,m=0;for(f=0;f<s;f++)(64512&(_=A.charCodeAt(f)))==55296&&f+1<s&&(64512&(i=A.charCodeAt(f+1)))==56320&&(_=65536+(_-55296<<10)+(i-56320),f++),m+=_<128?1:_<2048?2:_<65536?3:4;for(o=u.uint8array?new Uint8Array(m):new Array(m),f=r=0;r<m;f++)(64512&(_=A.charCodeAt(f)))==55296&&f+1<s&&(64512&(i=A.charCodeAt(f+1)))==56320&&(_=65536+(_-55296<<10)+(i-56320),f++),_<128?o[r++]=_:(_<2048?o[r++]=192|_>>>6:(_<65536?o[r++]=224|_>>>12:(o[r++]=240|_>>>18,o[r++]=128|_>>>12&63),o[r++]=128|_>>>6&63),o[r++]=128|63&_);return o})(d)},h.utf8decode=function(d){return u.nodebuffer?p.transformTo("nodebuffer",d).toString("utf-8"):(function(A){var o,_,i,f,r=A.length,s=new Array(2*r);for(o=_=0;o<r;)if((i=A[o++])<128)s[_++]=i;else if(4<(f=g[i]))s[_++]=65533,o+=f-1;else{for(i&=f===2?31:f===3?15:7;1<f&&o<r;)i=i<<6|63&A[o++],f--;1<f?s[_++]=65533:i<65536?s[_++]=i:(i-=65536,s[_++]=55296|i>>10&1023,s[_++]=56320|1023&i)}return s.length!==_&&(s.subarray?s=s.subarray(0,_):s.length=_),p.applyFromCharCode(s)})(d=p.transformTo(u.uint8array?"uint8array":"array",d))},p.inherits(v,c),v.prototype.processChunk=function(d){var A=p.transformTo(u.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var o=A;(A=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),A.set(o,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var _=(function(f,r){var s;for((r=r||f.length)>f.length&&(r=f.length),s=r-1;0<=s&&(192&f[s])==128;)s--;return s<0||s===0?r:s+g[f[s]]>r?s:r})(A),i=A;_!==A.length&&(u.uint8array?(i=A.subarray(0,_),this.leftOver=A.subarray(_,A.length)):(i=A.slice(0,_),this.leftOver=A.slice(_,A.length))),this.push({data:h.utf8decode(i),meta:d.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=v,p.inherits(E,c),E.prototype.processChunk=function(d){this.push({data:h.utf8encode(d.data),meta:d.meta})},h.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,y,h){var p=n("./support"),u=n("./base64"),a=n("./nodejsUtils"),c=n("./external");function g(o){return o}function l(o,_){for(var i=0;i<o.length;++i)_[i]=255&o.charCodeAt(i);return _}n("setimmediate"),h.newBlob=function(o,_){h.checkSupport("blob");try{return new Blob([o],{type:_})}catch(f){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(o),i.getBlob(_)}catch(r){throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(o,_,i){var f=[],r=0,s=o.length;if(s<=i)return String.fromCharCode.apply(null,o);for(;r<s;)_==="array"||_==="nodebuffer"?f.push(String.fromCharCode.apply(null,o.slice(r,Math.min(r+i,s)))):f.push(String.fromCharCode.apply(null,o.subarray(r,Math.min(r+i,s)))),r+=i;return f.join("")},stringifyByChar:function(o){for(var _="",i=0;i<o.length;i++)_+=String.fromCharCode(o[i]);return _},applyCanBeUsed:{uint8array:(function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(o){return!1}})(),nodebuffer:(function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch(o){return!1}})()}};function E(o){var _=65536,i=h.getTypeOf(o),f=!0;if(i==="uint8array"?f=v.applyCanBeUsed.uint8array:i==="nodebuffer"&&(f=v.applyCanBeUsed.nodebuffer),f)for(;1<_;)try{return v.stringifyByChunk(o,i,_)}catch(r){_=Math.floor(_/2)}return v.stringifyByChar(o)}function d(o,_){for(var i=0;i<o.length;i++)_[i]=o[i];return _}h.applyFromCharCode=E;var A={};A.string={string:g,array:function(o){return l(o,new Array(o.length))},arraybuffer:function(o){return A.string.uint8array(o).buffer},uint8array:function(o){return l(o,new Uint8Array(o.length))},nodebuffer:function(o){return l(o,a.allocBuffer(o.length))}},A.array={string:E,array:g,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return a.newBufferFrom(o)}},A.arraybuffer={string:function(o){return E(new Uint8Array(o))},array:function(o){return d(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:g,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return a.newBufferFrom(new Uint8Array(o))}},A.uint8array={string:E,array:function(o){return d(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:g,nodebuffer:function(o){return a.newBufferFrom(o)}},A.nodebuffer={string:E,array:function(o){return d(o,new Array(o.length))},arraybuffer:function(o){return A.nodebuffer.uint8array(o).buffer},uint8array:function(o){return d(o,new Uint8Array(o.length))},nodebuffer:g},h.transformTo=function(o,_){if(_=_||"",!o)return _;h.checkSupport(o);var i=h.getTypeOf(_);return A[i][o](_)},h.resolve=function(o){for(var _=o.split("/"),i=[],f=0;f<_.length;f++){var r=_[f];r==="."||r===""&&f!==0&&f!==_.length-1||(r===".."?i.pop():i.push(r))}return i.join("/")},h.getTypeOf=function(o){return typeof o=="string"?"string":Object.prototype.toString.call(o)==="[object Array]"?"array":p.nodebuffer&&a.isBuffer(o)?"nodebuffer":p.uint8array&&o instanceof Uint8Array?"uint8array":p.arraybuffer&&o instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(o){if(!p[o.toLowerCase()])throw new Error(o+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(o){var _,i,f="";for(i=0;i<(o||"").length;i++)f+="\\x"+((_=o.charCodeAt(i))<16?"0":"")+_.toString(16).toUpperCase();return f},h.delay=function(o,_,i){setImmediate(function(){o.apply(i||null,_||[])})},h.inherits=function(o,_){function i(){}i.prototype=_.prototype,o.prototype=new i},h.extend=function(){var o,_,i={};for(o=0;o<arguments.length;o++)for(_ in arguments[o])Object.prototype.hasOwnProperty.call(arguments[o],_)&&i[_]===void 0&&(i[_]=arguments[o][_]);return i},h.prepareContent=function(o,_,i,f,r){return c.Promise.resolve(_).then(function(s){return p.blob&&(s instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(s))!==-1)&&typeof FileReader!="undefined"?new c.Promise(function(m,w){var T=new FileReader;T.onload=function(D){m(D.target.result)},T.onerror=function(D){w(D.target.error)},T.readAsArrayBuffer(s)}):s}).then(function(s){var m=h.getTypeOf(s);return m?(m==="arraybuffer"?s=h.transformTo("uint8array",s):m==="string"&&(r?s=u.decode(s):i&&f!==!0&&(s=(function(w){return l(w,p.uint8array?new Uint8Array(w.length):new Array(w.length))})(s))),s):c.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,y,h){var p=n("./reader/readerFor"),u=n("./utils"),a=n("./signature"),c=n("./zipEntry"),g=n("./support");function l(v){this.files=[],this.loadOptions=v}l.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(E)+", expected "+u.pretty(v)+")")}},isSignature:function(v,E){var d=this.reader.index;this.reader.setIndex(v);var A=this.reader.readString(4)===E;return this.reader.setIndex(d),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),E=g.uint8array?"uint8array":"array",d=u.transformTo(E,v);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,E,d,A=this.zip64EndOfCentralSize-44;0<A;)v=this.reader.readInt(2),E=this.reader.readInt(4),d=this.reader.readData(E),this.zip64ExtensibleData[v]={id:v,length:E,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,E;for(v=0;v<this.files.length;v++)E=this.files[v],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(v=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var E=v;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var A=E-d;if(0<A)this.isSignature(E,a.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(v){this.reader=p(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},y.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,y,h){var p=n("./reader/readerFor"),u=n("./utils"),a=n("./compressedObject"),c=n("./crc32"),g=n("./utf8"),l=n("./compressions"),v=n("./support");function E(d,A){this.options=d,this.loadOptions=A}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var A,o;if(d.skip(22),this.fileNameLength=d.readInt(2),o=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(o),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=(function(_){for(var i in l)if(Object.prototype.hasOwnProperty.call(l,i)&&l[i].magic===_)return l[i];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,A,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var A=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(A),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=p(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var A,o,_,i=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<i;)A=d.readInt(2),o=d.readInt(2),_=d.readData(o),this.extraFields[A]={id:A,length:o,value:_};d.setIndex(i)},handleUTF8:function(){var d=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var o=u.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var i=u.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var A=p(d.value);return A.readInt(1)!==1||c(this.fileName)!==A.readInt(4)?null:g.utf8decode(A.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var A=p(d.value);return A.readInt(1)!==1||c(this.fileComment)!==A.readInt(4)?null:g.utf8decode(A.readData(d.length-5))}return null}},y.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,y,h){function p(A,o,_){this.name=A,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=o,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var u=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),c=n("./utf8"),g=n("./compressedObject"),l=n("./stream/GenericWorker");p.prototype={internalStream:function(A){var o=null,_="string";try{if(!A)throw new Error("No output type specified.");var i=(_=A.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),o=this._decompressWorker();var f=!this._dataBinary;f&&!i&&(o=o.pipe(new c.Utf8EncodeWorker)),!f&&i&&(o=o.pipe(new c.Utf8DecodeWorker))}catch(r){(o=new l("error")).error(r)}return new u(o,_,"")},async:function(A,o){return this.internalStream(A).accumulate(o)},nodeStream:function(A,o){return this.internalStream(A||"nodebuffer").toNodejsStream(o)},_compressWorker:function(A,o){if(this._data instanceof g&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new c.Utf8EncodeWorker)),g.createWorkerFrom(_,A,o)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<v.length;d++)p.prototype[v[d]]=E;y.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,y,h){(function(p){var u,a,c=p.MutationObserver||p.WebKitMutationObserver;if(c){var g=0,l=new c(A),v=p.document.createTextNode("");l.observe(v,{characterData:!0}),u=function(){v.data=g=++g%2}}else if(p.setImmediate||p.MessageChannel===void 0)u="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var o=p.document.createElement("script");o.onreadystatechange=function(){A(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},p.document.documentElement.appendChild(o)}:function(){setTimeout(A,0)};else{var E=new p.MessageChannel;E.port1.onmessage=A,u=function(){E.port2.postMessage(0)}}var d=[];function A(){var o,_;a=!0;for(var i=d.length;i;){for(_=d,d=[],o=-1;++o<i;)_[o]();i=d.length}a=!1}y.exports=function(o){d.push(o)!==1||a||u()}}).call(this,typeof ut!="undefined"?ut:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(n,y,h){var p=n("immediate");function u(){}var a={},c=["REJECTED"],g=["FULFILLED"],l=["PENDING"];function v(i){if(typeof i!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,i!==u&&o(this,i)}function E(i,f,r){this.promise=i,typeof f=="function"&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled),typeof r=="function"&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(i,f,r){p(function(){var s;try{s=f(r)}catch(m){return a.reject(i,m)}s===i?a.reject(i,new TypeError("Cannot resolve promise with itself")):a.resolve(i,s)})}function A(i){var f=i&&i.then;if(i&&(typeof i=="object"||typeof i=="function")&&typeof f=="function")return function(){f.apply(i,arguments)}}function o(i,f){var r=!1;function s(T){r||(r=!0,a.reject(i,T))}function m(T){r||(r=!0,a.resolve(i,T))}var w=_(function(){f(m,s)});w.status==="error"&&s(w.value)}function _(i,f){var r={};try{r.value=i(f),r.status="success"}catch(s){r.status="error",r.value=s}return r}(y.exports=v).prototype.finally=function(i){if(typeof i!="function")return this;var f=this.constructor;return this.then(function(r){return f.resolve(i()).then(function(){return r})},function(r){return f.resolve(i()).then(function(){throw r})})},v.prototype.catch=function(i){return this.then(null,i)},v.prototype.then=function(i,f){if(typeof i!="function"&&this.state===g||typeof f!="function"&&this.state===c)return this;var r=new this.constructor(u);return this.state!==l?d(r,this.state===g?i:f,this.outcome):this.queue.push(new E(r,i,f)),r},E.prototype.callFulfilled=function(i){a.resolve(this.promise,i)},E.prototype.otherCallFulfilled=function(i){d(this.promise,this.onFulfilled,i)},E.prototype.callRejected=function(i){a.reject(this.promise,i)},E.prototype.otherCallRejected=function(i){d(this.promise,this.onRejected,i)},a.resolve=function(i,f){var r=_(A,f);if(r.status==="error")return a.reject(i,r.value);var s=r.value;if(s)o(i,s);else{i.state=g,i.outcome=f;for(var m=-1,w=i.queue.length;++m<w;)i.queue[m].callFulfilled(f)}return i},a.reject=function(i,f){i.state=c,i.outcome=f;for(var r=-1,s=i.queue.length;++r<s;)i.queue[r].callRejected(f);return i},v.resolve=function(i){return i instanceof this?i:a.resolve(new this(u),i)},v.reject=function(i){var f=new this(u);return a.reject(f,i)},v.all=function(i){var f=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=i.length,s=!1;if(!r)return this.resolve([]);for(var m=new Array(r),w=0,T=-1,D=new this(u);++T<r;)P(i[T],T);return D;function P(W,Q){f.resolve(W).then(function(I){m[Q]=I,++w!==r||s||(s=!0,a.resolve(D,m))},function(I){s||(s=!0,a.reject(D,I))})}},v.race=function(i){var f=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=i.length,s=!1;if(!r)return this.resolve([]);for(var m=-1,w=new this(u);++m<r;)T=i[m],f.resolve(T).then(function(D){s||(s=!0,a.resolve(w,D))},function(D){s||(s=!0,a.reject(w,D))});var T;return w}},{immediate:36}],38:[function(n,y,h){var p={};(0,n("./lib/utils/common").assign)(p,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),y.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,y,h){var p=n("./zlib/deflate"),u=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/messages"),g=n("./zlib/zstream"),l=Object.prototype.toString,v=0,E=-1,d=0,A=8;function o(i){if(!(this instanceof o))return new o(i);this.options=u.assign({level:E,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},i||{});var f=this.options;f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var r=p.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(r!==v)throw new Error(c[r]);if(f.header&&p.deflateSetHeader(this.strm,f.header),f.dictionary){var s;if(s=typeof f.dictionary=="string"?a.string2buf(f.dictionary):l.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(r=p.deflateSetDictionary(this.strm,s))!==v)throw new Error(c[r]);this._dict_set=!0}}function _(i,f){var r=new o(f);if(r.push(i,!0),r.err)throw r.msg||c[r.err];return r.result}o.prototype.push=function(i,f){var r,s,m=this.strm,w=this.options.chunkSize;if(this.ended)return!1;s=f===~~f?f:f===!0?4:0,typeof i=="string"?m.input=a.string2buf(i):l.call(i)==="[object ArrayBuffer]"?m.input=new Uint8Array(i):m.input=i,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new u.Buf8(w),m.next_out=0,m.avail_out=w),(r=p.deflate(m,s))!==1&&r!==v)return this.onEnd(r),!(this.ended=!0);m.avail_out!==0&&(m.avail_in!==0||s!==4&&s!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(u.shrinkBuf(m.output,m.next_out))):this.onData(u.shrinkBuf(m.output,m.next_out)))}while((0<m.avail_in||m.avail_out===0)&&r!==1);return s===4?(r=p.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===v):s!==2||(this.onEnd(v),!(m.avail_out=0))},o.prototype.onData=function(i){this.chunks.push(i)},o.prototype.onEnd=function(i){i===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},h.Deflate=o,h.deflate=_,h.deflateRaw=function(i,f){return(f=f||{}).raw=!0,_(i,f)},h.gzip=function(i,f){return(f=f||{}).gzip=!0,_(i,f)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,y,h){var p=n("./zlib/inflate"),u=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/constants"),g=n("./zlib/messages"),l=n("./zlib/zstream"),v=n("./zlib/gzheader"),E=Object.prototype.toString;function d(o){if(!(this instanceof d))return new d(o);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},o||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||o&&o.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=p.inflateInit2(this.strm,_.windowBits);if(i!==c.Z_OK)throw new Error(g[i]);this.header=new v,p.inflateGetHeader(this.strm,this.header)}function A(o,_){var i=new d(_);if(i.push(o,!0),i.err)throw i.msg||g[i.err];return i.result}d.prototype.push=function(o,_){var i,f,r,s,m,w,T=this.strm,D=this.options.chunkSize,P=this.options.dictionary,W=!1;if(this.ended)return!1;f=_===~~_?_:_===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof o=="string"?T.input=a.binstring2buf(o):E.call(o)==="[object ArrayBuffer]"?T.input=new Uint8Array(o):T.input=o,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new u.Buf8(D),T.next_out=0,T.avail_out=D),(i=p.inflate(T,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&P&&(w=typeof P=="string"?a.string2buf(P):E.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,i=p.inflateSetDictionary(this.strm,w)),i===c.Z_BUF_ERROR&&W===!0&&(i=c.Z_OK,W=!1),i!==c.Z_STREAM_END&&i!==c.Z_OK)return this.onEnd(i),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&i!==c.Z_STREAM_END&&(T.avail_in!==0||f!==c.Z_FINISH&&f!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(r=a.utf8border(T.output,T.next_out),s=T.next_out-r,m=a.buf2string(T.output,r),T.next_out=s,T.avail_out=D-s,s&&u.arraySet(T.output,T.output,r,s,0),this.onData(m)):this.onData(u.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(W=!0)}while((0<T.avail_in||T.avail_out===0)&&i!==c.Z_STREAM_END);return i===c.Z_STREAM_END&&(f=c.Z_FINISH),f===c.Z_FINISH?(i=p.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c.Z_OK):f!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(T.avail_out=0))},d.prototype.onData=function(o){this.chunks.push(o)},d.prototype.onEnd=function(o){o===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},h.Inflate=d,h.inflate=A,h.inflateRaw=function(o,_){return(_=_||{}).raw=!0,A(o,_)},h.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,y,h){var p=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";h.assign=function(c){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var l=g.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var v in l)l.hasOwnProperty(v)&&(c[v]=l[v])}}return c},h.shrinkBuf=function(c,g){return c.length===g?c:c.subarray?c.subarray(0,g):(c.length=g,c)};var u={arraySet:function(c,g,l,v,E){if(g.subarray&&c.subarray)c.set(g.subarray(l,l+v),E);else for(var d=0;d<v;d++)c[E+d]=g[l+d]},flattenChunks:function(c){var g,l,v,E,d,A;for(g=v=0,l=c.length;g<l;g++)v+=c[g].length;for(A=new Uint8Array(v),g=E=0,l=c.length;g<l;g++)d=c[g],A.set(d,E),E+=d.length;return A}},a={arraySet:function(c,g,l,v,E){for(var d=0;d<v;d++)c[E+d]=g[l+d]},flattenChunks:function(c){return[].concat.apply([],c)}};h.setTyped=function(c){c?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,u)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,a))},h.setTyped(p)},{}],42:[function(n,y,h){var p=n("./common"),u=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(v){u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(v){a=!1}for(var c=new p.Buf8(256),g=0;g<256;g++)c[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function l(v,E){if(E<65537&&(v.subarray&&a||!v.subarray&&u))return String.fromCharCode.apply(null,p.shrinkBuf(v,E));for(var d="",A=0;A<E;A++)d+=String.fromCharCode(v[A]);return d}c[254]=c[254]=1,h.string2buf=function(v){var E,d,A,o,_,i=v.length,f=0;for(o=0;o<i;o++)(64512&(d=v.charCodeAt(o)))==55296&&o+1<i&&(64512&(A=v.charCodeAt(o+1)))==56320&&(d=65536+(d-55296<<10)+(A-56320),o++),f+=d<128?1:d<2048?2:d<65536?3:4;for(E=new p.Buf8(f),o=_=0;_<f;o++)(64512&(d=v.charCodeAt(o)))==55296&&o+1<i&&(64512&(A=v.charCodeAt(o+1)))==56320&&(d=65536+(d-55296<<10)+(A-56320),o++),d<128?E[_++]=d:(d<2048?E[_++]=192|d>>>6:(d<65536?E[_++]=224|d>>>12:(E[_++]=240|d>>>18,E[_++]=128|d>>>12&63),E[_++]=128|d>>>6&63),E[_++]=128|63&d);return E},h.buf2binstring=function(v){return l(v,v.length)},h.binstring2buf=function(v){for(var E=new p.Buf8(v.length),d=0,A=E.length;d<A;d++)E[d]=v.charCodeAt(d);return E},h.buf2string=function(v,E){var d,A,o,_,i=E||v.length,f=new Array(2*i);for(d=A=0;d<i;)if((o=v[d++])<128)f[A++]=o;else if(4<(_=c[o]))f[A++]=65533,d+=_-1;else{for(o&=_===2?31:_===3?15:7;1<_&&d<i;)o=o<<6|63&v[d++],_--;1<_?f[A++]=65533:o<65536?f[A++]=o:(o-=65536,f[A++]=55296|o>>10&1023,f[A++]=56320|1023&o)}return l(f,A)},h.utf8border=function(v,E){var d;for((E=E||v.length)>v.length&&(E=v.length),d=E-1;0<=d&&(192&v[d])==128;)d--;return d<0||d===0?E:d+c[v[d]]>E?d:E}},{"./common":41}],43:[function(n,y,h){y.exports=function(p,u,a,c){for(var g=65535&p|0,l=p>>>16&65535|0,v=0;a!==0;){for(a-=v=2e3<a?2e3:a;l=l+(g=g+u[c++]|0)|0,--v;);g%=65521,l%=65521}return g|l<<16|0}},{}],44:[function(n,y,h){y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,y,h){var p=(function(){for(var u,a=[],c=0;c<256;c++){u=c;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;a[c]=u}return a})();y.exports=function(u,a,c,g){var l=p,v=g+c;u^=-1;for(var E=g;E<v;E++)u=u>>>8^l[255&(u^a[E])];return-1^u}},{}],46:[function(n,y,h){var p,u=n("../utils/common"),a=n("./trees"),c=n("./adler32"),g=n("./crc32"),l=n("./messages"),v=0,E=4,d=0,A=-2,o=-1,_=4,i=2,f=8,r=9,s=286,m=30,w=19,T=2*s+1,D=15,P=3,W=258,Q=W+P+1,I=42,F=113,e=1,C=2,G=3,N=4;function Y(t,U){return t.msg=l[U],U}function z(t){return(t<<1)-(4<t?9:0)}function Z(t){for(var U=t.length;0<=--U;)t[U]=0}function L(t){var U=t.state,B=U.pending;B>t.avail_out&&(B=t.avail_out),B!==0&&(u.arraySet(t.output,U.pending_buf,U.pending_out,B,t.next_out),t.next_out+=B,U.pending_out+=B,t.total_out+=B,t.avail_out-=B,U.pending-=B,U.pending===0&&(U.pending_out=0))}function x(t,U){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,U),t.block_start=t.strstart,L(t.strm)}function K(t,U){t.pending_buf[t.pending++]=U}function V(t,U){t.pending_buf[t.pending++]=U>>>8&255,t.pending_buf[t.pending++]=255&U}function q(t,U){var B,R,S=t.max_chain_length,O=t.strstart,M=t.prev_length,j=t.nice_match,$=t.strstart>t.w_size-Q?t.strstart-(t.w_size-Q):0,H=t.window,J=t.w_mask,X=t.prev,tt=t.strstart+W,st=H[O+M-1],rt=H[O+M];t.prev_length>=t.good_match&&(S>>=2),j>t.lookahead&&(j=t.lookahead);do if(H[(B=U)+M]===rt&&H[B+M-1]===st&&H[B]===H[O]&&H[++B]===H[O+1]){O+=2,B++;do;while(H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&H[++O]===H[++B]&&O<tt);if(R=W-(tt-O),O=tt-W,M<R){if(t.match_start=U,j<=(M=R))break;st=H[O+M-1],rt=H[O+M]}}while((U=X[U&J])>$&&--S!=0);return M<=t.lookahead?M:t.lookahead}function it(t){var U,B,R,S,O,M,j,$,H,J,X=t.w_size;do{if(S=t.window_size-t.lookahead-t.strstart,t.strstart>=X+(X-Q)){for(u.arraySet(t.window,t.window,X,X,0),t.match_start-=X,t.strstart-=X,t.block_start-=X,U=B=t.hash_size;R=t.head[--U],t.head[U]=X<=R?R-X:0,--B;);for(U=B=X;R=t.prev[--U],t.prev[U]=X<=R?R-X:0,--B;);S+=X}if(t.strm.avail_in===0)break;if(M=t.strm,j=t.window,$=t.strstart+t.lookahead,H=S,J=void 0,J=M.avail_in,H<J&&(J=H),B=J===0?0:(M.avail_in-=J,u.arraySet(j,M.input,M.next_in,J,$),M.state.wrap===1?M.adler=c(M.adler,j,J,$):M.state.wrap===2&&(M.adler=g(M.adler,j,J,$)),M.next_in+=J,M.total_in+=J,J),t.lookahead+=B,t.lookahead+t.insert>=P)for(O=t.strstart-t.insert,t.ins_h=t.window[O],t.ins_h=(t.ins_h<<t.hash_shift^t.window[O+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[O+P-1])&t.hash_mask,t.prev[O&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=O,O++,t.insert--,!(t.lookahead+t.insert<P)););}while(t.lookahead<Q&&t.strm.avail_in!==0)}function ht(t,U){for(var B,R;;){if(t.lookahead<Q){if(it(t),t.lookahead<Q&&U===v)return e;if(t.lookahead===0)break}if(B=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),B!==0&&t.strstart-B<=t.w_size-Q&&(t.match_length=q(t,B)),t.match_length>=P)if(R=a._tr_tally(t,t.strstart-t.match_start,t.match_length-P),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=P){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else R=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(R&&(x(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<P-1?t.strstart:P-1,U===E?(x(t,!0),t.strm.avail_out===0?G:N):t.last_lit&&(x(t,!1),t.strm.avail_out===0)?e:C}function et(t,U){for(var B,R,S;;){if(t.lookahead<Q){if(it(t),t.lookahead<Q&&U===v)return e;if(t.lookahead===0)break}if(B=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=P-1,B!==0&&t.prev_length<t.max_lazy_match&&t.strstart-B<=t.w_size-Q&&(t.match_length=q(t,B),t.match_length<=5&&(t.strategy===1||t.match_length===P&&4096<t.strstart-t.match_start)&&(t.match_length=P-1)),t.prev_length>=P&&t.match_length<=t.prev_length){for(S=t.strstart+t.lookahead-P,R=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-P),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=P-1,t.strstart++,R&&(x(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((R=a._tr_tally(t,0,t.window[t.strstart-1]))&&x(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(R=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<P-1?t.strstart:P-1,U===E?(x(t,!0),t.strm.avail_out===0?G:N):t.last_lit&&(x(t,!1),t.strm.avail_out===0)?e:C}function nt(t,U,B,R,S){this.good_length=t,this.max_lazy=U,this.nice_length=B,this.max_chain=R,this.func=S}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*T),this.dyn_dtree=new u.Buf16(2*(2*m+1)),this.bl_tree=new u.Buf16(2*(2*w+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(D+1),this.heap=new u.Buf16(2*s+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*s+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(t){var U;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=i,(U=t.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?I:F,t.adler=U.wrap===2?0:1,U.last_flush=v,a._tr_init(U),d):Y(t,A)}function Et(t){var U=at(t);return U===d&&(function(B){B.window_size=2*B.w_size,Z(B.head),B.max_lazy_match=p[B.level].max_lazy,B.good_match=p[B.level].good_length,B.nice_match=p[B.level].nice_length,B.max_chain_length=p[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=P-1,B.match_available=0,B.ins_h=0})(t.state),U}function yt(t,U,B,R,S,O){if(!t)return A;var M=1;if(U===o&&(U=6),R<0?(M=0,R=-R):15<R&&(M=2,R-=16),S<1||r<S||B!==f||R<8||15<R||U<0||9<U||O<0||_<O)return Y(t,A);R===8&&(R=9);var j=new ct;return(t.state=j).strm=t,j.wrap=M,j.gzhead=null,j.w_bits=R,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=S+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+P-1)/P),j.window=new u.Buf8(2*j.w_size),j.head=new u.Buf16(j.hash_size),j.prev=new u.Buf16(j.w_size),j.lit_bufsize=1<<S+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new u.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=U,j.strategy=O,j.method=B,Et(t)}p=[new nt(0,0,0,0,function(t,U){var B=65535;for(B>t.pending_buf_size-5&&(B=t.pending_buf_size-5);;){if(t.lookahead<=1){if(it(t),t.lookahead===0&&U===v)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var R=t.block_start+B;if((t.strstart===0||t.strstart>=R)&&(t.lookahead=t.strstart-R,t.strstart=R,x(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Q&&(x(t,!1),t.strm.avail_out===0))return e}return t.insert=0,U===E?(x(t,!0),t.strm.avail_out===0?G:N):(t.strstart>t.block_start&&(x(t,!1),t.strm.avail_out),e)}),new nt(4,4,8,4,ht),new nt(4,5,16,8,ht),new nt(4,6,32,32,ht),new nt(4,4,16,16,et),new nt(8,16,32,32,et),new nt(8,16,128,128,et),new nt(8,32,128,256,et),new nt(32,128,258,1024,et),new nt(32,258,258,4096,et)],h.deflateInit=function(t,U){return yt(t,U,f,15,8,0)},h.deflateInit2=yt,h.deflateReset=Et,h.deflateResetKeep=at,h.deflateSetHeader=function(t,U){return t&&t.state?t.state.wrap!==2?A:(t.state.gzhead=U,d):A},h.deflate=function(t,U){var B,R,S,O;if(!t||!t.state||5<U||U<0)return t?Y(t,A):A;if(R=t.state,!t.output||!t.input&&t.avail_in!==0||R.status===666&&U!==E)return Y(t,t.avail_out===0?-5:A);if(R.strm=t,B=R.last_flush,R.last_flush=U,R.status===I)if(R.wrap===2)t.adler=0,K(R,31),K(R,139),K(R,8),R.gzhead?(K(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),K(R,255&R.gzhead.time),K(R,R.gzhead.time>>8&255),K(R,R.gzhead.time>>16&255),K(R,R.gzhead.time>>24&255),K(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),K(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(K(R,255&R.gzhead.extra.length),K(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(t.adler=g(t.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(K(R,0),K(R,0),K(R,0),K(R,0),K(R,0),K(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),K(R,3),R.status=F);else{var M=f+(R.w_bits-8<<4)<<8;M|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(M|=32),M+=31-M%31,R.status=F,V(R,M),R.strstart!==0&&(V(R,t.adler>>>16),V(R,65535&t.adler)),t.adler=1}if(R.status===69)if(R.gzhead.extra){for(S=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),L(t),S=R.pending,R.pending!==R.pending_buf_size));)K(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){S=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),L(t),S=R.pending,R.pending===R.pending_buf_size)){O=1;break}O=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,K(R,O)}while(O!==0);R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),O===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){S=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),L(t),S=R.pending,R.pending===R.pending_buf_size)){O=1;break}O=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,K(R,O)}while(O!==0);R.gzhead.hcrc&&R.pending>S&&(t.adler=g(t.adler,R.pending_buf,R.pending-S,S)),O===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&L(t),R.pending+2<=R.pending_buf_size&&(K(R,255&t.adler),K(R,t.adler>>8&255),t.adler=0,R.status=F)):R.status=F),R.pending!==0){if(L(t),t.avail_out===0)return R.last_flush=-1,d}else if(t.avail_in===0&&z(U)<=z(B)&&U!==E)return Y(t,-5);if(R.status===666&&t.avail_in!==0)return Y(t,-5);if(t.avail_in!==0||R.lookahead!==0||U!==v&&R.status!==666){var j=R.strategy===2?(function($,H){for(var J;;){if($.lookahead===0&&(it($),$.lookahead===0)){if(H===v)return e;break}if($.match_length=0,J=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,J&&(x($,!1),$.strm.avail_out===0))return e}return $.insert=0,H===E?(x($,!0),$.strm.avail_out===0?G:N):$.last_lit&&(x($,!1),$.strm.avail_out===0)?e:C})(R,U):R.strategy===3?(function($,H){for(var J,X,tt,st,rt=$.window;;){if($.lookahead<=W){if(it($),$.lookahead<=W&&H===v)return e;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=P&&0<$.strstart&&(X=rt[tt=$.strstart-1])===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]){st=$.strstart+W;do;while(X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&X===rt[++tt]&&tt<st);$.match_length=W-(st-tt),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=P?(J=a._tr_tally($,1,$.match_length-P),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(J=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),J&&(x($,!1),$.strm.avail_out===0))return e}return $.insert=0,H===E?(x($,!0),$.strm.avail_out===0?G:N):$.last_lit&&(x($,!1),$.strm.avail_out===0)?e:C})(R,U):p[R.level].func(R,U);if(j!==G&&j!==N||(R.status=666),j===e||j===G)return t.avail_out===0&&(R.last_flush=-1),d;if(j===C&&(U===1?a._tr_align(R):U!==5&&(a._tr_stored_block(R,0,0,!1),U===3&&(Z(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),L(t),t.avail_out===0))return R.last_flush=-1,d}return U!==E?d:R.wrap<=0?1:(R.wrap===2?(K(R,255&t.adler),K(R,t.adler>>8&255),K(R,t.adler>>16&255),K(R,t.adler>>24&255),K(R,255&t.total_in),K(R,t.total_in>>8&255),K(R,t.total_in>>16&255),K(R,t.total_in>>24&255)):(V(R,t.adler>>>16),V(R,65535&t.adler)),L(t),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?d:1)},h.deflateEnd=function(t){var U;return t&&t.state?(U=t.state.status)!==I&&U!==69&&U!==73&&U!==91&&U!==103&&U!==F&&U!==666?Y(t,A):(t.state=null,U===F?Y(t,-3):d):A},h.deflateSetDictionary=function(t,U){var B,R,S,O,M,j,$,H,J=U.length;if(!t||!t.state||(O=(B=t.state).wrap)===2||O===1&&B.status!==I||B.lookahead)return A;for(O===1&&(t.adler=c(t.adler,U,J,0)),B.wrap=0,J>=B.w_size&&(O===0&&(Z(B.head),B.strstart=0,B.block_start=0,B.insert=0),H=new u.Buf8(B.w_size),u.arraySet(H,U,J-B.w_size,B.w_size,0),U=H,J=B.w_size),M=t.avail_in,j=t.next_in,$=t.input,t.avail_in=J,t.next_in=0,t.input=U,it(B);B.lookahead>=P;){for(R=B.strstart,S=B.lookahead-(P-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[R+P-1])&B.hash_mask,B.prev[R&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=R,R++,--S;);B.strstart=R,B.lookahead=P-1,it(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=P-1,B.match_available=0,t.next_in=j,t.input=$,t.avail_in=M,B.wrap=O,d},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,y,h){y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,y,h){y.exports=function(p,u){var a,c,g,l,v,E,d,A,o,_,i,f,r,s,m,w,T,D,P,W,Q,I,F,e,C;a=p.state,c=p.next_in,e=p.input,g=c+(p.avail_in-5),l=p.next_out,C=p.output,v=l-(u-p.avail_out),E=l+(p.avail_out-257),d=a.dmax,A=a.wsize,o=a.whave,_=a.wnext,i=a.window,f=a.hold,r=a.bits,s=a.lencode,m=a.distcode,w=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;t:do{r<15&&(f+=e[c++]<<r,r+=8,f+=e[c++]<<r,r+=8),D=s[f&w];e:for(;;){if(f>>>=P=D>>>24,r-=P,(P=D>>>16&255)===0)C[l++]=65535&D;else{if(!(16&P)){if((64&P)==0){D=s[(65535&D)+(f&(1<<P)-1)];continue e}if(32&P){a.mode=12;break t}p.msg="invalid literal/length code",a.mode=30;break t}W=65535&D,(P&=15)&&(r<P&&(f+=e[c++]<<r,r+=8),W+=f&(1<<P)-1,f>>>=P,r-=P),r<15&&(f+=e[c++]<<r,r+=8,f+=e[c++]<<r,r+=8),D=m[f&T];r:for(;;){if(f>>>=P=D>>>24,r-=P,!(16&(P=D>>>16&255))){if((64&P)==0){D=m[(65535&D)+(f&(1<<P)-1)];continue r}p.msg="invalid distance code",a.mode=30;break t}if(Q=65535&D,r<(P&=15)&&(f+=e[c++]<<r,(r+=8)<P&&(f+=e[c++]<<r,r+=8)),d<(Q+=f&(1<<P)-1)){p.msg="invalid distance too far back",a.mode=30;break t}if(f>>>=P,r-=P,(P=l-v)<Q){if(o<(P=Q-P)&&a.sane){p.msg="invalid distance too far back",a.mode=30;break t}if(F=i,(I=0)===_){if(I+=A-P,P<W){for(W-=P;C[l++]=i[I++],--P;);I=l-Q,F=C}}else if(_<P){if(I+=A+_-P,(P-=_)<W){for(W-=P;C[l++]=i[I++],--P;);if(I=0,_<W){for(W-=P=_;C[l++]=i[I++],--P;);I=l-Q,F=C}}}else if(I+=_-P,P<W){for(W-=P;C[l++]=i[I++],--P;);I=l-Q,F=C}for(;2<W;)C[l++]=F[I++],C[l++]=F[I++],C[l++]=F[I++],W-=3;W&&(C[l++]=F[I++],1<W&&(C[l++]=F[I++]))}else{for(I=l-Q;C[l++]=C[I++],C[l++]=C[I++],C[l++]=C[I++],2<(W-=3););W&&(C[l++]=C[I++],1<W&&(C[l++]=C[I++]))}break}}break}}while(c<g&&l<E);c-=W=r>>3,f&=(1<<(r-=W<<3))-1,p.next_in=c,p.next_out=l,p.avail_in=c<g?g-c+5:5-(c-g),p.avail_out=l<E?E-l+257:257-(l-E),a.hold=f,a.bits=r}},{}],49:[function(n,y,h){var p=n("../utils/common"),u=n("./adler32"),a=n("./crc32"),c=n("./inffast"),g=n("./inftrees"),l=1,v=2,E=0,d=-2,A=1,o=852,_=592;function i(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(I){var F;return I&&I.state?(F=I.state,I.total_in=I.total_out=F.total=0,I.msg="",F.wrap&&(I.adler=1&F.wrap),F.mode=A,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new p.Buf32(o),F.distcode=F.distdyn=new p.Buf32(_),F.sane=1,F.back=-1,E):d}function s(I){var F;return I&&I.state?((F=I.state).wsize=0,F.whave=0,F.wnext=0,r(I)):d}function m(I,F){var e,C;return I&&I.state?(C=I.state,F<0?(e=0,F=-F):(e=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?d:(C.window!==null&&C.wbits!==F&&(C.window=null),C.wrap=e,C.wbits=F,s(I))):d}function w(I,F){var e,C;return I?(C=new f,(I.state=C).window=null,(e=m(I,F))!==E&&(I.state=null),e):d}var T,D,P=!0;function W(I){if(P){var F;for(T=new p.Buf32(512),D=new p.Buf32(32),F=0;F<144;)I.lens[F++]=8;for(;F<256;)I.lens[F++]=9;for(;F<280;)I.lens[F++]=7;for(;F<288;)I.lens[F++]=8;for(g(l,I.lens,0,288,T,0,I.work,{bits:9}),F=0;F<32;)I.lens[F++]=5;g(v,I.lens,0,32,D,0,I.work,{bits:5}),P=!1}I.lencode=T,I.lenbits=9,I.distcode=D,I.distbits=5}function Q(I,F,e,C){var G,N=I.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new p.Buf8(N.wsize)),C>=N.wsize?(p.arraySet(N.window,F,e-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(C<(G=N.wsize-N.wnext)&&(G=C),p.arraySet(N.window,F,e-C,G,N.wnext),(C-=G)?(p.arraySet(N.window,F,e-C,C,0),N.wnext=C,N.whave=N.wsize):(N.wnext+=G,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=G))),0}h.inflateReset=s,h.inflateReset2=m,h.inflateResetKeep=r,h.inflateInit=function(I){return w(I,15)},h.inflateInit2=w,h.inflate=function(I,F){var e,C,G,N,Y,z,Z,L,x,K,V,q,it,ht,et,nt,ct,at,Et,yt,t,U,B,R,S=0,O=new p.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return d;(e=I.state).mode===12&&(e.mode=13),Y=I.next_out,G=I.output,Z=I.avail_out,N=I.next_in,C=I.input,z=I.avail_in,L=e.hold,x=e.bits,K=z,V=Z,U=E;t:for(;;)switch(e.mode){case A:if(e.wrap===0){e.mode=13;break}for(;x<16;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if(2&e.wrap&&L===35615){O[e.check=0]=255&L,O[1]=L>>>8&255,e.check=a(e.check,O,2,0),x=L=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&L)<<8)+(L>>8))%31){I.msg="incorrect header check",e.mode=30;break}if((15&L)!=8){I.msg="unknown compression method",e.mode=30;break}if(x-=4,t=8+(15&(L>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){I.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,I.adler=e.check=1,e.mode=512&L?10:12,x=L=0;break;case 2:for(;x<16;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if(e.flags=L,(255&e.flags)!=8){I.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){I.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=L>>8&1),512&e.flags&&(O[0]=255&L,O[1]=L>>>8&255,e.check=a(e.check,O,2,0)),x=L=0,e.mode=3;case 3:for(;x<32;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}e.head&&(e.head.time=L),512&e.flags&&(O[0]=255&L,O[1]=L>>>8&255,O[2]=L>>>16&255,O[3]=L>>>24&255,e.check=a(e.check,O,4,0)),x=L=0,e.mode=4;case 4:for(;x<16;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}e.head&&(e.head.xflags=255&L,e.head.os=L>>8),512&e.flags&&(O[0]=255&L,O[1]=L>>>8&255,e.check=a(e.check,O,2,0)),x=L=0,e.mode=5;case 5:if(1024&e.flags){for(;x<16;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}e.length=L,e.head&&(e.head.extra_len=L),512&e.flags&&(O[0]=255&L,O[1]=L>>>8&255,e.check=a(e.check,O,2,0)),x=L=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(z<(q=e.length)&&(q=z),q&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),p.arraySet(e.head.extra,C,N,q,t)),512&e.flags&&(e.check=a(e.check,C,q,N)),z-=q,N+=q,e.length-=q),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(z===0)break t;for(q=0;t=C[N+q++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&q<z;);if(512&e.flags&&(e.check=a(e.check,C,q,N)),z-=q,N+=q,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(z===0)break t;for(q=0;t=C[N+q++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&q<z;);if(512&e.flags&&(e.check=a(e.check,C,q,N)),z-=q,N+=q,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;x<16;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if(L!==(65535&e.check)){I.msg="header crc mismatch",e.mode=30;break}x=L=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),I.adler=e.check=0,e.mode=12;break;case 10:for(;x<32;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}I.adler=e.check=i(L),x=L=0,e.mode=11;case 11:if(e.havedict===0)return I.next_out=Y,I.avail_out=Z,I.next_in=N,I.avail_in=z,e.hold=L,e.bits=x,2;I.adler=e.check=1,e.mode=12;case 12:if(F===5||F===6)break t;case 13:if(e.last){L>>>=7&x,x-=7&x,e.mode=27;break}for(;x<3;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}switch(e.last=1&L,x-=1,3&(L>>>=1)){case 0:e.mode=14;break;case 1:if(W(e),e.mode=20,F!==6)break;L>>>=2,x-=2;break t;case 2:e.mode=17;break;case 3:I.msg="invalid block type",e.mode=30}L>>>=2,x-=2;break;case 14:for(L>>>=7&x,x-=7&x;x<32;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if((65535&L)!=(L>>>16^65535)){I.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&L,x=L=0,e.mode=15,F===6)break t;case 15:e.mode=16;case 16:if(q=e.length){if(z<q&&(q=z),Z<q&&(q=Z),q===0)break t;p.arraySet(G,C,N,q,Y),z-=q,N+=q,Z-=q,Y+=q,e.length-=q;break}e.mode=12;break;case 17:for(;x<14;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if(e.nlen=257+(31&L),L>>>=5,x-=5,e.ndist=1+(31&L),L>>>=5,x-=5,e.ncode=4+(15&L),L>>>=4,x-=4,286<e.nlen||30<e.ndist){I.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;x<3;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}e.lens[M[e.have++]]=7&L,L>>>=3,x-=3}for(;e.have<19;)e.lens[M[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,B={bits:e.lenbits},U=g(0,e.lens,0,19,e.lencode,0,e.work,B),e.lenbits=B.bits,U){I.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;nt=(S=e.lencode[L&(1<<e.lenbits)-1])>>>16&255,ct=65535&S,!((et=S>>>24)<=x);){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if(ct<16)L>>>=et,x-=et,e.lens[e.have++]=ct;else{if(ct===16){for(R=et+2;x<R;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if(L>>>=et,x-=et,e.have===0){I.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],q=3+(3&L),L>>>=2,x-=2}else if(ct===17){for(R=et+3;x<R;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}x-=et,t=0,q=3+(7&(L>>>=et)),L>>>=3,x-=3}else{for(R=et+7;x<R;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}x-=et,t=0,q=11+(127&(L>>>=et)),L>>>=7,x-=7}if(e.have+q>e.nlen+e.ndist){I.msg="invalid bit length repeat",e.mode=30;break}for(;q--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){I.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,B={bits:e.lenbits},U=g(l,e.lens,0,e.nlen,e.lencode,0,e.work,B),e.lenbits=B.bits,U){I.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,B={bits:e.distbits},U=g(v,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,B),e.distbits=B.bits,U){I.msg="invalid distances set",e.mode=30;break}if(e.mode=20,F===6)break t;case 20:e.mode=21;case 21:if(6<=z&&258<=Z){I.next_out=Y,I.avail_out=Z,I.next_in=N,I.avail_in=z,e.hold=L,e.bits=x,c(I,V),Y=I.next_out,G=I.output,Z=I.avail_out,N=I.next_in,C=I.input,z=I.avail_in,L=e.hold,x=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;nt=(S=e.lencode[L&(1<<e.lenbits)-1])>>>16&255,ct=65535&S,!((et=S>>>24)<=x);){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if(nt&&(240&nt)==0){for(at=et,Et=nt,yt=ct;nt=(S=e.lencode[yt+((L&(1<<at+Et)-1)>>at)])>>>16&255,ct=65535&S,!(at+(et=S>>>24)<=x);){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}L>>>=at,x-=at,e.back+=at}if(L>>>=et,x-=et,e.back+=et,e.length=ct,nt===0){e.mode=26;break}if(32&nt){e.back=-1,e.mode=12;break}if(64&nt){I.msg="invalid literal/length code",e.mode=30;break}e.extra=15&nt,e.mode=22;case 22:if(e.extra){for(R=e.extra;x<R;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}e.length+=L&(1<<e.extra)-1,L>>>=e.extra,x-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;nt=(S=e.distcode[L&(1<<e.distbits)-1])>>>16&255,ct=65535&S,!((et=S>>>24)<=x);){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if((240&nt)==0){for(at=et,Et=nt,yt=ct;nt=(S=e.distcode[yt+((L&(1<<at+Et)-1)>>at)])>>>16&255,ct=65535&S,!(at+(et=S>>>24)<=x);){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}L>>>=at,x-=at,e.back+=at}if(L>>>=et,x-=et,e.back+=et,64&nt){I.msg="invalid distance code",e.mode=30;break}e.offset=ct,e.extra=15&nt,e.mode=24;case 24:if(e.extra){for(R=e.extra;x<R;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}e.offset+=L&(1<<e.extra)-1,L>>>=e.extra,x-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){I.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(Z===0)break t;if(q=V-Z,e.offset>q){if((q=e.offset-q)>e.whave&&e.sane){I.msg="invalid distance too far back",e.mode=30;break}it=q>e.wnext?(q-=e.wnext,e.wsize-q):e.wnext-q,q>e.length&&(q=e.length),ht=e.window}else ht=G,it=Y-e.offset,q=e.length;for(Z<q&&(q=Z),Z-=q,e.length-=q;G[Y++]=ht[it++],--q;);e.length===0&&(e.mode=21);break;case 26:if(Z===0)break t;G[Y++]=e.length,Z--,e.mode=21;break;case 27:if(e.wrap){for(;x<32;){if(z===0)break t;z--,L|=C[N++]<<x,x+=8}if(V-=Z,I.total_out+=V,e.total+=V,V&&(I.adler=e.check=e.flags?a(e.check,G,V,Y-V):u(e.check,G,V,Y-V)),V=Z,(e.flags?L:i(L))!==e.check){I.msg="incorrect data check",e.mode=30;break}x=L=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;x<32;){if(z===0)break t;z--,L+=C[N++]<<x,x+=8}if(L!==(4294967295&e.total)){I.msg="incorrect length check",e.mode=30;break}x=L=0}e.mode=29;case 29:U=1;break t;case 30:U=-3;break t;case 31:return-4;case 32:default:return d}return I.next_out=Y,I.avail_out=Z,I.next_in=N,I.avail_in=z,e.hold=L,e.bits=x,(e.wsize||V!==I.avail_out&&e.mode<30&&(e.mode<27||F!==4))&&Q(I,I.output,I.next_out,V-I.avail_out)?(e.mode=31,-4):(K-=I.avail_in,V-=I.avail_out,I.total_in+=K,I.total_out+=V,e.total+=V,e.wrap&&V&&(I.adler=e.check=e.flags?a(e.check,G,V,I.next_out-V):u(e.check,G,V,I.next_out-V)),I.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(K==0&&V===0||F===4)&&U===E&&(U=-5),U)},h.inflateEnd=function(I){if(!I||!I.state)return d;var F=I.state;return F.window&&(F.window=null),I.state=null,E},h.inflateGetHeader=function(I,F){var e;return I&&I.state?(2&(e=I.state).wrap)==0?d:((e.head=F).done=!1,E):d},h.inflateSetDictionary=function(I,F){var e,C=F.length;return I&&I.state?(e=I.state).wrap!==0&&e.mode!==11?d:e.mode===11&&u(1,F,C,0)!==e.check?-3:Q(I,F,C,C)?(e.mode=31,-4):(e.havedict=1,E):d},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,y,h){var p=n("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];y.exports=function(l,v,E,d,A,o,_,i){var f,r,s,m,w,T,D,P,W,Q=i.bits,I=0,F=0,e=0,C=0,G=0,N=0,Y=0,z=0,Z=0,L=0,x=null,K=0,V=new p.Buf16(16),q=new p.Buf16(16),it=null,ht=0;for(I=0;I<=15;I++)V[I]=0;for(F=0;F<d;F++)V[v[E+F]]++;for(G=Q,C=15;1<=C&&V[C]===0;C--);if(C<G&&(G=C),C===0)return A[o++]=20971520,A[o++]=20971520,i.bits=1,0;for(e=1;e<C&&V[e]===0;e++);for(G<e&&(G=e),I=z=1;I<=15;I++)if(z<<=1,(z-=V[I])<0)return-1;if(0<z&&(l===0||C!==1))return-1;for(q[1]=0,I=1;I<15;I++)q[I+1]=q[I]+V[I];for(F=0;F<d;F++)v[E+F]!==0&&(_[q[v[E+F]]++]=F);if(T=l===0?(x=it=_,19):l===1?(x=u,K-=257,it=a,ht-=257,256):(x=c,it=g,-1),I=e,w=o,Y=F=L=0,s=-1,m=(Z=1<<(N=G))-1,l===1&&852<Z||l===2&&592<Z)return 1;for(;;){for(D=I-Y,W=_[F]<T?(P=0,_[F]):_[F]>T?(P=it[ht+_[F]],x[K+_[F]]):(P=96,0),f=1<<I-Y,e=r=1<<N;A[w+(L>>Y)+(r-=f)]=D<<24|P<<16|W|0,r!==0;);for(f=1<<I-1;L&f;)f>>=1;if(f!==0?(L&=f-1,L+=f):L=0,F++,--V[I]==0){if(I===C)break;I=v[E+_[F]]}if(G<I&&(L&m)!==s){for(Y===0&&(Y=G),w+=e,z=1<<(N=I-Y);N+Y<C&&!((z-=V[N+Y])<=0);)N++,z<<=1;if(Z+=1<<N,l===1&&852<Z||l===2&&592<Z)return 1;A[s=L&m]=G<<24|N<<16|w-o|0}}return L!==0&&(A[w+L]=I-Y<<24|64<<16|0),i.bits=G,0}},{"../utils/common":41}],51:[function(n,y,h){y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,y,h){var p=n("../utils/common"),u=0,a=1;function c(S){for(var O=S.length;0<=--O;)S[O]=0}var g=0,l=29,v=256,E=v+1+l,d=30,A=19,o=2*E+1,_=15,i=16,f=7,r=256,s=16,m=17,w=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(E+2));c(Q);var I=new Array(2*d);c(I);var F=new Array(512);c(F);var e=new Array(256);c(e);var C=new Array(l);c(C);var G,N,Y,z=new Array(d);function Z(S,O,M,j,$){this.static_tree=S,this.extra_bits=O,this.extra_base=M,this.elems=j,this.max_length=$,this.has_stree=S&&S.length}function L(S,O){this.dyn_tree=S,this.max_code=0,this.stat_desc=O}function x(S){return S<256?F[S]:F[256+(S>>>7)]}function K(S,O){S.pending_buf[S.pending++]=255&O,S.pending_buf[S.pending++]=O>>>8&255}function V(S,O,M){S.bi_valid>i-M?(S.bi_buf|=O<<S.bi_valid&65535,K(S,S.bi_buf),S.bi_buf=O>>i-S.bi_valid,S.bi_valid+=M-i):(S.bi_buf|=O<<S.bi_valid&65535,S.bi_valid+=M)}function q(S,O,M){V(S,M[2*O],M[2*O+1])}function it(S,O){for(var M=0;M|=1&S,S>>>=1,M<<=1,0<--O;);return M>>>1}function ht(S,O,M){var j,$,H=new Array(_+1),J=0;for(j=1;j<=_;j++)H[j]=J=J+M[j-1]<<1;for($=0;$<=O;$++){var X=S[2*$+1];X!==0&&(S[2*$]=it(H[X]++,X))}}function et(S){var O;for(O=0;O<E;O++)S.dyn_ltree[2*O]=0;for(O=0;O<d;O++)S.dyn_dtree[2*O]=0;for(O=0;O<A;O++)S.bl_tree[2*O]=0;S.dyn_ltree[2*r]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function nt(S){8<S.bi_valid?K(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function ct(S,O,M,j){var $=2*O,H=2*M;return S[$]<S[H]||S[$]===S[H]&&j[O]<=j[M]}function at(S,O,M){for(var j=S.heap[M],$=M<<1;$<=S.heap_len&&($<S.heap_len&&ct(O,S.heap[$+1],S.heap[$],S.depth)&&$++,!ct(O,j,S.heap[$],S.depth));)S.heap[M]=S.heap[$],M=$,$<<=1;S.heap[M]=j}function Et(S,O,M){var j,$,H,J,X=0;if(S.last_lit!==0)for(;j=S.pending_buf[S.d_buf+2*X]<<8|S.pending_buf[S.d_buf+2*X+1],$=S.pending_buf[S.l_buf+X],X++,j===0?q(S,$,O):(q(S,(H=e[$])+v+1,O),(J=T[H])!==0&&V(S,$-=C[H],J),q(S,H=x(--j),M),(J=D[H])!==0&&V(S,j-=z[H],J)),X<S.last_lit;);q(S,r,O)}function yt(S,O){var M,j,$,H=O.dyn_tree,J=O.stat_desc.static_tree,X=O.stat_desc.has_stree,tt=O.stat_desc.elems,st=-1;for(S.heap_len=0,S.heap_max=o,M=0;M<tt;M++)H[2*M]!==0?(S.heap[++S.heap_len]=st=M,S.depth[M]=0):H[2*M+1]=0;for(;S.heap_len<2;)H[2*($=S.heap[++S.heap_len]=st<2?++st:0)]=1,S.depth[$]=0,S.opt_len--,X&&(S.static_len-=J[2*$+1]);for(O.max_code=st,M=S.heap_len>>1;1<=M;M--)at(S,H,M);for($=tt;M=S.heap[1],S.heap[1]=S.heap[S.heap_len--],at(S,H,1),j=S.heap[1],S.heap[--S.heap_max]=M,S.heap[--S.heap_max]=j,H[2*$]=H[2*M]+H[2*j],S.depth[$]=(S.depth[M]>=S.depth[j]?S.depth[M]:S.depth[j])+1,H[2*M+1]=H[2*j+1]=$,S.heap[1]=$++,at(S,H,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],(function(rt,mt){var zt,St,Dt,ot,Wt,He,At=mt.dyn_tree,un=mt.max_code,gi=mt.stat_desc.static_tree,_i=mt.stat_desc.has_stree,vi=mt.stat_desc.extra_bits,ln=mt.stat_desc.extra_base,Pt=mt.stat_desc.max_length,Zt=0;for(ot=0;ot<=_;ot++)rt.bl_count[ot]=0;for(At[2*rt.heap[rt.heap_max]+1]=0,zt=rt.heap_max+1;zt<o;zt++)Pt<(ot=At[2*At[2*(St=rt.heap[zt])+1]+1]+1)&&(ot=Pt,Zt++),At[2*St+1]=ot,un<St||(rt.bl_count[ot]++,Wt=0,ln<=St&&(Wt=vi[St-ln]),He=At[2*St],rt.opt_len+=He*(ot+Wt),_i&&(rt.static_len+=He*(gi[2*St+1]+Wt)));if(Zt!==0){do{for(ot=Pt-1;rt.bl_count[ot]===0;)ot--;rt.bl_count[ot]--,rt.bl_count[ot+1]+=2,rt.bl_count[Pt]--,Zt-=2}while(0<Zt);for(ot=Pt;ot!==0;ot--)for(St=rt.bl_count[ot];St!==0;)un<(Dt=rt.heap[--zt])||(At[2*Dt+1]!==ot&&(rt.opt_len+=(ot-At[2*Dt+1])*At[2*Dt],At[2*Dt+1]=ot),St--)}})(S,O),ht(H,st,S.bl_count)}function t(S,O,M){var j,$,H=-1,J=O[1],X=0,tt=7,st=4;for(J===0&&(tt=138,st=3),O[2*(M+1)+1]=65535,j=0;j<=M;j++)$=J,J=O[2*(j+1)+1],++X<tt&&$===J||(X<st?S.bl_tree[2*$]+=X:$!==0?($!==H&&S.bl_tree[2*$]++,S.bl_tree[2*s]++):X<=10?S.bl_tree[2*m]++:S.bl_tree[2*w]++,H=$,st=(X=0)===J?(tt=138,3):$===J?(tt=6,3):(tt=7,4))}function U(S,O,M){var j,$,H=-1,J=O[1],X=0,tt=7,st=4;for(J===0&&(tt=138,st=3),j=0;j<=M;j++)if($=J,J=O[2*(j+1)+1],!(++X<tt&&$===J)){if(X<st)for(;q(S,$,S.bl_tree),--X!=0;);else $!==0?($!==H&&(q(S,$,S.bl_tree),X--),q(S,s,S.bl_tree),V(S,X-3,2)):X<=10?(q(S,m,S.bl_tree),V(S,X-3,3)):(q(S,w,S.bl_tree),V(S,X-11,7));H=$,st=(X=0)===J?(tt=138,3):$===J?(tt=6,3):(tt=7,4)}}c(z);var B=!1;function R(S,O,M,j){V(S,(g<<1)+(j?1:0),3),(function($,H,J,X){nt($),K($,J),K($,~J),p.arraySet($.pending_buf,$.window,H,J,$.pending),$.pending+=J})(S,O,M)}h._tr_init=function(S){B||((function(){var O,M,j,$,H,J=new Array(_+1);for($=j=0;$<l-1;$++)for(C[$]=j,O=0;O<1<<T[$];O++)e[j++]=$;for(e[j-1]=$,$=H=0;$<16;$++)for(z[$]=H,O=0;O<1<<D[$];O++)F[H++]=$;for(H>>=7;$<d;$++)for(z[$]=H<<7,O=0;O<1<<D[$]-7;O++)F[256+H++]=$;for(M=0;M<=_;M++)J[M]=0;for(O=0;O<=143;)Q[2*O+1]=8,O++,J[8]++;for(;O<=255;)Q[2*O+1]=9,O++,J[9]++;for(;O<=279;)Q[2*O+1]=7,O++,J[7]++;for(;O<=287;)Q[2*O+1]=8,O++,J[8]++;for(ht(Q,E+1,J),O=0;O<d;O++)I[2*O+1]=5,I[2*O]=it(O,5);G=new Z(Q,T,v+1,E,_),N=new Z(I,D,0,d,_),Y=new Z(new Array(0),P,0,A,f)})(),B=!0),S.l_desc=new L(S.dyn_ltree,G),S.d_desc=new L(S.dyn_dtree,N),S.bl_desc=new L(S.bl_tree,Y),S.bi_buf=0,S.bi_valid=0,et(S)},h._tr_stored_block=R,h._tr_flush_block=function(S,O,M,j){var $,H,J=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=(function(X){var tt,st=4093624447;for(tt=0;tt<=31;tt++,st>>>=1)if(1&st&&X.dyn_ltree[2*tt]!==0)return u;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return a;for(tt=32;tt<v;tt++)if(X.dyn_ltree[2*tt]!==0)return a;return u})(S)),yt(S,S.l_desc),yt(S,S.d_desc),J=(function(X){var tt;for(t(X,X.dyn_ltree,X.l_desc.max_code),t(X,X.dyn_dtree,X.d_desc.max_code),yt(X,X.bl_desc),tt=A-1;3<=tt&&X.bl_tree[2*W[tt]+1]===0;tt--);return X.opt_len+=3*(tt+1)+5+5+4,tt})(S),$=S.opt_len+3+7>>>3,(H=S.static_len+3+7>>>3)<=$&&($=H)):$=H=M+5,M+4<=$&&O!==-1?R(S,O,M,j):S.strategy===4||H===$?(V(S,2+(j?1:0),3),Et(S,Q,I)):(V(S,4+(j?1:0),3),(function(X,tt,st,rt){var mt;for(V(X,tt-257,5),V(X,st-1,5),V(X,rt-4,4),mt=0;mt<rt;mt++)V(X,X.bl_tree[2*W[mt]+1],3);U(X,X.dyn_ltree,tt-1),U(X,X.dyn_dtree,st-1)})(S,S.l_desc.max_code+1,S.d_desc.max_code+1,J+1),Et(S,S.dyn_ltree,S.dyn_dtree)),et(S),j&&nt(S)},h._tr_tally=function(S,O,M){return S.pending_buf[S.d_buf+2*S.last_lit]=O>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&O,S.pending_buf[S.l_buf+S.last_lit]=255&M,S.last_lit++,O===0?S.dyn_ltree[2*M]++:(S.matches++,O--,S.dyn_ltree[2*(e[M]+v+1)]++,S.dyn_dtree[2*x(O)]++),S.last_lit===S.lit_bufsize-1},h._tr_align=function(S){V(S,2,3),q(S,r,Q),(function(O){O.bi_valid===16?(K(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)})(S)}},{"../utils/common":41}],53:[function(n,y,h){y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,y,h){(function(p){(function(u,a){if(!u.setImmediate){var c,g,l,v,E=1,d={},A=!1,o=u.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(u);_=_&&_.setTimeout?_:u,c={}.toString.call(u.process)==="[object process]"?function(s){process.nextTick(function(){f(s)})}:(function(){if(u.postMessage&&!u.importScripts){var s=!0,m=u.onmessage;return u.onmessage=function(){s=!1},u.postMessage("","*"),u.onmessage=m,s}})()?(v="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",r,!1):u.attachEvent("onmessage",r),function(s){u.postMessage(v+s,"*")}):u.MessageChannel?((l=new MessageChannel).port1.onmessage=function(s){f(s.data)},function(s){l.port2.postMessage(s)}):o&&"onreadystatechange"in o.createElement("script")?(g=o.documentElement,function(s){var m=o.createElement("script");m.onreadystatechange=function(){f(s),m.onreadystatechange=null,g.removeChild(m),m=null},g.appendChild(m)}):function(s){setTimeout(f,0,s)},_.setImmediate=function(s){typeof s!="function"&&(s=new Function(""+s));for(var m=new Array(arguments.length-1),w=0;w<m.length;w++)m[w]=arguments[w+1];var T={callback:s,args:m};return d[E]=T,c(E),E++},_.clearImmediate=i}function i(s){delete d[s]}function f(s){if(A)setTimeout(f,0,s);else{var m=d[s];if(m){A=!0;try{(function(w){var T=w.callback,D=w.args;switch(D.length){case 0:T();break;case 1:T(D[0]);break;case 2:T(D[0],D[1]);break;case 3:T(D[0],D[1],D[2]);break;default:T.apply(a,D)}})(m)}finally{i(s),A=!1}}}}function r(s){s.source===u&&typeof s.data=="string"&&s.data.indexOf(v)===0&&f(+s.data.slice(v.length))}})(typeof self=="undefined"?p===void 0?this:p:self)}).call(this,typeof ut!="undefined"?ut:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(We)),We.exports}var ri=ei();const Qr=lt(ri),$t=je("yascml-mods","yascml-mods"),tn=b=>Yr(b,$t),ni=()=>Kr($t),ii=(b,k)=>Rt(null,null,function*(){return(yield tn(b))?Xr(b,()=>k,$t):Hr(b,k,$t)}),si=b=>Vr(b,$t),en="yascml-settings",Ze=(b=>b?JSON.parse(b):{disabledMods:[],saveMode:!1})(localStorage.getItem(en)),rn=()=>localStorage.setItem(en,JSON.stringify(Ze)),Nt=b=>Ze[b],nn=(b,k)=>(Ze[b]=k,rn());rn();const ai=b=>{const k=Nt("disabledMods");if(k.findIndex(n=>n===b)===-1)return nn("disabledMods",[...k,b])},sn=b=>{const k=Nt("disabledMods");if(k.findIndex(n=>n===b)!==-1)return nn("disabledMods",k.filter(n=>n!==b))},an=(b,k)=>Rt(null,null,function*(){const n=yield Qr.loadAsync(b);if(!n.file("meta.json"))throw new Error('"meta.json" not found in mod file, is this a valid mod file?');const y=yield n.file("meta.json").async("text"),h=JSON.parse(y);if(!jn(h))throw new Error('Invalid format of "meta.json"');const p=hn(Xe({},h),{enabled:!0,embedded:!1,suitable:!0,new:!1,updated:!1,deleted:!1,md5:""});k&&(p.zip=n);try{p.md5=yield Gn(b)}catch(u){console.warn(`Failed to get MD5 for mod: ${p.id}, using empty string`),console.error(u)}return p}),oi=(b,k)=>fetch(b).then(n=>n.blob()).then(n=>an(n,k)),Ye=(b,k=!1)=>typeof b=="string"?oi(b,k):an(b,k),ui=b=>Rt(null,null,function*(){const k=yield Ye(b);ii(k.id,b);const n=window.YASCML.mods.findIndex(y=>y.id===k.id);n===-1?(k.new=!0,window.YASCML.mods.push(k)):(k.updated=!0,window.YASCML.mods.splice(n,1,k)),qt("$modadded",{mod:k})}),li=b=>Rt(null,null,function*(){const k=window.YASCML.mods.findIndex(y=>y.id===b);if(k===-1)throw new Error(`Cannot find mod ID: ${b}`);yield si(b),sn(b);const n=window.YASCML.mods[k];n.deleted=!0,qt("$modremoved",{mod:n})}),ci=b=>{const k=window.YASCML.mods.findIndex(n=>n.id===b);if(k===-1)throw new Error(`Cannot find mod ID: ${b}`);sn(b),window.YASCML.mods[k].enabled=!0,qt("$modenabled",{mod:window.YASCML.mods[k]})},fi=b=>{const k=window.YASCML.mods.findIndex(n=>n.id===b);if(k===-1)throw new Error(`Cannot find mod ID: ${b}`);ai(b),window.YASCML.mods[k].enabled=!1,qt("$moddisabled",{mod:window.YASCML.mods[k]})},on=b=>{const k=window.YASCML.mods.findIndex(n=>n.id===b);if(k===-1)throw new Error(`Cannot find mod ID: ${b}`);return window.YASCML.mods[k]},hi={mod:{add:ui,remove:li,enable:ci,disable:fi,get:on,releaseFiles:b=>{const k=on(b);k.zip&&delete k.zip}}},di=()=>Rt(null,null,function*(){vt("Preparing loader..."),window.JSZip||(window.JSZip=Qr),window.idbKeyval||(window.idbKeyval=ti),Object.defineProperty(window,"YASCML",{configurable:!1,value:Object.seal(Object.assign(Object.create(null),{version:"1.0.0",mods:[],api:hi,stats:{gameName:Zn(document.querySelector("tw-storydata").getAttribute("name")),isLoaderInit:!1,isEngineInit:!1}}))});{vt("Loading imported mods...");const b=yield ni();for(let k=0;k<b.length;k++){const n=b[k];vt(`Loading imported mods... (${k+1}/${b.length})[${n}]`);try{const y=yield tn(n),h=yield Ye(y,!0);window.YASCML.mods.push(h)}catch(y){console.warn(`Error when loading mod: ${n}, skipping...`),console.error(y)}}}if(window.YASCMLConfig&&window.YASCMLConfig.embedModPath){vt("Loading embedded mods...");const b=window.YASCMLConfig.embedModPath;for(let k=0;k<b.length;k++){const n=b[k];vt(`Loading embedded mods... (${k+1}/${b.length})${n.length<=200?`[${n}]`:""}`);try{const y=yield Ye(n,!0);if(window.YASCML.mods.findIndex(h=>h.id===y.id)!==-1)continue;y.embedded=!0,window.YASCML.mods.push(y)}catch(y){console.warn(`Error when loading embed mod: ${n}, skipping...`),console.error(y)}}}window.YASCML.mods.sort(qn);for(const b of Nt("disabledMods")){const k=window.YASCML.mods.findIndex(n=>n.id===b);k!==-1&&(window.YASCML.mods[k].enabled=!1)}for(const b of window.YASCML.mods)b.suitable=Wn(b);window.YASCML.stats.isLoaderInit=!0}),pi=()=>Rt(null,null,function*(){if(Nt("saveMode"))return;vt("Loading preload scripts...");const b=window.YASCML.mods;for(let k=0;k<b.length;k++){const n=b[k];if(vt(`Loading preload scripts... (${k+1}/${b.length})[${n.id}]`),!(!n.enabled||!n.suitable)){if(window.__AfterInit=[],n.cssFiles)for(const y of n.cssFiles){const h=n.zip.file(y);if(!h){console.warn(`Cannot find file "${y}", skipping...`);continue}Wr(yield h.async("blob"),{modId:n.id,filename:y})}if(n.preloadScripts){for(const y of n.preloadScripts){const h=n.zip.file(y);if(!h){console.warn(`Cannot find file "${y}", skipping...`);return}yield Gr(yield h.async("blob"),{meta:{modId:n.id,filename:y,timing:"preload"}})}if(window.__AfterInit.length>0)for(const y of window.__AfterInit)yield Promise.resolve(y())}}}}),mi=()=>Rt(null,null,function*(){if(Nt("saveMode"))return;vt("Loading postload scripts...");const b=window.YASCML.mods;for(let k=0;k<b.length;k++){const n=b[k];if(vt(`Loading postload scripts... (${k+1}/${b.length})[${n.id}]`),!(!n.enabled||!n.suitable)&&(window.__AfterInit=[],n.postloadScripts)){for(const y of n.postloadScripts){const h=n.zip.file(y);if(!h){console.warn(`Cannot find file "${y}", skipping...`);return}yield Gr(yield h.async("blob"),{meta:{modId:n.id,filename:y,timing:"preload"}})}if(window.__AfterInit.length>0)for(const y of window.__AfterInit)yield Promise.resolve(y())}}});if(document.querySelector("#script-sugarcube")||window.SugarCube!=null)throw new Error("The SugarCube engine already initialized! Aborting...");if(window.YASCML!=null)throw new Error("Another YASCML is running! Aborting...");if(window.Reflect==null)throw new Error("Your browser is too old! Upgrade your browser to use YASCML");window.addEventListener("DOMContentLoaded",()=>Rt(null,null,function*(){if(window.__SUGARCUBE_PATCHER&&(yield Promise.resolve(window.__SUGARCUBE_PATCHER())),!window.$SugarCube)throw new Error("You are running YASCML on a original SugarCube engine! Please patch the engine first.");const b=window.SugarCube,k=window.$SugarCube;if(!b)throw new Error("SugarCube not loaded properly!");Yn();const n=k.LoadScreen.lock();k.LoadScreen.init(),yield di(),ft(b.UIBar,"init",{value(){this.$init();const y=document.querySelector("#menu"),h=document.createElement("ul");h.id="menu-yascml",y.appendChild(h)}}),document.normalize&&document.normalize(),pi().then(()=>(vt("Loading game engine..."),Promise.resolve(k.$init.initEngine()))).then(()=>mi()).then(()=>{var y;delete window.__AfterInit,window.YASCML.stats.isEngineInit=!0,vt("Starting game..."),setTimeout(()=>{Zr(),k.LoadScreen.unlock(n)},((y=b.Engine.DOM_DELAY)!=null?y:b.Engine.minDomActionDelay)*2)}).catch(y=>(console.error(y),Zr(),k.LoadScreen.clear(),k.Alert.fatal(null,y.message)))}))}));
